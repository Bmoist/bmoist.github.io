var dR=Object.defineProperty;var pR=(t,e,n)=>e in t?dR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ke=(t,e,n)=>pR(t,typeof e!="symbol"?e+"":e,n);function mR(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var yr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var J1={exports:{}},Lh={},ex={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $l=Symbol.for("react.element"),gR=Symbol.for("react.portal"),yR=Symbol.for("react.fragment"),vR=Symbol.for("react.strict_mode"),_R=Symbol.for("react.profiler"),wR=Symbol.for("react.provider"),xR=Symbol.for("react.context"),bR=Symbol.for("react.forward_ref"),SR=Symbol.for("react.suspense"),kR=Symbol.for("react.memo"),CR=Symbol.for("react.lazy"),O_=Symbol.iterator;function TR(t){return t===null||typeof t!="object"?null:(t=O_&&t[O_]||t["@@iterator"],typeof t=="function"?t:null)}var tx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nx=Object.assign,ix={};function va(t,e,n){this.props=t,this.context=e,this.refs=ix,this.updater=n||tx}va.prototype.isReactComponent={};va.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};va.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rx(){}rx.prototype=va.prototype;function lg(t,e,n){this.props=t,this.context=e,this.refs=ix,this.updater=n||tx}var cg=lg.prototype=new rx;cg.constructor=lg;nx(cg,va.prototype);cg.isPureReactComponent=!0;var D_=Array.isArray,sx=Object.prototype.hasOwnProperty,ug={current:null},ox={key:!0,ref:!0,__self:!0,__source:!0};function ax(t,e,n){var i,r={},s=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)sx.call(e,i)&&!ox.hasOwnProperty(i)&&(r[i]=e[i]);var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){for(var u=Array(c),h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}if(t&&t.defaultProps)for(i in c=t.defaultProps,c)r[i]===void 0&&(r[i]=c[i]);return{$$typeof:$l,type:t,key:s,ref:a,props:r,_owner:ug.current}}function ER(t,e){return{$$typeof:$l,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hg(t){return typeof t=="object"&&t!==null&&t.$$typeof===$l}function NR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var L_=/\/+/g;function Kd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NR(""+t.key):e.toString(36)}function ku(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case $l:case gR:a=!0}}if(a)return a=t,r=r(a),t=i===""?"."+Kd(a,0):i,D_(r)?(n="",t!=null&&(n=t.replace(L_,"$&/")+"/"),ku(r,e,n,"",function(h){return h})):r!=null&&(hg(r)&&(r=ER(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(L_,"$&/")+"/")+t)),e.push(r)),1;if(a=0,i=i===""?".":i+":",D_(t))for(var c=0;c<t.length;c++){s=t[c];var u=i+Kd(s,c);a+=ku(s,e,n,u,r)}else if(u=TR(t),typeof u=="function")for(t=u.call(t),c=0;!(s=t.next()).done;)s=s.value,u=i+Kd(s,c++),a+=ku(s,e,n,u,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function tu(t,e,n){if(t==null)return t;var i=[],r=0;return ku(t,i,"","",function(s){return e.call(n,s,r++)}),i}function AR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pn={current:null},Cu={transition:null},PR={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:Cu,ReactCurrentOwner:ug};function lx(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:tu,forEach:function(t,e,n){tu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return tu(t,function(){e++}),e},toArray:function(t){return tu(t,function(e){return e})||[]},only:function(t){if(!hg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ne.Component=va;Ne.Fragment=yR;Ne.Profiler=_R;Ne.PureComponent=lg;Ne.StrictMode=vR;Ne.Suspense=SR;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PR;Ne.act=lx;Ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=nx({},t.props),r=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=ug.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)sx.call(e,u)&&!ox.hasOwnProperty(u)&&(i[u]=e[u]===void 0&&c!==void 0?c[u]:e[u])}var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];i.children=c}return{$$typeof:$l,type:t.type,key:r,ref:s,props:i,_owner:a}};Ne.createContext=function(t){return t={$$typeof:xR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wR,_context:t},t.Consumer=t};Ne.createElement=ax;Ne.createFactory=function(t){var e=ax.bind(null,t);return e.type=t,e};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(t){return{$$typeof:bR,render:t}};Ne.isValidElement=hg;Ne.lazy=function(t){return{$$typeof:CR,_payload:{_status:-1,_result:t},_init:AR}};Ne.memo=function(t,e){return{$$typeof:kR,type:t,compare:e===void 0?null:e}};Ne.startTransition=function(t){var e=Cu.transition;Cu.transition={};try{t()}finally{Cu.transition=e}};Ne.unstable_act=lx;Ne.useCallback=function(t,e){return pn.current.useCallback(t,e)};Ne.useContext=function(t){return pn.current.useContext(t)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(t){return pn.current.useDeferredValue(t)};Ne.useEffect=function(t,e){return pn.current.useEffect(t,e)};Ne.useId=function(){return pn.current.useId()};Ne.useImperativeHandle=function(t,e,n){return pn.current.useImperativeHandle(t,e,n)};Ne.useInsertionEffect=function(t,e){return pn.current.useInsertionEffect(t,e)};Ne.useLayoutEffect=function(t,e){return pn.current.useLayoutEffect(t,e)};Ne.useMemo=function(t,e){return pn.current.useMemo(t,e)};Ne.useReducer=function(t,e,n){return pn.current.useReducer(t,e,n)};Ne.useRef=function(t){return pn.current.useRef(t)};Ne.useState=function(t){return pn.current.useState(t)};Ne.useSyncExternalStore=function(t,e,n){return pn.current.useSyncExternalStore(t,e,n)};Ne.useTransition=function(){return pn.current.useTransition()};Ne.version="18.3.1";ex.exports=Ne;var G=ex.exports;const Ws=Dh(G),IR=mR({__proto__:null,default:Ws},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RR=G,MR=Symbol.for("react.element"),OR=Symbol.for("react.fragment"),DR=Object.prototype.hasOwnProperty,LR=RR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FR={key:!0,ref:!0,__self:!0,__source:!0};function cx(t,e,n){var i,r={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)DR.call(e,i)&&!FR.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:MR,type:t,key:s,ref:a,props:r,_owner:LR.current}}Lh.Fragment=OR;Lh.jsx=cx;Lh.jsxs=cx;J1.exports=Lh;var _=J1.exports,ux={exports:{}},Yn={},hx={exports:{}},fx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,Y){var X=$.length;$.push(Y);e:for(;0<X;){var Q=X-1>>>1,pe=$[Q];if(0<r(pe,Y))$[Q]=Y,$[X]=pe,X=Q;else break e}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var Y=$[0],X=$.pop();if(X!==Y){$[0]=X;e:for(var Q=0,pe=$.length,St=pe>>>1;Q<St;){var st=2*(Q+1)-1,ge=$[st],Te=st+1,dt=$[Te];if(0>r(ge,X))Te<pe&&0>r(dt,ge)?($[Q]=dt,$[Te]=X,Q=Te):($[Q]=ge,$[st]=X,Q=st);else if(Te<pe&&0>r(dt,X))$[Q]=dt,$[Te]=X,Q=Te;else break e}}return Y}function r($,Y){var X=$.sortIndex-Y.sortIndex;return X!==0?X:$.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],h=[],d=1,p=null,g=3,y=!1,w=!1,b=!1,T=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k($){for(var Y=n(h);Y!==null;){if(Y.callback===null)i(h);else if(Y.startTime<=$)i(h),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=n(h)}}function A($){if(b=!1,k($),!w)if(n(u)!==null)w=!0,re(N);else{var Y=n(h);Y!==null&&ne(A,Y.startTime-$)}}function N($,Y){w=!1,b&&(b=!1,v(I),I=-1),y=!0;var X=g;try{for(k(Y),p=n(u);p!==null&&(!(p.expirationTime>Y)||$&&!W());){var Q=p.callback;if(typeof Q=="function"){p.callback=null,g=p.priorityLevel;var pe=Q(p.expirationTime<=Y);Y=t.unstable_now(),typeof pe=="function"?p.callback=pe:p===n(u)&&i(u),k(Y)}else i(u);p=n(u)}if(p!==null)var St=!0;else{var st=n(h);st!==null&&ne(A,st.startTime-Y),St=!1}return St}finally{p=null,g=X,y=!1}}var R=!1,M=null,I=-1,j=5,z=-1;function W(){return!(t.unstable_now()-z<j)}function q(){if(M!==null){var $=t.unstable_now();z=$;var Y=!0;try{Y=M(!0,$)}finally{Y?Z():(R=!1,M=null)}}else R=!1}var Z;if(typeof S=="function")Z=function(){S(q)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ce=te.port2;te.port1.onmessage=q,Z=function(){ce.postMessage(null)}}else Z=function(){T(q,0)};function re($){M=$,R||(R=!0,Z())}function ne($,Y){I=T(function(){$(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,re(N))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function($){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var X=g;g=Y;try{return $()}finally{g=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Y){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var X=g;g=$;try{return Y()}finally{g=X}},t.unstable_scheduleCallback=function($,Y,X){var Q=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Q+X:Q):X=Q,$){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=X+pe,$={id:d++,callback:Y,priorityLevel:$,startTime:X,expirationTime:pe,sortIndex:-1},X>Q?($.sortIndex=X,e(h,$),n(u)===null&&$===n(h)&&(b?(v(I),I=-1):b=!0,ne(A,X-Q))):($.sortIndex=pe,e(u,$),w||y||(w=!0,re(N))),$},t.unstable_shouldYield=W,t.unstable_wrapCallback=function($){var Y=g;return function(){var X=g;g=Y;try{return $.apply(this,arguments)}finally{g=X}}}})(fx);hx.exports=fx;var zR=hx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jR=G,Gn=zR;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dx=new Set,vl={};function to(t,e){na(t,e),na(t+"Capture",e)}function na(t,e){for(vl[t]=e,t=0;t<e.length;t++)dx.add(e[t])}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qp=Object.prototype.hasOwnProperty,BR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,F_={},z_={};function WR(t){return qp.call(z_,t)?!0:qp.call(F_,t)?!1:BR.test(t)?z_[t]=!0:(F_[t]=!0,!1)}function VR(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function UR(t,e,n,i){if(e===null||typeof e>"u"||VR(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mn(t,e,n,i,r,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qt[t]=new mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qt[e]=new mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qt[t]=new mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qt[t]=new mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qt[t]=new mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qt[t]=new mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qt[t]=new mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qt[t]=new mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qt[t]=new mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var fg=/[\-:]([a-z])/g;function dg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fg,dg);qt[e]=new mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fg,dg);qt[e]=new mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fg,dg);qt[e]=new mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qt[t]=new mn(t,1,!1,t.toLowerCase(),null,!1,!1)});qt.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qt[t]=new mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function pg(t,e,n,i){var r=qt.hasOwnProperty(e)?qt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(UR(e,n,r,i)&&(n=null),i||r===null?WR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Ar=jR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nu=Symbol.for("react.element"),Ao=Symbol.for("react.portal"),Po=Symbol.for("react.fragment"),mg=Symbol.for("react.strict_mode"),$p=Symbol.for("react.profiler"),px=Symbol.for("react.provider"),mx=Symbol.for("react.context"),gg=Symbol.for("react.forward_ref"),Hp=Symbol.for("react.suspense"),Gp=Symbol.for("react.suspense_list"),yg=Symbol.for("react.memo"),$r=Symbol.for("react.lazy"),gx=Symbol.for("react.offscreen"),j_=Symbol.iterator;function Ya(t){return t===null||typeof t!="object"?null:(t=j_&&t[j_]||t["@@iterator"],typeof t=="function"?t:null)}var ft=Object.assign,Xd;function nl(t){if(Xd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xd=e&&e[1]||""}return`
`+Xd+t}var Qd=!1;function Zd(t,e){if(!t||Qd)return"";Qd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var i=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){i=h}t.call(e.prototype)}else{try{throw Error()}catch(h){i=h}t()}}catch(h){if(h&&i&&typeof h.stack=="string"){for(var r=h.stack.split(`
`),s=i.stack.split(`
`),a=r.length-1,c=s.length-1;1<=a&&0<=c&&r[a]!==s[c];)c--;for(;1<=a&&0<=c;a--,c--)if(r[a]!==s[c]){if(a!==1||c!==1)do if(a--,c--,0>c||r[a]!==s[c]){var u=`
`+r[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=c);break}}}finally{Qd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?nl(t):""}function qR(t){switch(t.tag){case 5:return nl(t.type);case 16:return nl("Lazy");case 13:return nl("Suspense");case 19:return nl("SuspenseList");case 0:case 2:case 15:return t=Zd(t.type,!1),t;case 11:return t=Zd(t.type.render,!1),t;case 1:return t=Zd(t.type,!0),t;default:return""}}function Yp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Po:return"Fragment";case Ao:return"Portal";case $p:return"Profiler";case mg:return"StrictMode";case Hp:return"Suspense";case Gp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mx:return(t.displayName||"Context")+".Consumer";case px:return(t._context.displayName||"Context")+".Provider";case gg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yg:return e=t.displayName||null,e!==null?e:Yp(t.type)||"Memo";case $r:e=t._payload,t=t._init;try{return Yp(t(e))}catch{}}return null}function $R(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yp(e);case 8:return e===mg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HR(t){var e=yx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function iu(t){t._valueTracker||(t._valueTracker=HR(t))}function vx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=yx(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Wu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kp(t,e){var n=e.checked;return ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function B_(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=hs(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _x(t,e){e=e.checked,e!=null&&pg(t,"checked",e,!1)}function Xp(t,e){_x(t,e);var n=hs(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qp(t,e.type,hs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function W_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qp(t,e,n){(e!=="number"||Wu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var il=Array.isArray;function Yo(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+hs(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Zp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function V_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(il(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hs(n)}}function wx(t,e){var n=hs(e.value),i=hs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function U_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ru,bx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ru=ru||document.createElement("div"),ru.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ru.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _l(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ol={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GR=["Webkit","ms","Moz","O"];Object.keys(ol).forEach(function(t){GR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ol[e]=ol[t]})});function Sx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ol.hasOwnProperty(t)&&ol[t]?(""+e).trim():e+"px"}function kx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=Sx(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var YR=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function em(t,e){if(e){if(YR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function tm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nm=null;function vg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var im=null,Ko=null,Xo=null;function q_(t){if(t=Yl(t)){if(typeof im!="function")throw Error(K(280));var e=t.stateNode;e&&(e=Wh(e),im(t.stateNode,t.type,e))}}function Cx(t){Ko?Xo?Xo.push(t):Xo=[t]:Ko=t}function Tx(){if(Ko){var t=Ko,e=Xo;if(Xo=Ko=null,q_(t),e)for(t=0;t<e.length;t++)q_(e[t])}}function Ex(t,e){return t(e)}function Nx(){}var Jd=!1;function Ax(t,e,n){if(Jd)return t(e,n);Jd=!0;try{return Ex(t,e,n)}finally{Jd=!1,(Ko!==null||Xo!==null)&&(Nx(),Tx())}}function wl(t,e){var n=t.stateNode;if(n===null)return null;var i=Wh(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var rm=!1;if(kr)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){rm=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{rm=!1}function KR(t,e,n,i,r,s,a,c,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(d){this.onError(d)}}var al=!1,Vu=null,Uu=!1,sm=null,XR={onError:function(t){al=!0,Vu=t}};function QR(t,e,n,i,r,s,a,c,u){al=!1,Vu=null,KR.apply(XR,arguments)}function ZR(t,e,n,i,r,s,a,c,u){if(QR.apply(this,arguments),al){if(al){var h=Vu;al=!1,Vu=null}else throw Error(K(198));Uu||(Uu=!0,sm=h)}}function no(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Px(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $_(t){if(no(t)!==t)throw Error(K(188))}function JR(t){var e=t.alternate;if(!e){if(e=no(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return $_(r),t;if(s===i)return $_(r),e;s=s.sibling}throw Error(K(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,c=r.child;c;){if(c===n){a=!0,n=r,i=s;break}if(c===i){a=!0,i=r,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,i=r;break}if(c===i){a=!0,i=s,n=r;break}c=c.sibling}if(!a)throw Error(K(189))}}if(n.alternate!==i)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function Ix(t){return t=JR(t),t!==null?Rx(t):null}function Rx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Rx(t);if(e!==null)return e;t=t.sibling}return null}var Mx=Gn.unstable_scheduleCallback,H_=Gn.unstable_cancelCallback,eM=Gn.unstable_shouldYield,tM=Gn.unstable_requestPaint,_t=Gn.unstable_now,nM=Gn.unstable_getCurrentPriorityLevel,_g=Gn.unstable_ImmediatePriority,Ox=Gn.unstable_UserBlockingPriority,qu=Gn.unstable_NormalPriority,iM=Gn.unstable_LowPriority,Dx=Gn.unstable_IdlePriority,Fh=null,Ki=null;function rM(t){if(Ki&&typeof Ki.onCommitFiberRoot=="function")try{Ki.onCommitFiberRoot(Fh,t,void 0,(t.current.flags&128)===128)}catch{}}var Ai=Math.clz32?Math.clz32:aM,sM=Math.log,oM=Math.LN2;function aM(t){return t>>>=0,t===0?32:31-(sM(t)/oM|0)|0}var su=64,ou=4194304;function rl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $u(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~r;c!==0?i=rl(c):(s&=a,s!==0&&(i=rl(s)))}else a=n&~r,a!==0?i=rl(a):s!==0&&(i=rl(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Ai(e),r=1<<n,i|=t[n],e&=~r;return i}function lM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cM(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Ai(s),c=1<<a,u=r[a];u===-1?(!(c&n)||c&i)&&(r[a]=lM(c,e)):u<=e&&(t.expiredLanes|=c),s&=~c}}function om(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Lx(){var t=su;return su<<=1,!(su&4194240)&&(su=64),t}function ep(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ai(e),t[e]=n}function uM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Ai(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function wg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Ai(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var je=0;function Fx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zx,xg,jx,Bx,Wx,am=!1,au=[],es=null,ts=null,ns=null,xl=new Map,bl=new Map,Yr=[],hM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function G_(t,e){switch(t){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":xl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(e.pointerId)}}function Xa(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Yl(e),e!==null&&xg(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function fM(t,e,n,i,r){switch(e){case"focusin":return es=Xa(es,t,e,n,i,r),!0;case"dragenter":return ts=Xa(ts,t,e,n,i,r),!0;case"mouseover":return ns=Xa(ns,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return xl.set(s,Xa(xl.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,bl.set(s,Xa(bl.get(s)||null,t,e,n,i,r)),!0}return!1}function Vx(t){var e=Os(t.target);if(e!==null){var n=no(e);if(n!==null){if(e=n.tag,e===13){if(e=Px(n),e!==null){t.blockedOn=e,Wx(t.priority,function(){jx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);nm=i,n.target.dispatchEvent(i),nm=null}else return e=Yl(n),e!==null&&xg(e),t.blockedOn=n,!1;e.shift()}return!0}function Y_(t,e,n){Tu(t)&&n.delete(e)}function dM(){am=!1,es!==null&&Tu(es)&&(es=null),ts!==null&&Tu(ts)&&(ts=null),ns!==null&&Tu(ns)&&(ns=null),xl.forEach(Y_),bl.forEach(Y_)}function Qa(t,e){t.blockedOn===e&&(t.blockedOn=null,am||(am=!0,Gn.unstable_scheduleCallback(Gn.unstable_NormalPriority,dM)))}function Sl(t){function e(r){return Qa(r,t)}if(0<au.length){Qa(au[0],t);for(var n=1;n<au.length;n++){var i=au[n];i.blockedOn===t&&(i.blockedOn=null)}}for(es!==null&&Qa(es,t),ts!==null&&Qa(ts,t),ns!==null&&Qa(ns,t),xl.forEach(e),bl.forEach(e),n=0;n<Yr.length;n++)i=Yr[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Yr.length&&(n=Yr[0],n.blockedOn===null);)Vx(n),n.blockedOn===null&&Yr.shift()}var Qo=Ar.ReactCurrentBatchConfig,Hu=!0;function pM(t,e,n,i){var r=je,s=Qo.transition;Qo.transition=null;try{je=1,bg(t,e,n,i)}finally{je=r,Qo.transition=s}}function mM(t,e,n,i){var r=je,s=Qo.transition;Qo.transition=null;try{je=4,bg(t,e,n,i)}finally{je=r,Qo.transition=s}}function bg(t,e,n,i){if(Hu){var r=lm(t,e,n,i);if(r===null)up(t,e,i,Gu,n),G_(t,i);else if(fM(r,t,e,n,i))i.stopPropagation();else if(G_(t,i),e&4&&-1<hM.indexOf(t)){for(;r!==null;){var s=Yl(r);if(s!==null&&zx(s),s=lm(t,e,n,i),s===null&&up(t,e,i,Gu,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else up(t,e,i,null,n)}}var Gu=null;function lm(t,e,n,i){if(Gu=null,t=vg(i),t=Os(t),t!==null)if(e=no(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Px(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gu=t,null}function Ux(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nM()){case _g:return 1;case Ox:return 4;case qu:case iM:return 16;case Dx:return 536870912;default:return 16}default:return 16}}var Xr=null,Sg=null,Eu=null;function qx(){if(Eu)return Eu;var t,e=Sg,n=e.length,i,r="value"in Xr?Xr.value:Xr.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return Eu=r.slice(t,1<i?1-i:void 0)}function Nu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lu(){return!0}function K_(){return!1}function Kn(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lu:K_,this.isPropagationStopped=K_,this}return ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lu)},persist:function(){},isPersistent:lu}),e}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kg=Kn(_a),Gl=ft({},_a,{view:0,detail:0}),gM=Kn(Gl),tp,np,Za,zh=ft({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Za&&(Za&&t.type==="mousemove"?(tp=t.screenX-Za.screenX,np=t.screenY-Za.screenY):np=tp=0,Za=t),tp)},movementY:function(t){return"movementY"in t?t.movementY:np}}),X_=Kn(zh),yM=ft({},zh,{dataTransfer:0}),vM=Kn(yM),_M=ft({},Gl,{relatedTarget:0}),ip=Kn(_M),wM=ft({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),xM=Kn(wM),bM=ft({},_a,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),SM=Kn(bM),kM=ft({},_a,{data:0}),Q_=Kn(kM),CM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=EM[t])?!!e[t]:!1}function Cg(){return NM}var AM=ft({},Gl,{key:function(t){if(t.key){var e=CM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?TM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cg,charCode:function(t){return t.type==="keypress"?Nu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PM=Kn(AM),IM=ft({},zh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Z_=Kn(IM),RM=ft({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cg}),MM=Kn(RM),OM=ft({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),DM=Kn(OM),LM=ft({},zh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FM=Kn(LM),zM=[9,13,27,32],Tg=kr&&"CompositionEvent"in window,ll=null;kr&&"documentMode"in document&&(ll=document.documentMode);var jM=kr&&"TextEvent"in window&&!ll,$x=kr&&(!Tg||ll&&8<ll&&11>=ll),J_=" ",ew=!1;function Hx(t,e){switch(t){case"keyup":return zM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Io=!1;function BM(t,e){switch(t){case"compositionend":return Gx(e);case"keypress":return e.which!==32?null:(ew=!0,J_);case"textInput":return t=e.data,t===J_&&ew?null:t;default:return null}}function WM(t,e){if(Io)return t==="compositionend"||!Tg&&Hx(t,e)?(t=qx(),Eu=Sg=Xr=null,Io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $x&&e.locale!=="ko"?null:e.data;default:return null}}var VM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!VM[t.type]:e==="textarea"}function Yx(t,e,n,i){Cx(i),e=Yu(e,"onChange"),0<e.length&&(n=new kg("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var cl=null,kl=null;function UM(t){sb(t,0)}function jh(t){var e=Oo(t);if(vx(e))return t}function qM(t,e){if(t==="change")return e}var Kx=!1;if(kr){var rp;if(kr){var sp="oninput"in document;if(!sp){var nw=document.createElement("div");nw.setAttribute("oninput","return;"),sp=typeof nw.oninput=="function"}rp=sp}else rp=!1;Kx=rp&&(!document.documentMode||9<document.documentMode)}function iw(){cl&&(cl.detachEvent("onpropertychange",Xx),kl=cl=null)}function Xx(t){if(t.propertyName==="value"&&jh(kl)){var e=[];Yx(e,kl,t,vg(t)),Ax(UM,e)}}function $M(t,e,n){t==="focusin"?(iw(),cl=e,kl=n,cl.attachEvent("onpropertychange",Xx)):t==="focusout"&&iw()}function HM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jh(kl)}function GM(t,e){if(t==="click")return jh(e)}function YM(t,e){if(t==="input"||t==="change")return jh(e)}function KM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Di=typeof Object.is=="function"?Object.is:KM;function Cl(t,e){if(Di(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!qp.call(e,r)||!Di(t[r],e[r]))return!1}return!0}function rw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sw(t,e){var n=rw(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rw(n)}}function Qx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Qx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Zx(){for(var t=window,e=Wu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wu(t.document)}return e}function Eg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XM(t){var e=Zx(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Qx(n.ownerDocument.documentElement,n)){if(i!==null&&Eg(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=sw(n,s);var a=sw(n,i);r&&a&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var QM=kr&&"documentMode"in document&&11>=document.documentMode,Ro=null,cm=null,ul=null,um=!1;function ow(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;um||Ro==null||Ro!==Wu(i)||(i=Ro,"selectionStart"in i&&Eg(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ul&&Cl(ul,i)||(ul=i,i=Yu(cm,"onSelect"),0<i.length&&(e=new kg("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ro)))}function cu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Mo={animationend:cu("Animation","AnimationEnd"),animationiteration:cu("Animation","AnimationIteration"),animationstart:cu("Animation","AnimationStart"),transitionend:cu("Transition","TransitionEnd")},op={},Jx={};kr&&(Jx=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Bh(t){if(op[t])return op[t];if(!Mo[t])return t;var e=Mo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Jx)return op[t]=e[n];return t}var eb=Bh("animationend"),tb=Bh("animationiteration"),nb=Bh("animationstart"),ib=Bh("transitionend"),rb=new Map,aw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ms(t,e){rb.set(t,e),to(e,[t])}for(var ap=0;ap<aw.length;ap++){var lp=aw[ap],ZM=lp.toLowerCase(),JM=lp[0].toUpperCase()+lp.slice(1);ms(ZM,"on"+JM)}ms(eb,"onAnimationEnd");ms(tb,"onAnimationIteration");ms(nb,"onAnimationStart");ms("dblclick","onDoubleClick");ms("focusin","onFocus");ms("focusout","onBlur");ms(ib,"onTransitionEnd");na("onMouseEnter",["mouseout","mouseover"]);na("onMouseLeave",["mouseout","mouseover"]);na("onPointerEnter",["pointerout","pointerover"]);na("onPointerLeave",["pointerout","pointerover"]);to("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));to("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));to("onBeforeInput",["compositionend","keypress","textInput","paste"]);to("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));to("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));to("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eO=new Set("cancel close invalid load scroll toggle".split(" ").concat(sl));function lw(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,ZR(i,e,void 0,t),t.currentTarget=null}function sb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var c=i[a],u=c.instance,h=c.currentTarget;if(c=c.listener,u!==s&&r.isPropagationStopped())break e;lw(r,c,h),s=u}else for(a=0;a<i.length;a++){if(c=i[a],u=c.instance,h=c.currentTarget,c=c.listener,u!==s&&r.isPropagationStopped())break e;lw(r,c,h),s=u}}}if(Uu)throw t=sm,Uu=!1,sm=null,t}function Xe(t,e){var n=e[mm];n===void 0&&(n=e[mm]=new Set);var i=t+"__bubble";n.has(i)||(ob(e,t,2,!1),n.add(i))}function cp(t,e,n){var i=0;e&&(i|=4),ob(n,t,i,e)}var uu="_reactListening"+Math.random().toString(36).slice(2);function Tl(t){if(!t[uu]){t[uu]=!0,dx.forEach(function(n){n!=="selectionchange"&&(eO.has(n)||cp(n,!1,t),cp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[uu]||(e[uu]=!0,cp("selectionchange",!1,e))}}function ob(t,e,n,i){switch(Ux(e)){case 1:var r=pM;break;case 4:r=mM;break;default:r=bg}n=r.bind(null,e,n,t),r=void 0,!rm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function up(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var c=i.stateNode.containerInfo;if(c===r||c.nodeType===8&&c.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;a=a.return}for(;c!==null;){if(a=Os(c),a===null)return;if(u=a.tag,u===5||u===6){i=s=a;continue e}c=c.parentNode}}i=i.return}Ax(function(){var h=s,d=vg(n),p=[];e:{var g=rb.get(t);if(g!==void 0){var y=kg,w=t;switch(t){case"keypress":if(Nu(n)===0)break e;case"keydown":case"keyup":y=PM;break;case"focusin":w="focus",y=ip;break;case"focusout":w="blur",y=ip;break;case"beforeblur":case"afterblur":y=ip;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=X_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=vM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=MM;break;case eb:case tb:case nb:y=xM;break;case ib:y=DM;break;case"scroll":y=gM;break;case"wheel":y=FM;break;case"copy":case"cut":case"paste":y=SM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Z_}var b=(e&4)!==0,T=!b&&t==="scroll",v=b?g!==null?g+"Capture":null:g;b=[];for(var S=h,k;S!==null;){k=S;var A=k.stateNode;if(k.tag===5&&A!==null&&(k=A,v!==null&&(A=wl(S,v),A!=null&&b.push(El(S,A,k)))),T)break;S=S.return}0<b.length&&(g=new y(g,w,null,n,d),p.push({event:g,listeners:b}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",g&&n!==nm&&(w=n.relatedTarget||n.fromElement)&&(Os(w)||w[Cr]))break e;if((y||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=h,w=w?Os(w):null,w!==null&&(T=no(w),w!==T||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=h),y!==w)){if(b=X_,A="onMouseLeave",v="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(b=Z_,A="onPointerLeave",v="onPointerEnter",S="pointer"),T=y==null?g:Oo(y),k=w==null?g:Oo(w),g=new b(A,S+"leave",y,n,d),g.target=T,g.relatedTarget=k,A=null,Os(d)===h&&(b=new b(v,S+"enter",w,n,d),b.target=k,b.relatedTarget=T,A=b),T=A,y&&w)t:{for(b=y,v=w,S=0,k=b;k;k=Co(k))S++;for(k=0,A=v;A;A=Co(A))k++;for(;0<S-k;)b=Co(b),S--;for(;0<k-S;)v=Co(v),k--;for(;S--;){if(b===v||v!==null&&b===v.alternate)break t;b=Co(b),v=Co(v)}b=null}else b=null;y!==null&&cw(p,g,y,b,!1),w!==null&&T!==null&&cw(p,T,w,b,!0)}}e:{if(g=h?Oo(h):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var N=qM;else if(tw(g))if(Kx)N=YM;else{N=HM;var R=$M}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(N=GM);if(N&&(N=N(t,h))){Yx(p,N,n,d);break e}R&&R(t,g,h),t==="focusout"&&(R=g._wrapperState)&&R.controlled&&g.type==="number"&&Qp(g,"number",g.value)}switch(R=h?Oo(h):window,t){case"focusin":(tw(R)||R.contentEditable==="true")&&(Ro=R,cm=h,ul=null);break;case"focusout":ul=cm=Ro=null;break;case"mousedown":um=!0;break;case"contextmenu":case"mouseup":case"dragend":um=!1,ow(p,n,d);break;case"selectionchange":if(QM)break;case"keydown":case"keyup":ow(p,n,d)}var M;if(Tg)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Io?Hx(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&($x&&n.locale!=="ko"&&(Io||I!=="onCompositionStart"?I==="onCompositionEnd"&&Io&&(M=qx()):(Xr=d,Sg="value"in Xr?Xr.value:Xr.textContent,Io=!0)),R=Yu(h,I),0<R.length&&(I=new Q_(I,t,null,n,d),p.push({event:I,listeners:R}),M?I.data=M:(M=Gx(n),M!==null&&(I.data=M)))),(M=jM?BM(t,n):WM(t,n))&&(h=Yu(h,"onBeforeInput"),0<h.length&&(d=new Q_("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:h}),d.data=M))}sb(p,e)})}function El(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yu(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=wl(t,n),s!=null&&i.unshift(El(t,s,r)),s=wl(t,e),s!=null&&i.push(El(t,s,r))),t=t.return}return i}function Co(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cw(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var c=n,u=c.alternate,h=c.stateNode;if(u!==null&&u===i)break;c.tag===5&&h!==null&&(c=h,r?(u=wl(n,s),u!=null&&a.unshift(El(n,u,c))):r||(u=wl(n,s),u!=null&&a.push(El(n,u,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var tO=/\r\n?/g,nO=/\u0000|\uFFFD/g;function uw(t){return(typeof t=="string"?t:""+t).replace(tO,`
`).replace(nO,"")}function hu(t,e,n){if(e=uw(e),uw(t)!==e&&n)throw Error(K(425))}function Ku(){}var hm=null,fm=null;function dm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pm=typeof setTimeout=="function"?setTimeout:void 0,iO=typeof clearTimeout=="function"?clearTimeout:void 0,hw=typeof Promise=="function"?Promise:void 0,rO=typeof queueMicrotask=="function"?queueMicrotask:typeof hw<"u"?function(t){return hw.resolve(null).then(t).catch(sO)}:pm;function sO(t){setTimeout(function(){throw t})}function hp(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Sl(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Sl(e)}function is(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wa=Math.random().toString(36).slice(2),Yi="__reactFiber$"+wa,Nl="__reactProps$"+wa,Cr="__reactContainer$"+wa,mm="__reactEvents$"+wa,oO="__reactListeners$"+wa,aO="__reactHandles$"+wa;function Os(t){var e=t[Yi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Cr]||n[Yi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fw(t);t!==null;){if(n=t[Yi])return n;t=fw(t)}return e}t=n,n=t.parentNode}return null}function Yl(t){return t=t[Yi]||t[Cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Oo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function Wh(t){return t[Nl]||null}var gm=[],Do=-1;function gs(t){return{current:t}}function Qe(t){0>Do||(t.current=gm[Do],gm[Do]=null,Do--)}function He(t,e){Do++,gm[Do]=t.current,t.current=e}var fs={},tn=gs(fs),Tn=gs(!1),Vs=fs;function ia(t,e){var n=t.type.contextTypes;if(!n)return fs;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function En(t){return t=t.childContextTypes,t!=null}function Xu(){Qe(Tn),Qe(tn)}function dw(t,e,n){if(tn.current!==fs)throw Error(K(168));He(tn,e),He(Tn,n)}function ab(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(K(108,$R(t)||"Unknown",r));return ft({},n,i)}function Qu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fs,Vs=tn.current,He(tn,t),He(Tn,Tn.current),!0}function pw(t,e,n){var i=t.stateNode;if(!i)throw Error(K(169));n?(t=ab(t,e,Vs),i.__reactInternalMemoizedMergedChildContext=t,Qe(Tn),Qe(tn),He(tn,t)):Qe(Tn),He(Tn,n)}var gr=null,Vh=!1,fp=!1;function lb(t){gr===null?gr=[t]:gr.push(t)}function lO(t){Vh=!0,lb(t)}function ys(){if(!fp&&gr!==null){fp=!0;var t=0,e=je;try{var n=gr;for(je=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}gr=null,Vh=!1}catch(r){throw gr!==null&&(gr=gr.slice(t+1)),Mx(_g,ys),r}finally{je=e,fp=!1}}return null}var Lo=[],Fo=0,Zu=null,Ju=0,oi=[],ai=0,Us=null,vr=1,_r="";function Rs(t,e){Lo[Fo++]=Ju,Lo[Fo++]=Zu,Zu=t,Ju=e}function cb(t,e,n){oi[ai++]=vr,oi[ai++]=_r,oi[ai++]=Us,Us=t;var i=vr;t=_r;var r=32-Ai(i)-1;i&=~(1<<r),n+=1;var s=32-Ai(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,vr=1<<32-Ai(e)+r|n<<r|i,_r=s+t}else vr=1<<s|n<<r|i,_r=t}function Ng(t){t.return!==null&&(Rs(t,1),cb(t,1,0))}function Ag(t){for(;t===Zu;)Zu=Lo[--Fo],Lo[Fo]=null,Ju=Lo[--Fo],Lo[Fo]=null;for(;t===Us;)Us=oi[--ai],oi[ai]=null,_r=oi[--ai],oi[ai]=null,vr=oi[--ai],oi[ai]=null}var qn=null,Vn=null,it=!1,Ti=null;function ub(t,e){var n=li(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qn=t,Vn=is(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qn=t,Vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Us!==null?{id:vr,overflow:_r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=li(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qn=t,Vn=null,!0):!1;default:return!1}}function ym(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vm(t){if(it){var e=Vn;if(e){var n=e;if(!mw(t,e)){if(ym(t))throw Error(K(418));e=is(n.nextSibling);var i=qn;e&&mw(t,e)?ub(i,n):(t.flags=t.flags&-4097|2,it=!1,qn=t)}}else{if(ym(t))throw Error(K(418));t.flags=t.flags&-4097|2,it=!1,qn=t}}}function gw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qn=t}function fu(t){if(t!==qn)return!1;if(!it)return gw(t),it=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dm(t.type,t.memoizedProps)),e&&(e=Vn)){if(ym(t))throw hb(),Error(K(418));for(;e;)ub(t,e),e=is(e.nextSibling)}if(gw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vn=is(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vn=null}}else Vn=qn?is(t.stateNode.nextSibling):null;return!0}function hb(){for(var t=Vn;t;)t=is(t.nextSibling)}function ra(){Vn=qn=null,it=!1}function Pg(t){Ti===null?Ti=[t]:Ti.push(t)}var cO=Ar.ReactCurrentBatchConfig;function Ja(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var i=n.stateNode}if(!i)throw Error(K(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var c=r.refs;a===null?delete c[s]:c[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function du(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yw(t){var e=t._init;return e(t._payload)}function fb(t){function e(v,S){if(t){var k=v.deletions;k===null?(v.deletions=[S],v.flags|=16):k.push(S)}}function n(v,S){if(!t)return null;for(;S!==null;)e(v,S),S=S.sibling;return null}function i(v,S){for(v=new Map;S!==null;)S.key!==null?v.set(S.key,S):v.set(S.index,S),S=S.sibling;return v}function r(v,S){return v=as(v,S),v.index=0,v.sibling=null,v}function s(v,S,k){return v.index=k,t?(k=v.alternate,k!==null?(k=k.index,k<S?(v.flags|=2,S):k):(v.flags|=2,S)):(v.flags|=1048576,S)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function c(v,S,k,A){return S===null||S.tag!==6?(S=_p(k,v.mode,A),S.return=v,S):(S=r(S,k),S.return=v,S)}function u(v,S,k,A){var N=k.type;return N===Po?d(v,S,k.props.children,A,k.key):S!==null&&(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===$r&&yw(N)===S.type)?(A=r(S,k.props),A.ref=Ja(v,S,k),A.return=v,A):(A=Du(k.type,k.key,k.props,null,v.mode,A),A.ref=Ja(v,S,k),A.return=v,A)}function h(v,S,k,A){return S===null||S.tag!==4||S.stateNode.containerInfo!==k.containerInfo||S.stateNode.implementation!==k.implementation?(S=wp(k,v.mode,A),S.return=v,S):(S=r(S,k.children||[]),S.return=v,S)}function d(v,S,k,A,N){return S===null||S.tag!==7?(S=js(k,v.mode,A,N),S.return=v,S):(S=r(S,k),S.return=v,S)}function p(v,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return S=_p(""+S,v.mode,k),S.return=v,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case nu:return k=Du(S.type,S.key,S.props,null,v.mode,k),k.ref=Ja(v,null,S),k.return=v,k;case Ao:return S=wp(S,v.mode,k),S.return=v,S;case $r:var A=S._init;return p(v,A(S._payload),k)}if(il(S)||Ya(S))return S=js(S,v.mode,k,null),S.return=v,S;du(v,S)}return null}function g(v,S,k,A){var N=S!==null?S.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return N!==null?null:c(v,S,""+k,A);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case nu:return k.key===N?u(v,S,k,A):null;case Ao:return k.key===N?h(v,S,k,A):null;case $r:return N=k._init,g(v,S,N(k._payload),A)}if(il(k)||Ya(k))return N!==null?null:d(v,S,k,A,null);du(v,k)}return null}function y(v,S,k,A,N){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(k)||null,c(S,v,""+A,N);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case nu:return v=v.get(A.key===null?k:A.key)||null,u(S,v,A,N);case Ao:return v=v.get(A.key===null?k:A.key)||null,h(S,v,A,N);case $r:var R=A._init;return y(v,S,k,R(A._payload),N)}if(il(A)||Ya(A))return v=v.get(k)||null,d(S,v,A,N,null);du(S,A)}return null}function w(v,S,k,A){for(var N=null,R=null,M=S,I=S=0,j=null;M!==null&&I<k.length;I++){M.index>I?(j=M,M=null):j=M.sibling;var z=g(v,M,k[I],A);if(z===null){M===null&&(M=j);break}t&&M&&z.alternate===null&&e(v,M),S=s(z,S,I),R===null?N=z:R.sibling=z,R=z,M=j}if(I===k.length)return n(v,M),it&&Rs(v,I),N;if(M===null){for(;I<k.length;I++)M=p(v,k[I],A),M!==null&&(S=s(M,S,I),R===null?N=M:R.sibling=M,R=M);return it&&Rs(v,I),N}for(M=i(v,M);I<k.length;I++)j=y(M,v,I,k[I],A),j!==null&&(t&&j.alternate!==null&&M.delete(j.key===null?I:j.key),S=s(j,S,I),R===null?N=j:R.sibling=j,R=j);return t&&M.forEach(function(W){return e(v,W)}),it&&Rs(v,I),N}function b(v,S,k,A){var N=Ya(k);if(typeof N!="function")throw Error(K(150));if(k=N.call(k),k==null)throw Error(K(151));for(var R=N=null,M=S,I=S=0,j=null,z=k.next();M!==null&&!z.done;I++,z=k.next()){M.index>I?(j=M,M=null):j=M.sibling;var W=g(v,M,z.value,A);if(W===null){M===null&&(M=j);break}t&&M&&W.alternate===null&&e(v,M),S=s(W,S,I),R===null?N=W:R.sibling=W,R=W,M=j}if(z.done)return n(v,M),it&&Rs(v,I),N;if(M===null){for(;!z.done;I++,z=k.next())z=p(v,z.value,A),z!==null&&(S=s(z,S,I),R===null?N=z:R.sibling=z,R=z);return it&&Rs(v,I),N}for(M=i(v,M);!z.done;I++,z=k.next())z=y(M,v,I,z.value,A),z!==null&&(t&&z.alternate!==null&&M.delete(z.key===null?I:z.key),S=s(z,S,I),R===null?N=z:R.sibling=z,R=z);return t&&M.forEach(function(q){return e(v,q)}),it&&Rs(v,I),N}function T(v,S,k,A){if(typeof k=="object"&&k!==null&&k.type===Po&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case nu:e:{for(var N=k.key,R=S;R!==null;){if(R.key===N){if(N=k.type,N===Po){if(R.tag===7){n(v,R.sibling),S=r(R,k.props.children),S.return=v,v=S;break e}}else if(R.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===$r&&yw(N)===R.type){n(v,R.sibling),S=r(R,k.props),S.ref=Ja(v,R,k),S.return=v,v=S;break e}n(v,R);break}else e(v,R);R=R.sibling}k.type===Po?(S=js(k.props.children,v.mode,A,k.key),S.return=v,v=S):(A=Du(k.type,k.key,k.props,null,v.mode,A),A.ref=Ja(v,S,k),A.return=v,v=A)}return a(v);case Ao:e:{for(R=k.key;S!==null;){if(S.key===R)if(S.tag===4&&S.stateNode.containerInfo===k.containerInfo&&S.stateNode.implementation===k.implementation){n(v,S.sibling),S=r(S,k.children||[]),S.return=v,v=S;break e}else{n(v,S);break}else e(v,S);S=S.sibling}S=wp(k,v.mode,A),S.return=v,v=S}return a(v);case $r:return R=k._init,T(v,S,R(k._payload),A)}if(il(k))return w(v,S,k,A);if(Ya(k))return b(v,S,k,A);du(v,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,S!==null&&S.tag===6?(n(v,S.sibling),S=r(S,k),S.return=v,v=S):(n(v,S),S=_p(k,v.mode,A),S.return=v,v=S),a(v)):n(v,S)}return T}var sa=fb(!0),db=fb(!1),eh=gs(null),th=null,zo=null,Ig=null;function Rg(){Ig=zo=th=null}function Mg(t){var e=eh.current;Qe(eh),t._currentValue=e}function _m(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Zo(t,e){th=t,Ig=zo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kn=!0),t.firstContext=null)}function pi(t){var e=t._currentValue;if(Ig!==t)if(t={context:t,memoizedValue:e,next:null},zo===null){if(th===null)throw Error(K(308));zo=t,th.dependencies={lanes:0,firstContext:t}}else zo=zo.next=t;return e}var Ds=null;function Og(t){Ds===null?Ds=[t]:Ds.push(t)}function pb(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Og(e)):(n.next=r.next,r.next=n),e.interleaved=n,Tr(t,i)}function Tr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Hr=!1;function Dg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rs(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Me&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Tr(t,n)}return r=i.interleaved,r===null?(e.next=e,Og(i)):(e.next=r.next,r.next=e),i.interleaved=e,Tr(t,n)}function Au(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,wg(t,n)}}function vw(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function nh(t,e,n,i){var r=t.updateQueue;Hr=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,c=r.shared.pending;if(c!==null){r.shared.pending=null;var u=c,h=u.next;u.next=null,a===null?s=h:a.next=h,a=u;var d=t.alternate;d!==null&&(d=d.updateQueue,c=d.lastBaseUpdate,c!==a&&(c===null?d.firstBaseUpdate=h:c.next=h,d.lastBaseUpdate=u))}if(s!==null){var p=r.baseState;a=0,d=h=u=null,c=s;do{var g=c.lane,y=c.eventTime;if((i&g)===g){d!==null&&(d=d.next={eventTime:y,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var w=t,b=c;switch(g=e,y=n,b.tag){case 1:if(w=b.payload,typeof w=="function"){p=w.call(y,p,g);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=b.payload,g=typeof w=="function"?w.call(y,p,g):w,g==null)break e;p=ft({},p,g);break e;case 2:Hr=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,g=r.effects,g===null?r.effects=[c]:g.push(c))}else y={eventTime:y,lane:g,tag:c.tag,payload:c.payload,callback:c.callback,next:null},d===null?(h=d=y,u=p):d=d.next=y,a|=g;if(c=c.next,c===null){if(c=r.shared.pending,c===null)break;g=c,c=g.next,g.next=null,r.lastBaseUpdate=g,r.shared.pending=null}}while(!0);if(d===null&&(u=p),r.baseState=u,r.firstBaseUpdate=h,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);$s|=a,t.lanes=a,t.memoizedState=p}}function _w(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(K(191,r));r.call(i)}}}var Kl={},Xi=gs(Kl),Al=gs(Kl),Pl=gs(Kl);function Ls(t){if(t===Kl)throw Error(K(174));return t}function Lg(t,e){switch(He(Pl,e),He(Al,t),He(Xi,Kl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jp(e,t)}Qe(Xi),He(Xi,e)}function oa(){Qe(Xi),Qe(Al),Qe(Pl)}function gb(t){Ls(Pl.current);var e=Ls(Xi.current),n=Jp(e,t.type);e!==n&&(He(Al,t),He(Xi,n))}function Fg(t){Al.current===t&&(Qe(Xi),Qe(Al))}var ct=gs(0);function ih(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dp=[];function zg(){for(var t=0;t<dp.length;t++)dp[t]._workInProgressVersionPrimary=null;dp.length=0}var Pu=Ar.ReactCurrentDispatcher,pp=Ar.ReactCurrentBatchConfig,qs=0,ut=null,Pt=null,Dt=null,rh=!1,hl=!1,Il=0,uO=0;function Kt(){throw Error(K(321))}function jg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Di(t[n],e[n]))return!1;return!0}function Bg(t,e,n,i,r,s){if(qs=s,ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pu.current=t===null||t.memoizedState===null?pO:mO,t=n(i,r),hl){s=0;do{if(hl=!1,Il=0,25<=s)throw Error(K(301));s+=1,Dt=Pt=null,e.updateQueue=null,Pu.current=gO,t=n(i,r)}while(hl)}if(Pu.current=sh,e=Pt!==null&&Pt.next!==null,qs=0,Dt=Pt=ut=null,rh=!1,e)throw Error(K(300));return t}function Wg(){var t=Il!==0;return Il=0,t}function Gi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ut.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function mi(){if(Pt===null){var t=ut.alternate;t=t!==null?t.memoizedState:null}else t=Pt.next;var e=Dt===null?ut.memoizedState:Dt.next;if(e!==null)Dt=e,Pt=t;else{if(t===null)throw Error(K(310));Pt=t,t={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Dt===null?ut.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function Rl(t,e){return typeof e=="function"?e(t):e}function mp(t){var e=mi(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var i=Pt,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var c=a=null,u=null,h=s;do{var d=h.lane;if((qs&d)===d)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),i=h.hasEagerState?h.eagerState:t(i,h.action);else{var p={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(c=u=p,a=i):u=u.next=p,ut.lanes|=d,$s|=d}h=h.next}while(h!==null&&h!==s);u===null?a=i:u.next=c,Di(i,e.memoizedState)||(kn=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=u,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,ut.lanes|=s,$s|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gp(t){var e=mi(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);Di(s,e.memoizedState)||(kn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function yb(){}function vb(t,e){var n=ut,i=mi(),r=e(),s=!Di(i.memoizedState,r);if(s&&(i.memoizedState=r,kn=!0),i=i.queue,Vg(xb.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||Dt!==null&&Dt.memoizedState.tag&1){if(n.flags|=2048,Ml(9,wb.bind(null,n,i,r,e),void 0,null),Lt===null)throw Error(K(349));qs&30||_b(n,e,r)}return r}function _b(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function wb(t,e,n,i){e.value=n,e.getSnapshot=i,bb(e)&&Sb(t)}function xb(t,e,n){return n(function(){bb(e)&&Sb(t)})}function bb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Di(t,n)}catch{return!0}}function Sb(t){var e=Tr(t,1);e!==null&&Pi(e,t,1,-1)}function ww(t){var e=Gi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rl,lastRenderedState:t},e.queue=t,t=t.dispatch=dO.bind(null,ut,t),[e.memoizedState,t]}function Ml(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function kb(){return mi().memoizedState}function Iu(t,e,n,i){var r=Gi();ut.flags|=t,r.memoizedState=Ml(1|e,n,void 0,i===void 0?null:i)}function Uh(t,e,n,i){var r=mi();i=i===void 0?null:i;var s=void 0;if(Pt!==null){var a=Pt.memoizedState;if(s=a.destroy,i!==null&&jg(i,a.deps)){r.memoizedState=Ml(e,n,s,i);return}}ut.flags|=t,r.memoizedState=Ml(1|e,n,s,i)}function xw(t,e){return Iu(8390656,8,t,e)}function Vg(t,e){return Uh(2048,8,t,e)}function Cb(t,e){return Uh(4,2,t,e)}function Tb(t,e){return Uh(4,4,t,e)}function Eb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Nb(t,e,n){return n=n!=null?n.concat([t]):null,Uh(4,4,Eb.bind(null,e,t),n)}function Ug(){}function Ab(t,e){var n=mi();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&jg(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Pb(t,e){var n=mi();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&jg(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Ib(t,e,n){return qs&21?(Di(n,e)||(n=Lx(),ut.lanes|=n,$s|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kn=!0),t.memoizedState=n)}function hO(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var i=pp.transition;pp.transition={};try{t(!1),e()}finally{je=n,pp.transition=i}}function Rb(){return mi().memoizedState}function fO(t,e,n){var i=os(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Mb(t))Ob(e,n);else if(n=pb(t,e,n,i),n!==null){var r=hn();Pi(n,t,i,r),Db(n,e,i)}}function dO(t,e,n){var i=os(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mb(t))Ob(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,c=s(a,n);if(r.hasEagerState=!0,r.eagerState=c,Di(c,a)){var u=e.interleaved;u===null?(r.next=r,Og(e)):(r.next=u.next,u.next=r),e.interleaved=r;return}}catch{}finally{}n=pb(t,e,r,i),n!==null&&(r=hn(),Pi(n,t,i,r),Db(n,e,i))}}function Mb(t){var e=t.alternate;return t===ut||e!==null&&e===ut}function Ob(t,e){hl=rh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Db(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,wg(t,n)}}var sh={readContext:pi,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},pO={readContext:pi,useCallback:function(t,e){return Gi().memoizedState=[t,e===void 0?null:e],t},useContext:pi,useEffect:xw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Iu(4194308,4,Eb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Iu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Iu(4,2,t,e)},useMemo:function(t,e){var n=Gi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Gi();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=fO.bind(null,ut,t),[i.memoizedState,t]},useRef:function(t){var e=Gi();return t={current:t},e.memoizedState=t},useState:ww,useDebugValue:Ug,useDeferredValue:function(t){return Gi().memoizedState=t},useTransition:function(){var t=ww(!1),e=t[0];return t=hO.bind(null,t[1]),Gi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=ut,r=Gi();if(it){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),Lt===null)throw Error(K(349));qs&30||_b(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,xw(xb.bind(null,i,s,t),[t]),i.flags|=2048,Ml(9,wb.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Gi(),e=Lt.identifierPrefix;if(it){var n=_r,i=vr;n=(i&~(1<<32-Ai(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Il++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mO={readContext:pi,useCallback:Ab,useContext:pi,useEffect:Vg,useImperativeHandle:Nb,useInsertionEffect:Cb,useLayoutEffect:Tb,useMemo:Pb,useReducer:mp,useRef:kb,useState:function(){return mp(Rl)},useDebugValue:Ug,useDeferredValue:function(t){var e=mi();return Ib(e,Pt.memoizedState,t)},useTransition:function(){var t=mp(Rl)[0],e=mi().memoizedState;return[t,e]},useMutableSource:yb,useSyncExternalStore:vb,useId:Rb,unstable_isNewReconciler:!1},gO={readContext:pi,useCallback:Ab,useContext:pi,useEffect:Vg,useImperativeHandle:Nb,useInsertionEffect:Cb,useLayoutEffect:Tb,useMemo:Pb,useReducer:gp,useRef:kb,useState:function(){return gp(Rl)},useDebugValue:Ug,useDeferredValue:function(t){var e=mi();return Pt===null?e.memoizedState=t:Ib(e,Pt.memoizedState,t)},useTransition:function(){var t=gp(Rl)[0],e=mi().memoizedState;return[t,e]},useMutableSource:yb,useSyncExternalStore:vb,useId:Rb,unstable_isNewReconciler:!1};function ki(t,e){if(t&&t.defaultProps){e=ft({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function wm(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:ft({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qh={isMounted:function(t){return(t=t._reactInternals)?no(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=hn(),r=os(t),s=wr(i,r);s.payload=e,n!=null&&(s.callback=n),e=rs(t,s,r),e!==null&&(Pi(e,t,r,i),Au(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=hn(),r=os(t),s=wr(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=rs(t,s,r),e!==null&&(Pi(e,t,r,i),Au(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hn(),i=os(t),r=wr(n,i);r.tag=2,e!=null&&(r.callback=e),e=rs(t,r,i),e!==null&&(Pi(e,t,i,n),Au(e,t,i))}};function bw(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!Cl(n,i)||!Cl(r,s):!0}function Lb(t,e,n){var i=!1,r=fs,s=e.contextType;return typeof s=="object"&&s!==null?s=pi(s):(r=En(e)?Vs:tn.current,i=e.contextTypes,s=(i=i!=null)?ia(t,r):fs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qh,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function Sw(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&qh.enqueueReplaceState(e,e.state,null)}function xm(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Dg(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=pi(s):(s=En(e)?Vs:tn.current,r.context=ia(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(wm(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&qh.enqueueReplaceState(r,r.state,null),nh(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function aa(t,e){try{var n="",i=e;do n+=qR(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function yp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yO=typeof WeakMap=="function"?WeakMap:Map;function Fb(t,e,n){n=wr(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){ah||(ah=!0,Rm=i),bm(t,e)},n}function zb(t,e,n){n=wr(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){bm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){bm(t,e),typeof i!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function kw(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new yO;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=IO.bind(null,t,e,n),e.then(t,t))}function Cw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Tw(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wr(-1,1),e.tag=2,rs(n,e,1))),n.lanes|=1),t)}var vO=Ar.ReactCurrentOwner,kn=!1;function an(t,e,n,i){e.child=t===null?db(e,null,n,i):sa(e,t.child,n,i)}function Ew(t,e,n,i,r){n=n.render;var s=e.ref;return Zo(e,r),i=Bg(t,e,n,i,s,r),n=Wg(),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Er(t,e,r)):(it&&n&&Ng(e),e.flags|=1,an(t,e,i,r),e.child)}function Nw(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Qg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,jb(t,e,s,i,r)):(t=Du(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Cl,n(a,i)&&t.ref===e.ref)return Er(t,e,r)}return e.flags|=1,t=as(s,i),t.ref=e.ref,t.return=e,e.child=t}function jb(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Cl(s,i)&&t.ref===e.ref)if(kn=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(kn=!0);else return e.lanes=t.lanes,Er(t,e,r)}return Sm(t,e,n,i,r)}function Bb(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Bo,Bn),Bn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(Bo,Bn),Bn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,He(Bo,Bn),Bn|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,He(Bo,Bn),Bn|=i;return an(t,e,r,n),e.child}function Wb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Sm(t,e,n,i,r){var s=En(n)?Vs:tn.current;return s=ia(e,s),Zo(e,r),n=Bg(t,e,n,i,s,r),i=Wg(),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Er(t,e,r)):(it&&i&&Ng(e),e.flags|=1,an(t,e,n,r),e.child)}function Aw(t,e,n,i,r){if(En(n)){var s=!0;Qu(e)}else s=!1;if(Zo(e,r),e.stateNode===null)Ru(t,e),Lb(e,n,i),xm(e,n,i,r),i=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var u=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=pi(h):(h=En(n)?Vs:tn.current,h=ia(e,h));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==i||u!==h)&&Sw(e,a,i,h),Hr=!1;var g=e.memoizedState;a.state=g,nh(e,i,a,r),u=e.memoizedState,c!==i||g!==u||Tn.current||Hr?(typeof d=="function"&&(wm(e,n,d,i),u=e.memoizedState),(c=Hr||bw(e,n,c,i,g,u,h))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),a.props=i,a.state=u,a.context=h,i=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,mb(t,e),c=e.memoizedProps,h=e.type===e.elementType?c:ki(e.type,c),a.props=h,p=e.pendingProps,g=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=pi(u):(u=En(n)?Vs:tn.current,u=ia(e,u));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==p||g!==u)&&Sw(e,a,i,u),Hr=!1,g=e.memoizedState,a.state=g,nh(e,i,a,r);var w=e.memoizedState;c!==p||g!==w||Tn.current||Hr?(typeof y=="function"&&(wm(e,n,y,i),w=e.memoizedState),(h=Hr||bw(e,n,h,i,g,w,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,w,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,w,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=w),a.props=i,a.state=w,a.context=u,i=h):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),i=!1)}return km(t,e,n,i,s,r)}function km(t,e,n,i,r,s){Wb(t,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&pw(e,n,!1),Er(t,e,s);i=e.stateNode,vO.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=sa(e,t.child,null,s),e.child=sa(e,null,c,s)):an(t,e,c,s),e.memoizedState=i.state,r&&pw(e,n,!0),e.child}function Vb(t){var e=t.stateNode;e.pendingContext?dw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dw(t,e.context,!1),Lg(t,e.containerInfo)}function Pw(t,e,n,i,r){return ra(),Pg(r),e.flags|=256,an(t,e,n,i),e.child}var Cm={dehydrated:null,treeContext:null,retryLane:0};function Tm(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ub(t,e,n){var i=e.pendingProps,r=ct.current,s=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(r&2)!==0),c?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),He(ct,r&1),t===null)return vm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,t=i.fallback,s?(i=e.mode,s=e.child,a={mode:"hidden",children:a},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Gh(a,i,0,null),t=js(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Tm(n),e.memoizedState=Cm,t):qg(e,a));if(r=t.memoizedState,r!==null&&(c=r.dehydrated,c!==null))return _O(t,e,a,i,c,r,n);if(s){s=i.fallback,a=e.mode,r=t.child,c=r.sibling;var u={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=u,e.deletions=null):(i=as(r,u),i.subtreeFlags=r.subtreeFlags&14680064),c!==null?s=as(c,s):(s=js(s,a,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,a=t.child.memoizedState,a=a===null?Tm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=Cm,i}return s=t.child,t=s.sibling,i=as(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function qg(t,e){return e=Gh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pu(t,e,n,i){return i!==null&&Pg(i),sa(e,t.child,null,n),t=qg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _O(t,e,n,i,r,s,a){if(n)return e.flags&256?(e.flags&=-257,i=yp(Error(K(422))),pu(t,e,a,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Gh({mode:"visible",children:i.children},r,0,null),s=js(s,r,a,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&sa(e,t.child,null,a),e.child.memoizedState=Tm(a),e.memoizedState=Cm,s);if(!(e.mode&1))return pu(t,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var c=i.dgst;return i=c,s=Error(K(419)),i=yp(s,i,void 0),pu(t,e,a,i)}if(c=(a&t.childLanes)!==0,kn||c){if(i=Lt,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Tr(t,r),Pi(i,t,r,-1))}return Xg(),i=yp(Error(K(421))),pu(t,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=RO.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Vn=is(r.nextSibling),qn=e,it=!0,Ti=null,t!==null&&(oi[ai++]=vr,oi[ai++]=_r,oi[ai++]=Us,vr=t.id,_r=t.overflow,Us=e),e=qg(e,i.children),e.flags|=4096,e)}function Iw(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),_m(t.return,e,n)}function vp(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function qb(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(an(t,e,i.children,n),i=ct.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Iw(t,n,e);else if(t.tag===19)Iw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(He(ct,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&ih(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),vp(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&ih(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}vp(e,!0,n,null,s);break;case"together":vp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ru(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Er(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$s|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=as(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=as(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wO(t,e,n){switch(e.tag){case 3:Vb(e),ra();break;case 5:gb(e);break;case 1:En(e.type)&&Qu(e);break;case 4:Lg(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;He(eh,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(He(ct,ct.current&1),e.flags|=128,null):n&e.child.childLanes?Ub(t,e,n):(He(ct,ct.current&1),t=Er(t,e,n),t!==null?t.sibling:null);He(ct,ct.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return qb(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),He(ct,ct.current),i)break;return null;case 22:case 23:return e.lanes=0,Bb(t,e,n)}return Er(t,e,n)}var $b,Em,Hb,Gb;$b=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Em=function(){};Hb=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Ls(Xi.current);var s=null;switch(n){case"input":r=Kp(t,r),i=Kp(t,i),s=[];break;case"select":r=ft({},r,{value:void 0}),i=ft({},i,{value:void 0}),s=[];break;case"textarea":r=Zp(t,r),i=Zp(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Ku)}em(n,i);var a;n=null;for(h in r)if(!i.hasOwnProperty(h)&&r.hasOwnProperty(h)&&r[h]!=null)if(h==="style"){var c=r[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(vl.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in i){var u=i[h];if(c=r!=null?r[h]:void 0,i.hasOwnProperty(h)&&u!==c&&(u!=null||c!=null))if(h==="style")if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(s=s||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(vl.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&Xe("scroll",t),s||c===u||(s=[])):(s=s||[]).push(h,u))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};Gb=function(t,e,n,i){n!==i&&(e.flags|=4)};function el(t,e){if(!it)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function xO(t,e,n){var i=e.pendingProps;switch(Ag(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(e),null;case 1:return En(e.type)&&Xu(),Xt(e),null;case 3:return i=e.stateNode,oa(),Qe(Tn),Qe(tn),zg(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(fu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ti!==null&&(Dm(Ti),Ti=null))),Em(t,e),Xt(e),null;case 5:Fg(e);var r=Ls(Pl.current);if(n=e.type,t!==null&&e.stateNode!=null)Hb(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(K(166));return Xt(e),null}if(t=Ls(Xi.current),fu(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Yi]=e,i[Nl]=s,t=(e.mode&1)!==0,n){case"dialog":Xe("cancel",i),Xe("close",i);break;case"iframe":case"object":case"embed":Xe("load",i);break;case"video":case"audio":for(r=0;r<sl.length;r++)Xe(sl[r],i);break;case"source":Xe("error",i);break;case"img":case"image":case"link":Xe("error",i),Xe("load",i);break;case"details":Xe("toggle",i);break;case"input":B_(i,s),Xe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Xe("invalid",i);break;case"textarea":V_(i,s),Xe("invalid",i)}em(n,s),r=null;for(var a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="children"?typeof c=="string"?i.textContent!==c&&(s.suppressHydrationWarning!==!0&&hu(i.textContent,c,t),r=["children",c]):typeof c=="number"&&i.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&hu(i.textContent,c,t),r=["children",""+c]):vl.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Xe("scroll",i)}switch(n){case"input":iu(i),W_(i,s,!0);break;case"textarea":iu(i),U_(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Ku)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(n,{is:i.is}):(t=a.createElement(n),n==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,n),t[Yi]=e,t[Nl]=i,$b(t,e,!1,!1),e.stateNode=t;e:{switch(a=tm(n,i),n){case"dialog":Xe("cancel",t),Xe("close",t),r=i;break;case"iframe":case"object":case"embed":Xe("load",t),r=i;break;case"video":case"audio":for(r=0;r<sl.length;r++)Xe(sl[r],t);r=i;break;case"source":Xe("error",t),r=i;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),r=i;break;case"details":Xe("toggle",t),r=i;break;case"input":B_(t,i),r=Kp(t,i),Xe("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=ft({},i,{value:void 0}),Xe("invalid",t);break;case"textarea":V_(t,i),r=Zp(t,i),Xe("invalid",t);break;default:r=i}em(n,r),c=r;for(s in c)if(c.hasOwnProperty(s)){var u=c[s];s==="style"?kx(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&bx(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&_l(t,u):typeof u=="number"&&_l(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vl.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Xe("scroll",t):u!=null&&pg(t,s,u,a))}switch(n){case"input":iu(t),W_(t,i,!1);break;case"textarea":iu(t),U_(t);break;case"option":i.value!=null&&t.setAttribute("value",""+hs(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?Yo(t,!!i.multiple,s,!1):i.defaultValue!=null&&Yo(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Ku)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xt(e),null;case 6:if(t&&e.stateNode!=null)Gb(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(K(166));if(n=Ls(Pl.current),Ls(Xi.current),fu(e)){if(i=e.stateNode,n=e.memoizedProps,i[Yi]=e,(s=i.nodeValue!==n)&&(t=qn,t!==null))switch(t.tag){case 3:hu(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hu(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Yi]=e,e.stateNode=i}return Xt(e),null;case 13:if(Qe(ct),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(it&&Vn!==null&&e.mode&1&&!(e.flags&128))hb(),ra(),e.flags|=98560,s=!1;else if(s=fu(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[Yi]=e}else ra(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xt(e),s=!1}else Ti!==null&&(Dm(Ti),Ti=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?It===0&&(It=3):Xg())),e.updateQueue!==null&&(e.flags|=4),Xt(e),null);case 4:return oa(),Em(t,e),t===null&&Tl(e.stateNode.containerInfo),Xt(e),null;case 10:return Mg(e.type._context),Xt(e),null;case 17:return En(e.type)&&Xu(),Xt(e),null;case 19:if(Qe(ct),s=e.memoizedState,s===null)return Xt(e),null;if(i=(e.flags&128)!==0,a=s.rendering,a===null)if(i)el(s,!1);else{if(It!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ih(t),a!==null){for(e.flags|=128,el(s,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(ct,ct.current&1|2),e.child}t=t.sibling}s.tail!==null&&_t()>la&&(e.flags|=128,i=!0,el(s,!1),e.lanes=4194304)}else{if(!i)if(t=ih(a),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),el(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!it)return Xt(e),null}else 2*_t()-s.renderingStartTime>la&&n!==1073741824&&(e.flags|=128,i=!0,el(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=_t(),e.sibling=null,n=ct.current,He(ct,i?n&1|2:n&1),e):(Xt(e),null);case 22:case 23:return Kg(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Bn&1073741824&&(Xt(e),e.subtreeFlags&6&&(e.flags|=8192)):Xt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function bO(t,e){switch(Ag(e),e.tag){case 1:return En(e.type)&&Xu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oa(),Qe(Tn),Qe(tn),zg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Fg(e),null;case 13:if(Qe(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));ra()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qe(ct),null;case 4:return oa(),null;case 10:return Mg(e.type._context),null;case 22:case 23:return Kg(),null;case 24:return null;default:return null}}var mu=!1,Zt=!1,SO=typeof WeakSet=="function"?WeakSet:Set,se=null;function jo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){mt(t,e,i)}else n.current=null}function Nm(t,e,n){try{n()}catch(i){mt(t,e,i)}}var Rw=!1;function kO(t,e){if(hm=Hu,t=Zx(),Eg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,c=-1,u=-1,h=0,d=0,p=t,g=null;t:for(;;){for(var y;p!==n||r!==0&&p.nodeType!==3||(c=a+r),p!==s||i!==0&&p.nodeType!==3||(u=a+i),p.nodeType===3&&(a+=p.nodeValue.length),(y=p.firstChild)!==null;)g=p,p=y;for(;;){if(p===t)break t;if(g===n&&++h===r&&(c=a),g===s&&++d===i&&(u=a),(y=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=y}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(fm={focusedElem:t,selectionRange:n},Hu=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var b=w.memoizedProps,T=w.memoizedState,v=e.stateNode,S=v.getSnapshotBeforeUpdate(e.elementType===e.type?b:ki(e.type,b),T);v.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(A){mt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return w=Rw,Rw=!1,w}function fl(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Nm(e,n,s)}r=r.next}while(r!==i)}}function $h(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Am(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Yb(t){var e=t.alternate;e!==null&&(t.alternate=null,Yb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yi],delete e[Nl],delete e[mm],delete e[oO],delete e[aO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Kb(t){return t.tag===5||t.tag===3||t.tag===4}function Mw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Kb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pm(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ku));else if(i!==4&&(t=t.child,t!==null))for(Pm(t,e,n),t=t.sibling;t!==null;)Pm(t,e,n),t=t.sibling}function Im(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Im(t,e,n),t=t.sibling;t!==null;)Im(t,e,n),t=t.sibling}var Vt=null,Ci=!1;function Vr(t,e,n){for(n=n.child;n!==null;)Xb(t,e,n),n=n.sibling}function Xb(t,e,n){if(Ki&&typeof Ki.onCommitFiberUnmount=="function")try{Ki.onCommitFiberUnmount(Fh,n)}catch{}switch(n.tag){case 5:Zt||jo(n,e);case 6:var i=Vt,r=Ci;Vt=null,Vr(t,e,n),Vt=i,Ci=r,Vt!==null&&(Ci?(t=Vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vt.removeChild(n.stateNode));break;case 18:Vt!==null&&(Ci?(t=Vt,n=n.stateNode,t.nodeType===8?hp(t.parentNode,n):t.nodeType===1&&hp(t,n),Sl(t)):hp(Vt,n.stateNode));break;case 4:i=Vt,r=Ci,Vt=n.stateNode.containerInfo,Ci=!0,Vr(t,e,n),Vt=i,Ci=r;break;case 0:case 11:case 14:case 15:if(!Zt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Nm(n,e,a),r=r.next}while(r!==i)}Vr(t,e,n);break;case 1:if(!Zt&&(jo(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(c){mt(n,e,c)}Vr(t,e,n);break;case 21:Vr(t,e,n);break;case 22:n.mode&1?(Zt=(i=Zt)||n.memoizedState!==null,Vr(t,e,n),Zt=i):Vr(t,e,n);break;default:Vr(t,e,n)}}function Ow(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new SO),e.forEach(function(i){var r=MO.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Si(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:Vt=c.stateNode,Ci=!1;break e;case 3:Vt=c.stateNode.containerInfo,Ci=!0;break e;case 4:Vt=c.stateNode.containerInfo,Ci=!0;break e}c=c.return}if(Vt===null)throw Error(K(160));Xb(s,a,r),Vt=null,Ci=!1;var u=r.alternate;u!==null&&(u.return=null),r.return=null}catch(h){mt(r,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Qb(e,t),e=e.sibling}function Qb(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Si(e,t),Hi(t),i&4){try{fl(3,t,t.return),$h(3,t)}catch(b){mt(t,t.return,b)}try{fl(5,t,t.return)}catch(b){mt(t,t.return,b)}}break;case 1:Si(e,t),Hi(t),i&512&&n!==null&&jo(n,n.return);break;case 5:if(Si(e,t),Hi(t),i&512&&n!==null&&jo(n,n.return),t.flags&32){var r=t.stateNode;try{_l(r,"")}catch(b){mt(t,t.return,b)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,c=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&_x(r,s),tm(c,a);var h=tm(c,s);for(a=0;a<u.length;a+=2){var d=u[a],p=u[a+1];d==="style"?kx(r,p):d==="dangerouslySetInnerHTML"?bx(r,p):d==="children"?_l(r,p):pg(r,d,p,h)}switch(c){case"input":Xp(r,s);break;case"textarea":wx(r,s);break;case"select":var g=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Yo(r,!!s.multiple,y,!1):g!==!!s.multiple&&(s.defaultValue!=null?Yo(r,!!s.multiple,s.defaultValue,!0):Yo(r,!!s.multiple,s.multiple?[]:"",!1))}r[Nl]=s}catch(b){mt(t,t.return,b)}}break;case 6:if(Si(e,t),Hi(t),i&4){if(t.stateNode===null)throw Error(K(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(b){mt(t,t.return,b)}}break;case 3:if(Si(e,t),Hi(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Sl(e.containerInfo)}catch(b){mt(t,t.return,b)}break;case 4:Si(e,t),Hi(t);break;case 13:Si(e,t),Hi(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Gg=_t())),i&4&&Ow(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Zt=(h=Zt)||d,Si(e,t),Zt=h):Si(e,t),Hi(t),i&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!d&&t.mode&1)for(se=t,d=t.child;d!==null;){for(p=se=d;se!==null;){switch(g=se,y=g.child,g.tag){case 0:case 11:case 14:case 15:fl(4,g,g.return);break;case 1:jo(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){i=g,n=g.return;try{e=i,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(b){mt(i,n,b)}}break;case 5:jo(g,g.return);break;case 22:if(g.memoizedState!==null){Lw(p);continue}}y!==null?(y.return=g,se=y):Lw(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{r=p.stateNode,h?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=p.stateNode,u=p.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=Sx("display",a))}catch(b){mt(t,t.return,b)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(b){mt(t,t.return,b)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Si(e,t),Hi(t),i&4&&Ow(t);break;case 21:break;default:Si(e,t),Hi(t)}}function Hi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Kb(n)){var i=n;break e}n=n.return}throw Error(K(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(_l(r,""),i.flags&=-33);var s=Mw(t);Im(t,s,r);break;case 3:case 4:var a=i.stateNode.containerInfo,c=Mw(t);Pm(t,c,a);break;default:throw Error(K(161))}}catch(u){mt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CO(t,e,n){se=t,Zb(t)}function Zb(t,e,n){for(var i=(t.mode&1)!==0;se!==null;){var r=se,s=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||mu;if(!a){var c=r.alternate,u=c!==null&&c.memoizedState!==null||Zt;c=mu;var h=Zt;if(mu=a,(Zt=u)&&!h)for(se=r;se!==null;)a=se,u=a.child,a.tag===22&&a.memoizedState!==null?Fw(r):u!==null?(u.return=a,se=u):Fw(r);for(;s!==null;)se=s,Zb(s),s=s.sibling;se=r,mu=c,Zt=h}Dw(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,se=s):Dw(t)}}function Dw(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zt||$h(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Zt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:ki(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&_w(e,s,i);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_w(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Sl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Zt||e.flags&512&&Am(e)}catch(g){mt(e,e.return,g)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function Lw(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function Fw(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$h(4,e)}catch(u){mt(e,n,u)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(u){mt(e,r,u)}}var s=e.return;try{Am(e)}catch(u){mt(e,s,u)}break;case 5:var a=e.return;try{Am(e)}catch(u){mt(e,a,u)}}}catch(u){mt(e,e.return,u)}if(e===t){se=null;break}var c=e.sibling;if(c!==null){c.return=e.return,se=c;break}se=e.return}}var TO=Math.ceil,oh=Ar.ReactCurrentDispatcher,$g=Ar.ReactCurrentOwner,hi=Ar.ReactCurrentBatchConfig,Me=0,Lt=null,Tt=null,Ut=0,Bn=0,Bo=gs(0),It=0,Ol=null,$s=0,Hh=0,Hg=0,dl=null,bn=null,Gg=0,la=1/0,pr=null,ah=!1,Rm=null,ss=null,gu=!1,Qr=null,lh=0,pl=0,Mm=null,Mu=-1,Ou=0;function hn(){return Me&6?_t():Mu!==-1?Mu:Mu=_t()}function os(t){return t.mode&1?Me&2&&Ut!==0?Ut&-Ut:cO.transition!==null?(Ou===0&&(Ou=Lx()),Ou):(t=je,t!==0||(t=window.event,t=t===void 0?16:Ux(t.type)),t):1}function Pi(t,e,n,i){if(50<pl)throw pl=0,Mm=null,Error(K(185));Hl(t,n,i),(!(Me&2)||t!==Lt)&&(t===Lt&&(!(Me&2)&&(Hh|=n),It===4&&Kr(t,Ut)),Nn(t,i),n===1&&Me===0&&!(e.mode&1)&&(la=_t()+500,Vh&&ys()))}function Nn(t,e){var n=t.callbackNode;cM(t,e);var i=$u(t,t===Lt?Ut:0);if(i===0)n!==null&&H_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&H_(n),e===1)t.tag===0?lO(zw.bind(null,t)):lb(zw.bind(null,t)),rO(function(){!(Me&6)&&ys()}),n=null;else{switch(Fx(i)){case 1:n=_g;break;case 4:n=Ox;break;case 16:n=qu;break;case 536870912:n=Dx;break;default:n=qu}n=oS(n,Jb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Jb(t,e){if(Mu=-1,Ou=0,Me&6)throw Error(K(327));var n=t.callbackNode;if(Jo()&&t.callbackNode!==n)return null;var i=$u(t,t===Lt?Ut:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=ch(t,i);else{e=i;var r=Me;Me|=2;var s=tS();(Lt!==t||Ut!==e)&&(pr=null,la=_t()+500,zs(t,e));do try{AO();break}catch(c){eS(t,c)}while(!0);Rg(),oh.current=s,Me=r,Tt!==null?e=0:(Lt=null,Ut=0,e=It)}if(e!==0){if(e===2&&(r=om(t),r!==0&&(i=r,e=Om(t,r))),e===1)throw n=Ol,zs(t,0),Kr(t,i),Nn(t,_t()),n;if(e===6)Kr(t,i);else{if(r=t.current.alternate,!(i&30)&&!EO(r)&&(e=ch(t,i),e===2&&(s=om(t),s!==0&&(i=s,e=Om(t,s))),e===1))throw n=Ol,zs(t,0),Kr(t,i),Nn(t,_t()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(K(345));case 2:Ms(t,bn,pr);break;case 3:if(Kr(t,i),(i&130023424)===i&&(e=Gg+500-_t(),10<e)){if($u(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){hn(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=pm(Ms.bind(null,t,bn,pr),e);break}Ms(t,bn,pr);break;case 4:if(Kr(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-Ai(i);s=1<<a,a=e[a],a>r&&(r=a),i&=~s}if(i=r,i=_t()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*TO(i/1960))-i,10<i){t.timeoutHandle=pm(Ms.bind(null,t,bn,pr),i);break}Ms(t,bn,pr);break;case 5:Ms(t,bn,pr);break;default:throw Error(K(329))}}}return Nn(t,_t()),t.callbackNode===n?Jb.bind(null,t):null}function Om(t,e){var n=dl;return t.current.memoizedState.isDehydrated&&(zs(t,e).flags|=256),t=ch(t,e),t!==2&&(e=bn,bn=n,e!==null&&Dm(e)),t}function Dm(t){bn===null?bn=t:bn.push.apply(bn,t)}function EO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Di(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Kr(t,e){for(e&=~Hg,e&=~Hh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ai(e),i=1<<n;t[n]=-1,e&=~i}}function zw(t){if(Me&6)throw Error(K(327));Jo();var e=$u(t,0);if(!(e&1))return Nn(t,_t()),null;var n=ch(t,e);if(t.tag!==0&&n===2){var i=om(t);i!==0&&(e=i,n=Om(t,i))}if(n===1)throw n=Ol,zs(t,0),Kr(t,e),Nn(t,_t()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ms(t,bn,pr),Nn(t,_t()),null}function Yg(t,e){var n=Me;Me|=1;try{return t(e)}finally{Me=n,Me===0&&(la=_t()+500,Vh&&ys())}}function Hs(t){Qr!==null&&Qr.tag===0&&!(Me&6)&&Jo();var e=Me;Me|=1;var n=hi.transition,i=je;try{if(hi.transition=null,je=1,t)return t()}finally{je=i,hi.transition=n,Me=e,!(Me&6)&&ys()}}function Kg(){Bn=Bo.current,Qe(Bo)}function zs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iO(n)),Tt!==null)for(n=Tt.return;n!==null;){var i=n;switch(Ag(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Xu();break;case 3:oa(),Qe(Tn),Qe(tn),zg();break;case 5:Fg(i);break;case 4:oa();break;case 13:Qe(ct);break;case 19:Qe(ct);break;case 10:Mg(i.type._context);break;case 22:case 23:Kg()}n=n.return}if(Lt=t,Tt=t=as(t.current,null),Ut=Bn=e,It=0,Ol=null,Hg=Hh=$s=0,bn=dl=null,Ds!==null){for(e=0;e<Ds.length;e++)if(n=Ds[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var a=s.next;s.next=r,i.next=a}n.pending=i}Ds=null}return t}function eS(t,e){do{var n=Tt;try{if(Rg(),Pu.current=sh,rh){for(var i=ut.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}rh=!1}if(qs=0,Dt=Pt=ut=null,hl=!1,Il=0,$g.current=null,n===null||n.return===null){It=1,Ol=e,Tt=null;break}e:{var s=t,a=n.return,c=n,u=e;if(e=Ut,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,d=c,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Cw(a);if(y!==null){y.flags&=-257,Tw(y,a,c,s,e),y.mode&1&&kw(s,h,e),e=y,u=h;var w=e.updateQueue;if(w===null){var b=new Set;b.add(u),e.updateQueue=b}else w.add(u);break e}else{if(!(e&1)){kw(s,h,e),Xg();break e}u=Error(K(426))}}else if(it&&c.mode&1){var T=Cw(a);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Tw(T,a,c,s,e),Pg(aa(u,c));break e}}s=u=aa(u,c),It!==4&&(It=2),dl===null?dl=[s]:dl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=Fb(s,u,e);vw(s,v);break e;case 1:c=u;var S=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(ss===null||!ss.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=zb(s,c,e);vw(s,A);break e}}s=s.return}while(s!==null)}iS(n)}catch(N){e=N,Tt===n&&n!==null&&(Tt=n=n.return);continue}break}while(!0)}function tS(){var t=oh.current;return oh.current=sh,t===null?sh:t}function Xg(){(It===0||It===3||It===2)&&(It=4),Lt===null||!($s&268435455)&&!(Hh&268435455)||Kr(Lt,Ut)}function ch(t,e){var n=Me;Me|=2;var i=tS();(Lt!==t||Ut!==e)&&(pr=null,zs(t,e));do try{NO();break}catch(r){eS(t,r)}while(!0);if(Rg(),Me=n,oh.current=i,Tt!==null)throw Error(K(261));return Lt=null,Ut=0,It}function NO(){for(;Tt!==null;)nS(Tt)}function AO(){for(;Tt!==null&&!eM();)nS(Tt)}function nS(t){var e=sS(t.alternate,t,Bn);t.memoizedProps=t.pendingProps,e===null?iS(t):Tt=e,$g.current=null}function iS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bO(n,e),n!==null){n.flags&=32767,Tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{It=6,Tt=null;return}}else if(n=xO(n,e,Bn),n!==null){Tt=n;return}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=t}while(e!==null);It===0&&(It=5)}function Ms(t,e,n){var i=je,r=hi.transition;try{hi.transition=null,je=1,PO(t,e,n,i)}finally{hi.transition=r,je=i}return null}function PO(t,e,n,i){do Jo();while(Qr!==null);if(Me&6)throw Error(K(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(uM(t,s),t===Lt&&(Tt=Lt=null,Ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gu||(gu=!0,oS(qu,function(){return Jo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=hi.transition,hi.transition=null;var a=je;je=1;var c=Me;Me|=4,$g.current=null,kO(t,n),Qb(n,t),XM(fm),Hu=!!hm,fm=hm=null,t.current=n,CO(n),tM(),Me=c,je=a,hi.transition=s}else t.current=n;if(gu&&(gu=!1,Qr=t,lh=r),s=t.pendingLanes,s===0&&(ss=null),rM(n.stateNode),Nn(t,_t()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(ah)throw ah=!1,t=Rm,Rm=null,t;return lh&1&&t.tag!==0&&Jo(),s=t.pendingLanes,s&1?t===Mm?pl++:(pl=0,Mm=t):pl=0,ys(),null}function Jo(){if(Qr!==null){var t=Fx(lh),e=hi.transition,n=je;try{if(hi.transition=null,je=16>t?16:t,Qr===null)var i=!1;else{if(t=Qr,Qr=null,lh=0,Me&6)throw Error(K(331));var r=Me;for(Me|=4,se=t.current;se!==null;){var s=se,a=s.child;if(se.flags&16){var c=s.deletions;if(c!==null){for(var u=0;u<c.length;u++){var h=c[u];for(se=h;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:fl(8,d,s)}var p=d.child;if(p!==null)p.return=d,se=p;else for(;se!==null;){d=se;var g=d.sibling,y=d.return;if(Yb(d),d===h){se=null;break}if(g!==null){g.return=y,se=g;break}se=y}}}var w=s.alternate;if(w!==null){var b=w.child;if(b!==null){w.child=null;do{var T=b.sibling;b.sibling=null,b=T}while(b!==null)}}se=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,se=a;else e:for(;se!==null;){if(s=se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fl(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,se=v;break e}se=s.return}}var S=t.current;for(se=S;se!==null;){a=se;var k=a.child;if(a.subtreeFlags&2064&&k!==null)k.return=a,se=k;else e:for(a=S;se!==null;){if(c=se,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:$h(9,c)}}catch(N){mt(c,c.return,N)}if(c===a){se=null;break e}var A=c.sibling;if(A!==null){A.return=c.return,se=A;break e}se=c.return}}if(Me=r,ys(),Ki&&typeof Ki.onPostCommitFiberRoot=="function")try{Ki.onPostCommitFiberRoot(Fh,t)}catch{}i=!0}return i}finally{je=n,hi.transition=e}}return!1}function jw(t,e,n){e=aa(n,e),e=Fb(t,e,1),t=rs(t,e,1),e=hn(),t!==null&&(Hl(t,1,e),Nn(t,e))}function mt(t,e,n){if(t.tag===3)jw(t,t,n);else for(;e!==null;){if(e.tag===3){jw(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ss===null||!ss.has(i))){t=aa(n,t),t=zb(e,t,1),e=rs(e,t,1),t=hn(),e!==null&&(Hl(e,1,t),Nn(e,t));break}}e=e.return}}function IO(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=hn(),t.pingedLanes|=t.suspendedLanes&n,Lt===t&&(Ut&n)===n&&(It===4||It===3&&(Ut&130023424)===Ut&&500>_t()-Gg?zs(t,0):Hg|=n),Nn(t,e)}function rS(t,e){e===0&&(t.mode&1?(e=ou,ou<<=1,!(ou&130023424)&&(ou=4194304)):e=1);var n=hn();t=Tr(t,e),t!==null&&(Hl(t,e,n),Nn(t,n))}function RO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),rS(t,n)}function MO(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(K(314))}i!==null&&i.delete(e),rS(t,n)}var sS;sS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tn.current)kn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return kn=!1,wO(t,e,n);kn=!!(t.flags&131072)}else kn=!1,it&&e.flags&1048576&&cb(e,Ju,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Ru(t,e),t=e.pendingProps;var r=ia(e,tn.current);Zo(e,n),r=Bg(null,e,i,t,r,n);var s=Wg();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,En(i)?(s=!0,Qu(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Dg(e),r.updater=qh,e.stateNode=r,r._reactInternals=e,xm(e,i,t,n),e=km(null,e,i,!0,s,n)):(e.tag=0,it&&s&&Ng(e),an(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Ru(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=DO(i),t=ki(i,t),r){case 0:e=Sm(null,e,i,t,n);break e;case 1:e=Aw(null,e,i,t,n);break e;case 11:e=Ew(null,e,i,t,n);break e;case 14:e=Nw(null,e,i,ki(i.type,t),n);break e}throw Error(K(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ki(i,r),Sm(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ki(i,r),Aw(t,e,i,r,n);case 3:e:{if(Vb(e),t===null)throw Error(K(387));i=e.pendingProps,s=e.memoizedState,r=s.element,mb(t,e),nh(e,i,null,n);var a=e.memoizedState;if(i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=aa(Error(K(423)),e),e=Pw(t,e,i,n,r);break e}else if(i!==r){r=aa(Error(K(424)),e),e=Pw(t,e,i,n,r);break e}else for(Vn=is(e.stateNode.containerInfo.firstChild),qn=e,it=!0,Ti=null,n=db(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ra(),i===r){e=Er(t,e,n);break e}an(t,e,i,n)}e=e.child}return e;case 5:return gb(e),t===null&&vm(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,a=r.children,dm(i,r)?a=null:s!==null&&dm(i,s)&&(e.flags|=32),Wb(t,e),an(t,e,a,n),e.child;case 6:return t===null&&vm(e),null;case 13:return Ub(t,e,n);case 4:return Lg(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=sa(e,null,i,n):an(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ki(i,r),Ew(t,e,i,r,n);case 7:return an(t,e,e.pendingProps,n),e.child;case 8:return an(t,e,e.pendingProps.children,n),e.child;case 12:return an(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,a=r.value,He(eh,i._currentValue),i._currentValue=a,s!==null)if(Di(s.value,a)){if(s.children===r.children&&!Tn.current){e=Er(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){a=s.child;for(var u=c.firstContext;u!==null;){if(u.context===i){if(s.tag===1){u=wr(-1,n&-n),u.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?u.next=u:(u.next=d.next,d.next=u),h.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),_m(s.return,n,e),c.lanes|=n;break}u=u.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(K(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),_m(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}an(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Zo(e,n),r=pi(r),i=i(r),e.flags|=1,an(t,e,i,n),e.child;case 14:return i=e.type,r=ki(i,e.pendingProps),r=ki(i.type,r),Nw(t,e,i,r,n);case 15:return jb(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ki(i,r),Ru(t,e),e.tag=1,En(i)?(t=!0,Qu(e)):t=!1,Zo(e,n),Lb(e,i,r),xm(e,i,r,n),km(null,e,i,!0,t,n);case 19:return qb(t,e,n);case 22:return Bb(t,e,n)}throw Error(K(156,e.tag))};function oS(t,e){return Mx(t,e)}function OO(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(t,e,n,i){return new OO(t,e,n,i)}function Qg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DO(t){if(typeof t=="function")return Qg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gg)return 11;if(t===yg)return 14}return 2}function as(t,e){var n=t.alternate;return n===null?(n=li(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Du(t,e,n,i,r,s){var a=2;if(i=t,typeof t=="function")Qg(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Po:return js(n.children,r,s,e);case mg:a=8,r|=8;break;case $p:return t=li(12,n,e,r|2),t.elementType=$p,t.lanes=s,t;case Hp:return t=li(13,n,e,r),t.elementType=Hp,t.lanes=s,t;case Gp:return t=li(19,n,e,r),t.elementType=Gp,t.lanes=s,t;case gx:return Gh(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case px:a=10;break e;case mx:a=9;break e;case gg:a=11;break e;case yg:a=14;break e;case $r:a=16,i=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=li(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function js(t,e,n,i){return t=li(7,t,i,e),t.lanes=n,t}function Gh(t,e,n,i){return t=li(22,t,i,e),t.elementType=gx,t.lanes=n,t.stateNode={isHidden:!1},t}function _p(t,e,n){return t=li(6,t,null,e),t.lanes=n,t}function wp(t,e,n){return e=li(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function LO(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ep(0),this.expirationTimes=ep(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ep(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Zg(t,e,n,i,r,s,a,c,u){return t=new LO(t,e,n,c,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=li(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dg(s),t}function FO(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ao,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function aS(t){if(!t)return fs;t=t._reactInternals;e:{if(no(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(En(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(En(n))return ab(t,n,e)}return e}function lS(t,e,n,i,r,s,a,c,u){return t=Zg(n,i,!0,t,r,s,a,c,u),t.context=aS(null),n=t.current,i=hn(),r=os(n),s=wr(i,r),s.callback=e??null,rs(n,s,r),t.current.lanes=r,Hl(t,r,i),Nn(t,i),t}function Yh(t,e,n,i){var r=e.current,s=hn(),a=os(r);return n=aS(n),e.context===null?e.context=n:e.pendingContext=n,e=wr(s,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=rs(r,e,a),t!==null&&(Pi(t,r,a,s),Au(t,r,a)),a}function uh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Bw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jg(t,e){Bw(t,e),(t=t.alternate)&&Bw(t,e)}function zO(){return null}var cS=typeof reportError=="function"?reportError:function(t){console.error(t)};function ey(t){this._internalRoot=t}Kh.prototype.render=ey.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Yh(t,e,null,null)};Kh.prototype.unmount=ey.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hs(function(){Yh(null,t,null,null)}),e[Cr]=null}};function Kh(t){this._internalRoot=t}Kh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Bx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yr.length&&e!==0&&e<Yr[n].priority;n++);Yr.splice(n,0,t),n===0&&Vx(t)}};function ty(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ww(){}function jO(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var h=uh(a);s.call(h)}}var a=lS(e,i,t,0,null,!1,!1,"",Ww);return t._reactRootContainer=a,t[Cr]=a.current,Tl(t.nodeType===8?t.parentNode:t),Hs(),a}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var c=i;i=function(){var h=uh(u);c.call(h)}}var u=Zg(t,0,!1,null,null,!1,!1,"",Ww);return t._reactRootContainer=u,t[Cr]=u.current,Tl(t.nodeType===8?t.parentNode:t),Hs(function(){Yh(e,u,n,i)}),u}function Qh(t,e,n,i,r){var s=n._reactRootContainer;if(s){var a=s;if(typeof r=="function"){var c=r;r=function(){var u=uh(a);c.call(u)}}Yh(e,a,t,r)}else a=jO(n,e,t,r,i);return uh(a)}zx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rl(e.pendingLanes);n!==0&&(wg(e,n|1),Nn(e,_t()),!(Me&6)&&(la=_t()+500,ys()))}break;case 13:Hs(function(){var i=Tr(t,1);if(i!==null){var r=hn();Pi(i,t,1,r)}}),Jg(t,1)}};xg=function(t){if(t.tag===13){var e=Tr(t,134217728);if(e!==null){var n=hn();Pi(e,t,134217728,n)}Jg(t,134217728)}};jx=function(t){if(t.tag===13){var e=os(t),n=Tr(t,e);if(n!==null){var i=hn();Pi(n,t,e,i)}Jg(t,e)}};Bx=function(){return je};Wx=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};im=function(t,e,n){switch(e){case"input":if(Xp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Wh(i);if(!r)throw Error(K(90));vx(i),Xp(i,r)}}}break;case"textarea":wx(t,n);break;case"select":e=n.value,e!=null&&Yo(t,!!n.multiple,e,!1)}};Ex=Yg;Nx=Hs;var BO={usingClientEntryPoint:!1,Events:[Yl,Oo,Wh,Cx,Tx,Yg]},tl={findFiberByHostInstance:Os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WO={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ix(t),t===null?null:t.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||zO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{Fh=yu.inject(WO),Ki=yu}catch{}}Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BO;Yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ty(e))throw Error(K(200));return FO(t,e,null,n)};Yn.createRoot=function(t,e){if(!ty(t))throw Error(K(299));var n=!1,i="",r=cS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Zg(t,1,!1,null,null,n,!1,i,r),t[Cr]=e.current,Tl(t.nodeType===8?t.parentNode:t),new ey(e)};Yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=Ix(e),t=t===null?null:t.stateNode,t};Yn.flushSync=function(t){return Hs(t)};Yn.hydrate=function(t,e,n){if(!Xh(e))throw Error(K(200));return Qh(null,t,e,!0,n)};Yn.hydrateRoot=function(t,e,n){if(!ty(t))throw Error(K(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",a=cS;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=lS(e,null,t,1,n??null,r,!1,s,a),t[Cr]=e.current,Tl(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Kh(e)};Yn.render=function(t,e,n){if(!Xh(e))throw Error(K(200));return Qh(null,t,e,!1,n)};Yn.unmountComponentAtNode=function(t){if(!Xh(t))throw Error(K(40));return t._reactRootContainer?(Hs(function(){Qh(null,null,t,!1,function(){t._reactRootContainer=null,t[Cr]=null})}),!0):!1};Yn.unstable_batchedUpdates=Yg;Yn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Xh(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Qh(t,e,n,!1,i)};Yn.version="18.3.1-next-f1338f8080-20240426";function uS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uS)}catch(t){console.error(t)}}uS(),ux.exports=Yn;var VO=ux.exports,hS,Vw=VO;hS=Vw.createRoot,Vw.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Dl.apply(this,arguments)}var Zr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zr||(Zr={}));const Uw="popstate";function UO(t){t===void 0&&(t={});function e(r,s){let{pathname:a="/",search:c="",hash:u=""}=io(r.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Lm("",{pathname:a,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){let a=r.document.querySelector("base"),c="";if(a&&a.getAttribute("href")){let u=r.location.href,h=u.indexOf("#");c=h===-1?u:u.slice(0,h)}return c+"#"+(typeof s=="string"?s:hh(s))}function i(r,s){ny(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return $O(e,n,i,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ny(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qO(){return Math.random().toString(36).substr(2,8)}function qw(t,e){return{usr:t.state,key:t.key,idx:e}}function Lm(t,e,n,i){return n===void 0&&(n=null),Dl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?io(e):e,{state:n,key:e&&e.key||i||qO()})}function hh(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function io(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function $O(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,c=Zr.Pop,u=null,h=d();h==null&&(h=0,a.replaceState(Dl({},a.state,{idx:h}),""));function d(){return(a.state||{idx:null}).idx}function p(){c=Zr.Pop;let T=d(),v=T==null?null:T-h;h=T,u&&u({action:c,location:b.location,delta:v})}function g(T,v){c=Zr.Push;let S=Lm(b.location,T,v);n&&n(S,T),h=d()+1;let k=qw(S,h),A=b.createHref(S);try{a.pushState(k,"",A)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(A)}s&&u&&u({action:c,location:b.location,delta:1})}function y(T,v){c=Zr.Replace;let S=Lm(b.location,T,v);n&&n(S,T),h=d();let k=qw(S,h),A=b.createHref(S);a.replaceState(k,"",A),s&&u&&u({action:c,location:b.location,delta:0})}function w(T){let v=r.location.origin!=="null"?r.location.origin:r.location.href,S=typeof T=="string"?T:hh(T);return S=S.replace(/ $/,"%20"),Et(v,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,v)}let b={get action(){return c},get location(){return t(r,a)},listen(T){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(Uw,p),u=T,()=>{r.removeEventListener(Uw,p),u=null}},createHref(T){return e(r,T)},createURL:w,encodeLocation(T){let v=w(T);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:g,replace:y,go(T){return a.go(T)}};return b}var $w;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($w||($w={}));function HO(t,e,n){return n===void 0&&(n="/"),GO(t,e,n,!1)}function GO(t,e,n,i){let r=typeof e=="string"?io(e):e,s=iy(r.pathname||"/",n);if(s==null)return null;let a=fS(t);YO(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let h=sD(s);c=iD(a[u],h,i)}return c}function fS(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,a,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(Et(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let h=ls([i,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(Et(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),fS(s.children,e,d,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:tD(h,s.index),routesMeta:d})};return t.forEach((s,a)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))r(s,a);else for(let u of dS(s.path))r(s,a,u)}),e}function dS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=dS(i.join("/")),c=[];return c.push(...a.map(u=>u===""?s:[s,u].join("/"))),r&&c.push(...a),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function YO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nD(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const KO=/^:[\w-]+$/,XO=3,QO=2,ZO=1,JO=10,eD=-2,Hw=t=>t==="*";function tD(t,e){let n=t.split("/"),i=n.length;return n.some(Hw)&&(i+=eD),e&&(i+=QO),n.filter(r=>!Hw(r)).reduce((r,s)=>r+(KO.test(s)?XO:s===""?ZO:JO),i)}function nD(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function iD(t,e,n){let{routesMeta:i}=t,r={},s="/",a=[];for(let c=0;c<i.length;++c){let u=i[c],h=c===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=Gw({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},d),g=u.route;if(!p&&h&&n&&!i[i.length-1].route.index&&(p=Gw({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!p)return null;Object.assign(r,p.params),a.push({params:r,pathname:ls([s,p.pathname]),pathnameBase:cD(ls([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=ls([s,p.pathnameBase]))}return a}function Gw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=rD(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((h,d,p)=>{let{paramName:g,isOptional:y}=d;if(g==="*"){let b=c[p]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const w=c[p];return y&&!w?h[g]=void 0:h[g]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:a,pattern:t}}function rD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ny(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(i.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function sD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ny(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function iy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function oD(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?io(t):t;return{pathname:n?n.startsWith("/")?n:aD(n,e):e,search:uD(i),hash:hD(r)}}function aD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function xp(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pS(t,e){let n=lD(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function mS(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=io(t):(r=Dl({},t),Et(!r.pathname||!r.pathname.includes("?"),xp("?","pathname","search",r)),Et(!r.pathname||!r.pathname.includes("#"),xp("#","pathname","hash",r)),Et(!r.search||!r.search.includes("#"),xp("#","search","hash",r)));let s=t===""||r.pathname==="",a=s?"/":r.pathname,c;if(a==null)c=n;else{let p=e.length-1;if(!i&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p-=1;r.pathname=g.join("/")}c=p>=0?e[p]:"/"}let u=oD(r,c),h=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||d)&&(u.pathname+="/"),u}const ls=t=>t.join("/").replace(/\/\/+/g,"/"),cD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const gS=["post","put","patch","delete"];new Set(gS);const dD=["get",...gS];new Set(dD);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ll(){return Ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ll.apply(this,arguments)}const ry=G.createContext(null),pD=G.createContext(null),ro=G.createContext(null),Zh=G.createContext(null),so=G.createContext({outlet:null,matches:[],isDataRoute:!1}),yS=G.createContext(null);function mD(t,e){let{relative:n}=e===void 0?{}:e;Xl()||Et(!1);let{basename:i,navigator:r}=G.useContext(ro),{hash:s,pathname:a,search:c}=_S(t,{relative:n}),u=a;return i!=="/"&&(u=a==="/"?i:ls([i,a])),r.createHref({pathname:u,search:c,hash:s})}function Xl(){return G.useContext(Zh)!=null}function Jh(){return Xl()||Et(!1),G.useContext(Zh).location}function vS(t){G.useContext(ro).static||G.useLayoutEffect(t)}function gD(){let{isDataRoute:t}=G.useContext(so);return t?AD():yD()}function yD(){Xl()||Et(!1);let t=G.useContext(ry),{basename:e,future:n,navigator:i}=G.useContext(ro),{matches:r}=G.useContext(so),{pathname:s}=Jh(),a=JSON.stringify(pS(r,n.v7_relativeSplatPath)),c=G.useRef(!1);return vS(()=>{c.current=!0}),G.useCallback(function(h,d){if(d===void 0&&(d={}),!c.current)return;if(typeof h=="number"){i.go(h);return}let p=mS(h,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ls([e,p.pathname])),(d.replace?i.replace:i.push)(p,d.state,d)},[e,i,a,s,t])}function _S(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=G.useContext(ro),{matches:r}=G.useContext(so),{pathname:s}=Jh(),a=JSON.stringify(pS(r,i.v7_relativeSplatPath));return G.useMemo(()=>mS(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function vD(t,e){return _D(t,e)}function _D(t,e,n,i){Xl()||Et(!1);let{navigator:r}=G.useContext(ro),{matches:s}=G.useContext(so),a=s[s.length-1],c=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let h=Jh(),d;if(e){var p;let T=typeof e=="string"?io(e):e;u==="/"||(p=T.pathname)!=null&&p.startsWith(u)||Et(!1),d=T}else d=h;let g=d.pathname||"/",y=g;if(u!=="/"){let T=u.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(T.length).join("/")}let w=HO(t,{pathname:y}),b=kD(w&&w.map(T=>Object.assign({},T,{params:Object.assign({},c,T.params),pathname:ls([u,r.encodeLocation?r.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?u:ls([u,r.encodeLocation?r.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,i);return e&&b?G.createElement(Zh.Provider,{value:{location:Ll({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Zr.Pop}},b):b}function wD(){let t=ND(),e=fD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:r},n):null,null)}const xD=G.createElement(wD,null);class bD extends G.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?G.createElement(so.Provider,{value:this.props.routeContext},G.createElement(yS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SD(t){let{routeContext:e,match:n,children:i}=t,r=G.useContext(ry);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),G.createElement(so.Provider,{value:e},i)}function kD(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=(r=n)==null?void 0:r.errors;if(c!=null){let d=a.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);d>=0||Et(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,h=-1;if(n&&i&&i.v7_partialHydration)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:g,errors:y}=n,w=p.route.loader&&g[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||w){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,p,g)=>{let y,w=!1,b=null,T=null;n&&(y=c&&p.route.id?c[p.route.id]:void 0,b=p.route.errorElement||xD,u&&(h<0&&g===0?(w=!0,T=null):h===g&&(w=!0,T=p.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,g+1)),S=()=>{let k;return y?k=b:w?k=T:p.route.Component?k=G.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=d,G.createElement(SD,{match:p,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:k})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?G.createElement(bD,{location:n.location,revalidation:n.revalidation,component:b,error:y,children:S(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):S()},null)}var wS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(wS||{}),fh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(fh||{});function CD(t){let e=G.useContext(ry);return e||Et(!1),e}function TD(t){let e=G.useContext(pD);return e||Et(!1),e}function ED(t){let e=G.useContext(so);return e||Et(!1),e}function xS(t){let e=ED(),n=e.matches[e.matches.length-1];return n.route.id||Et(!1),n.route.id}function ND(){var t;let e=G.useContext(yS),n=TD(fh.UseRouteError),i=xS(fh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function AD(){let{router:t}=CD(wS.UseNavigateStable),e=xS(fh.UseNavigateStable),n=G.useRef(!1);return vS(()=>{n.current=!0}),G.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Ll({fromRouteId:e},s)))},[t,e])}function ln(t){Et(!1)}function PD(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Zr.Pop,navigator:s,static:a=!1,future:c}=t;Xl()&&Et(!1);let u=e.replace(/^\/*/,"/"),h=G.useMemo(()=>({basename:u,navigator:s,static:a,future:Ll({v7_relativeSplatPath:!1},c)}),[u,c,s,a]);typeof i=="string"&&(i=io(i));let{pathname:d="/",search:p="",hash:g="",state:y=null,key:w="default"}=i,b=G.useMemo(()=>{let T=iy(d,u);return T==null?null:{location:{pathname:T,search:p,hash:g,state:y,key:w},navigationType:r}},[u,d,p,g,y,w,r]);return b==null?null:G.createElement(ro.Provider,{value:h},G.createElement(Zh.Provider,{children:n,value:b}))}function sy(t){let{children:e,location:n}=t;return vD(Fm(e),n)}new Promise(()=>{});function Fm(t,e){e===void 0&&(e=[]);let n=[];return G.Children.forEach(t,(i,r)=>{if(!G.isValidElement(i))return;let s=[...e,r];if(i.type===G.Fragment){n.push.apply(n,Fm(i.props.children,s));return}i.type!==ln&&Et(!1),!i.props.index||!i.props.children||Et(!1);let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Fm(i.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zm(){return zm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},zm.apply(this,arguments)}function ID(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function RD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MD(t,e){return t.button===0&&(!e||e==="_self")&&!RD(t)}const OD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],DD="6";try{window.__reactRouterVersion=DD}catch{}const LD="startTransition",Yw=IR[LD];function FD(t){let{basename:e,children:n,future:i,window:r}=t,s=G.useRef();s.current==null&&(s.current=UO({window:r,v5Compat:!0}));let a=s.current,[c,u]=G.useState({action:a.action,location:a.location}),{v7_startTransition:h}=i||{},d=G.useCallback(p=>{h&&Yw?Yw(()=>u(p)):u(p)},[u,h]);return G.useLayoutEffect(()=>a.listen(d),[a,d]),G.createElement(PD,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a,future:i})}const zD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ci=G.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:a,state:c,target:u,to:h,preventScrollReset:d,viewTransition:p}=e,g=ID(e,OD),{basename:y}=G.useContext(ro),w,b=!1;if(typeof h=="string"&&jD.test(h)&&(w=h,zD))try{let k=new URL(window.location.href),A=h.startsWith("//")?new URL(k.protocol+h):new URL(h),N=iy(A.pathname,y);A.origin===k.origin&&N!=null?h=N+A.search+A.hash:b=!0}catch{}let T=mD(h,{relative:r}),v=BD(h,{replace:a,state:c,target:u,preventScrollReset:d,relative:r,viewTransition:p});function S(k){i&&i(k),k.defaultPrevented||v(k)}return G.createElement("a",zm({},g,{href:w||T,onClick:b||s?i:S,ref:n,target:u}))});var Kw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Kw||(Kw={}));var Xw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Xw||(Xw={}));function BD(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:a,viewTransition:c}=e===void 0?{}:e,u=gD(),h=Jh(),d=_S(t,{relative:a});return G.useCallback(p=>{if(MD(p,n)){p.preventDefault();let g=i!==void 0?i:hh(h)===hh(d);u(t,{replace:g,state:r,preventScrollReset:s,relative:a,viewTransition:c})}},[h,u,d,i,r,n,t,s,a,c])}var dh={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */dh.exports;(function(t,e){(function(){var n,i="4.17.21",r=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",h=500,d="__lodash_placeholder__",p=1,g=2,y=4,w=1,b=2,T=1,v=2,S=4,k=8,A=16,N=32,R=64,M=128,I=256,j=512,z=30,W="...",q=800,Z=16,te=1,ce=2,re=3,ne=1/0,$=9007199254740991,Y=17976931348623157e292,X=NaN,Q=4294967295,pe=Q-1,St=Q>>>1,st=[["ary",M],["bind",T],["bindKey",v],["curry",k],["curryRight",A],["flip",j],["partial",N],["partialRight",R],["rearg",I]],ge="[object Arguments]",Te="[object Array]",dt="[object AsyncFunction]",ae="[object Boolean]",In="[object Date]",ir="[object DOMException]",yi="[object Error]",vi="[object Function]",fc="[object GeneratorFunction]",Rn="[object Map]",ee="[object Number]",me="[object Null]",Le="[object Object]",qe="[object Promise]",Re="[object Proxy]",Be="[object RegExp]",et="[object Set]",yn="[object String]",Vi="[object Symbol]",Ia="[object Undefined]",bs="[object WeakMap]",Ef="[object WeakSet]",Ra="[object ArrayBuffer]",co="[object DataView]",Nf="[object Float32Array]",Af="[object Float64Array]",Pf="[object Int8Array]",If="[object Int16Array]",Rf="[object Int32Array]",Mf="[object Uint8Array]",Of="[object Uint8ClampedArray]",Df="[object Uint16Array]",Lf="[object Uint32Array]",OC=/\b__p \+= '';/g,DC=/\b(__p \+=) '' \+/g,LC=/(__e\(.*?\)|\b__t\)) \+\n'';/g,sv=/&(?:amp|lt|gt|quot|#39);/g,ov=/[&<>"']/g,FC=RegExp(sv.source),zC=RegExp(ov.source),jC=/<%-([\s\S]+?)%>/g,BC=/<%([\s\S]+?)%>/g,av=/<%=([\s\S]+?)%>/g,WC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,VC=/^\w*$/,UC=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ff=/[\\^$.*+?()[\]{}|]/g,qC=RegExp(Ff.source),zf=/^\s+/,$C=/\s/,HC=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,GC=/\{\n\/\* \[wrapped with (.+)\] \*/,YC=/,? & /,KC=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,XC=/[()=,{}\[\]\/\s]/,QC=/\\(\\)?/g,ZC=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,lv=/\w*$/,JC=/^[-+]0x[0-9a-f]+$/i,eT=/^0b[01]+$/i,tT=/^\[object .+?Constructor\]$/,nT=/^0o[0-7]+$/i,iT=/^(?:0|[1-9]\d*)$/,rT=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,dc=/($^)/,sT=/['\n\r\u2028\u2029\\]/g,pc="\\ud800-\\udfff",oT="\\u0300-\\u036f",aT="\\ufe20-\\ufe2f",lT="\\u20d0-\\u20ff",cv=oT+aT+lT,uv="\\u2700-\\u27bf",hv="a-z\\xdf-\\xf6\\xf8-\\xff",cT="\\xac\\xb1\\xd7\\xf7",uT="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",hT="\\u2000-\\u206f",fT=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fv="A-Z\\xc0-\\xd6\\xd8-\\xde",dv="\\ufe0e\\ufe0f",pv=cT+uT+hT+fT,jf="[']",dT="["+pc+"]",mv="["+pv+"]",mc="["+cv+"]",gv="\\d+",pT="["+uv+"]",yv="["+hv+"]",vv="[^"+pc+pv+gv+uv+hv+fv+"]",Bf="\\ud83c[\\udffb-\\udfff]",mT="(?:"+mc+"|"+Bf+")",_v="[^"+pc+"]",Wf="(?:\\ud83c[\\udde6-\\uddff]){2}",Vf="[\\ud800-\\udbff][\\udc00-\\udfff]",uo="["+fv+"]",wv="\\u200d",xv="(?:"+yv+"|"+vv+")",gT="(?:"+uo+"|"+vv+")",bv="(?:"+jf+"(?:d|ll|m|re|s|t|ve))?",Sv="(?:"+jf+"(?:D|LL|M|RE|S|T|VE))?",kv=mT+"?",Cv="["+dv+"]?",yT="(?:"+wv+"(?:"+[_v,Wf,Vf].join("|")+")"+Cv+kv+")*",vT="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",_T="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Tv=Cv+kv+yT,wT="(?:"+[pT,Wf,Vf].join("|")+")"+Tv,xT="(?:"+[_v+mc+"?",mc,Wf,Vf,dT].join("|")+")",bT=RegExp(jf,"g"),ST=RegExp(mc,"g"),Uf=RegExp(Bf+"(?="+Bf+")|"+xT+Tv,"g"),kT=RegExp([uo+"?"+yv+"+"+bv+"(?="+[mv,uo,"$"].join("|")+")",gT+"+"+Sv+"(?="+[mv,uo+xv,"$"].join("|")+")",uo+"?"+xv+"+"+bv,uo+"+"+Sv,_T,vT,gv,wT].join("|"),"g"),CT=RegExp("["+wv+pc+cv+dv+"]"),TT=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ET=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],NT=-1,Ye={};Ye[Nf]=Ye[Af]=Ye[Pf]=Ye[If]=Ye[Rf]=Ye[Mf]=Ye[Of]=Ye[Df]=Ye[Lf]=!0,Ye[ge]=Ye[Te]=Ye[Ra]=Ye[ae]=Ye[co]=Ye[In]=Ye[yi]=Ye[vi]=Ye[Rn]=Ye[ee]=Ye[Le]=Ye[Be]=Ye[et]=Ye[yn]=Ye[bs]=!1;var $e={};$e[ge]=$e[Te]=$e[Ra]=$e[co]=$e[ae]=$e[In]=$e[Nf]=$e[Af]=$e[Pf]=$e[If]=$e[Rf]=$e[Rn]=$e[ee]=$e[Le]=$e[Be]=$e[et]=$e[yn]=$e[Vi]=$e[Mf]=$e[Of]=$e[Df]=$e[Lf]=!0,$e[yi]=$e[vi]=$e[bs]=!1;var AT={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},PT={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},IT={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},RT={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},MT=parseFloat,OT=parseInt,Ev=typeof yr=="object"&&yr&&yr.Object===Object&&yr,DT=typeof self=="object"&&self&&self.Object===Object&&self,Bt=Ev||DT||Function("return this")(),qf=e&&!e.nodeType&&e,Ss=qf&&!0&&t&&!t.nodeType&&t,Nv=Ss&&Ss.exports===qf,$f=Nv&&Ev.process,Xn=function(){try{var D=Ss&&Ss.require&&Ss.require("util").types;return D||$f&&$f.binding&&$f.binding("util")}catch{}}(),Av=Xn&&Xn.isArrayBuffer,Pv=Xn&&Xn.isDate,Iv=Xn&&Xn.isMap,Rv=Xn&&Xn.isRegExp,Mv=Xn&&Xn.isSet,Ov=Xn&&Xn.isTypedArray;function Mn(D,B,F){switch(F.length){case 0:return D.call(B);case 1:return D.call(B,F[0]);case 2:return D.call(B,F[0],F[1]);case 3:return D.call(B,F[0],F[1],F[2])}return D.apply(B,F)}function LT(D,B,F,ie){for(var ve=-1,Oe=D==null?0:D.length;++ve<Oe;){var Nt=D[ve];B(ie,Nt,F(Nt),D)}return ie}function Qn(D,B){for(var F=-1,ie=D==null?0:D.length;++F<ie&&B(D[F],F,D)!==!1;);return D}function FT(D,B){for(var F=D==null?0:D.length;F--&&B(D[F],F,D)!==!1;);return D}function Dv(D,B){for(var F=-1,ie=D==null?0:D.length;++F<ie;)if(!B(D[F],F,D))return!1;return!0}function Mr(D,B){for(var F=-1,ie=D==null?0:D.length,ve=0,Oe=[];++F<ie;){var Nt=D[F];B(Nt,F,D)&&(Oe[ve++]=Nt)}return Oe}function gc(D,B){var F=D==null?0:D.length;return!!F&&ho(D,B,0)>-1}function Hf(D,B,F){for(var ie=-1,ve=D==null?0:D.length;++ie<ve;)if(F(B,D[ie]))return!0;return!1}function tt(D,B){for(var F=-1,ie=D==null?0:D.length,ve=Array(ie);++F<ie;)ve[F]=B(D[F],F,D);return ve}function Or(D,B){for(var F=-1,ie=B.length,ve=D.length;++F<ie;)D[ve+F]=B[F];return D}function Gf(D,B,F,ie){var ve=-1,Oe=D==null?0:D.length;for(ie&&Oe&&(F=D[++ve]);++ve<Oe;)F=B(F,D[ve],ve,D);return F}function zT(D,B,F,ie){var ve=D==null?0:D.length;for(ie&&ve&&(F=D[--ve]);ve--;)F=B(F,D[ve],ve,D);return F}function Yf(D,B){for(var F=-1,ie=D==null?0:D.length;++F<ie;)if(B(D[F],F,D))return!0;return!1}var jT=Kf("length");function BT(D){return D.split("")}function WT(D){return D.match(KC)||[]}function Lv(D,B,F){var ie;return F(D,function(ve,Oe,Nt){if(B(ve,Oe,Nt))return ie=Oe,!1}),ie}function yc(D,B,F,ie){for(var ve=D.length,Oe=F+(ie?1:-1);ie?Oe--:++Oe<ve;)if(B(D[Oe],Oe,D))return Oe;return-1}function ho(D,B,F){return B===B?JT(D,B,F):yc(D,Fv,F)}function VT(D,B,F,ie){for(var ve=F-1,Oe=D.length;++ve<Oe;)if(ie(D[ve],B))return ve;return-1}function Fv(D){return D!==D}function zv(D,B){var F=D==null?0:D.length;return F?Qf(D,B)/F:X}function Kf(D){return function(B){return B==null?n:B[D]}}function Xf(D){return function(B){return D==null?n:D[B]}}function jv(D,B,F,ie,ve){return ve(D,function(Oe,Nt,Ue){F=ie?(ie=!1,Oe):B(F,Oe,Nt,Ue)}),F}function UT(D,B){var F=D.length;for(D.sort(B);F--;)D[F]=D[F].value;return D}function Qf(D,B){for(var F,ie=-1,ve=D.length;++ie<ve;){var Oe=B(D[ie]);Oe!==n&&(F=F===n?Oe:F+Oe)}return F}function Zf(D,B){for(var F=-1,ie=Array(D);++F<D;)ie[F]=B(F);return ie}function qT(D,B){return tt(B,function(F){return[F,D[F]]})}function Bv(D){return D&&D.slice(0,qv(D)+1).replace(zf,"")}function On(D){return function(B){return D(B)}}function Jf(D,B){return tt(B,function(F){return D[F]})}function Ma(D,B){return D.has(B)}function Wv(D,B){for(var F=-1,ie=D.length;++F<ie&&ho(B,D[F],0)>-1;);return F}function Vv(D,B){for(var F=D.length;F--&&ho(B,D[F],0)>-1;);return F}function $T(D,B){for(var F=D.length,ie=0;F--;)D[F]===B&&++ie;return ie}var HT=Xf(AT),GT=Xf(PT);function YT(D){return"\\"+RT[D]}function KT(D,B){return D==null?n:D[B]}function fo(D){return CT.test(D)}function XT(D){return TT.test(D)}function QT(D){for(var B,F=[];!(B=D.next()).done;)F.push(B.value);return F}function ed(D){var B=-1,F=Array(D.size);return D.forEach(function(ie,ve){F[++B]=[ve,ie]}),F}function Uv(D,B){return function(F){return D(B(F))}}function Dr(D,B){for(var F=-1,ie=D.length,ve=0,Oe=[];++F<ie;){var Nt=D[F];(Nt===B||Nt===d)&&(D[F]=d,Oe[ve++]=F)}return Oe}function vc(D){var B=-1,F=Array(D.size);return D.forEach(function(ie){F[++B]=ie}),F}function ZT(D){var B=-1,F=Array(D.size);return D.forEach(function(ie){F[++B]=[ie,ie]}),F}function JT(D,B,F){for(var ie=F-1,ve=D.length;++ie<ve;)if(D[ie]===B)return ie;return-1}function eE(D,B,F){for(var ie=F+1;ie--;)if(D[ie]===B)return ie;return ie}function po(D){return fo(D)?nE(D):jT(D)}function _i(D){return fo(D)?iE(D):BT(D)}function qv(D){for(var B=D.length;B--&&$C.test(D.charAt(B)););return B}var tE=Xf(IT);function nE(D){for(var B=Uf.lastIndex=0;Uf.test(D);)++B;return B}function iE(D){return D.match(Uf)||[]}function rE(D){return D.match(kT)||[]}var sE=function D(B){B=B==null?Bt:mo.defaults(Bt.Object(),B,mo.pick(Bt,ET));var F=B.Array,ie=B.Date,ve=B.Error,Oe=B.Function,Nt=B.Math,Ue=B.Object,td=B.RegExp,oE=B.String,Zn=B.TypeError,_c=F.prototype,aE=Oe.prototype,go=Ue.prototype,wc=B["__core-js_shared__"],xc=aE.toString,Fe=go.hasOwnProperty,lE=0,$v=function(){var o=/[^.]+$/.exec(wc&&wc.keys&&wc.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),bc=go.toString,cE=xc.call(Ue),uE=Bt._,hE=td("^"+xc.call(Fe).replace(Ff,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sc=Nv?B.Buffer:n,Lr=B.Symbol,kc=B.Uint8Array,Hv=Sc?Sc.allocUnsafe:n,Cc=Uv(Ue.getPrototypeOf,Ue),Gv=Ue.create,Yv=go.propertyIsEnumerable,Tc=_c.splice,Kv=Lr?Lr.isConcatSpreadable:n,Oa=Lr?Lr.iterator:n,ks=Lr?Lr.toStringTag:n,Ec=function(){try{var o=As(Ue,"defineProperty");return o({},"",{}),o}catch{}}(),fE=B.clearTimeout!==Bt.clearTimeout&&B.clearTimeout,dE=ie&&ie.now!==Bt.Date.now&&ie.now,pE=B.setTimeout!==Bt.setTimeout&&B.setTimeout,Nc=Nt.ceil,Ac=Nt.floor,nd=Ue.getOwnPropertySymbols,mE=Sc?Sc.isBuffer:n,Xv=B.isFinite,gE=_c.join,yE=Uv(Ue.keys,Ue),At=Nt.max,Gt=Nt.min,vE=ie.now,_E=B.parseInt,Qv=Nt.random,wE=_c.reverse,id=As(B,"DataView"),Da=As(B,"Map"),rd=As(B,"Promise"),yo=As(B,"Set"),La=As(B,"WeakMap"),Fa=As(Ue,"create"),Pc=La&&new La,vo={},xE=Ps(id),bE=Ps(Da),SE=Ps(rd),kE=Ps(yo),CE=Ps(La),Ic=Lr?Lr.prototype:n,za=Ic?Ic.valueOf:n,Zv=Ic?Ic.toString:n;function C(o){if(pt(o)&&!_e(o)&&!(o instanceof Ae)){if(o instanceof Jn)return o;if(Fe.call(o,"__wrapped__"))return J0(o)}return new Jn(o)}var _o=function(){function o(){}return function(l){if(!ot(l))return{};if(Gv)return Gv(l);o.prototype=l;var f=new o;return o.prototype=n,f}}();function Rc(){}function Jn(o,l){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=n}C.templateSettings={escape:jC,evaluate:BC,interpolate:av,variable:"",imports:{_:C}},C.prototype=Rc.prototype,C.prototype.constructor=C,Jn.prototype=_o(Rc.prototype),Jn.prototype.constructor=Jn;function Ae(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Q,this.__views__=[]}function TE(){var o=new Ae(this.__wrapped__);return o.__actions__=vn(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=vn(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=vn(this.__views__),o}function EE(){if(this.__filtered__){var o=new Ae(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function NE(){var o=this.__wrapped__.value(),l=this.__dir__,f=_e(o),m=l<0,x=f?o.length:0,E=B2(0,x,this.__views__),P=E.start,O=E.end,L=O-P,V=m?O:P-1,U=this.__iteratees__,H=U.length,J=0,oe=Gt(L,this.__takeCount__);if(!f||!m&&x==L&&oe==L)return b0(o,this.__actions__);var fe=[];e:for(;L--&&J<oe;){V+=l;for(var Se=-1,de=o[V];++Se<H;){var Ee=U[Se],Ie=Ee.iteratee,Fn=Ee.type,on=Ie(de);if(Fn==ce)de=on;else if(!on){if(Fn==te)continue e;break e}}fe[J++]=de}return fe}Ae.prototype=_o(Rc.prototype),Ae.prototype.constructor=Ae;function Cs(o){var l=-1,f=o==null?0:o.length;for(this.clear();++l<f;){var m=o[l];this.set(m[0],m[1])}}function AE(){this.__data__=Fa?Fa(null):{},this.size=0}function PE(o){var l=this.has(o)&&delete this.__data__[o];return this.size-=l?1:0,l}function IE(o){var l=this.__data__;if(Fa){var f=l[o];return f===u?n:f}return Fe.call(l,o)?l[o]:n}function RE(o){var l=this.__data__;return Fa?l[o]!==n:Fe.call(l,o)}function ME(o,l){var f=this.__data__;return this.size+=this.has(o)?0:1,f[o]=Fa&&l===n?u:l,this}Cs.prototype.clear=AE,Cs.prototype.delete=PE,Cs.prototype.get=IE,Cs.prototype.has=RE,Cs.prototype.set=ME;function rr(o){var l=-1,f=o==null?0:o.length;for(this.clear();++l<f;){var m=o[l];this.set(m[0],m[1])}}function OE(){this.__data__=[],this.size=0}function DE(o){var l=this.__data__,f=Mc(l,o);if(f<0)return!1;var m=l.length-1;return f==m?l.pop():Tc.call(l,f,1),--this.size,!0}function LE(o){var l=this.__data__,f=Mc(l,o);return f<0?n:l[f][1]}function FE(o){return Mc(this.__data__,o)>-1}function zE(o,l){var f=this.__data__,m=Mc(f,o);return m<0?(++this.size,f.push([o,l])):f[m][1]=l,this}rr.prototype.clear=OE,rr.prototype.delete=DE,rr.prototype.get=LE,rr.prototype.has=FE,rr.prototype.set=zE;function sr(o){var l=-1,f=o==null?0:o.length;for(this.clear();++l<f;){var m=o[l];this.set(m[0],m[1])}}function jE(){this.size=0,this.__data__={hash:new Cs,map:new(Da||rr),string:new Cs}}function BE(o){var l=$c(this,o).delete(o);return this.size-=l?1:0,l}function WE(o){return $c(this,o).get(o)}function VE(o){return $c(this,o).has(o)}function UE(o,l){var f=$c(this,o),m=f.size;return f.set(o,l),this.size+=f.size==m?0:1,this}sr.prototype.clear=jE,sr.prototype.delete=BE,sr.prototype.get=WE,sr.prototype.has=VE,sr.prototype.set=UE;function Ts(o){var l=-1,f=o==null?0:o.length;for(this.__data__=new sr;++l<f;)this.add(o[l])}function qE(o){return this.__data__.set(o,u),this}function $E(o){return this.__data__.has(o)}Ts.prototype.add=Ts.prototype.push=qE,Ts.prototype.has=$E;function wi(o){var l=this.__data__=new rr(o);this.size=l.size}function HE(){this.__data__=new rr,this.size=0}function GE(o){var l=this.__data__,f=l.delete(o);return this.size=l.size,f}function YE(o){return this.__data__.get(o)}function KE(o){return this.__data__.has(o)}function XE(o,l){var f=this.__data__;if(f instanceof rr){var m=f.__data__;if(!Da||m.length<r-1)return m.push([o,l]),this.size=++f.size,this;f=this.__data__=new sr(m)}return f.set(o,l),this.size=f.size,this}wi.prototype.clear=HE,wi.prototype.delete=GE,wi.prototype.get=YE,wi.prototype.has=KE,wi.prototype.set=XE;function Jv(o,l){var f=_e(o),m=!f&&Is(o),x=!f&&!m&&Wr(o),E=!f&&!m&&!x&&So(o),P=f||m||x||E,O=P?Zf(o.length,oE):[],L=O.length;for(var V in o)(l||Fe.call(o,V))&&!(P&&(V=="length"||x&&(V=="offset"||V=="parent")||E&&(V=="buffer"||V=="byteLength"||V=="byteOffset")||cr(V,L)))&&O.push(V);return O}function e0(o){var l=o.length;return l?o[md(0,l-1)]:n}function QE(o,l){return Hc(vn(o),Es(l,0,o.length))}function ZE(o){return Hc(vn(o))}function sd(o,l,f){(f!==n&&!xi(o[l],f)||f===n&&!(l in o))&&or(o,l,f)}function ja(o,l,f){var m=o[l];(!(Fe.call(o,l)&&xi(m,f))||f===n&&!(l in o))&&or(o,l,f)}function Mc(o,l){for(var f=o.length;f--;)if(xi(o[f][0],l))return f;return-1}function JE(o,l,f,m){return Fr(o,function(x,E,P){l(m,x,f(x),P)}),m}function t0(o,l){return o&&qi(l,Ot(l),o)}function e2(o,l){return o&&qi(l,wn(l),o)}function or(o,l,f){l=="__proto__"&&Ec?Ec(o,l,{configurable:!0,enumerable:!0,value:f,writable:!0}):o[l]=f}function od(o,l){for(var f=-1,m=l.length,x=F(m),E=o==null;++f<m;)x[f]=E?n:Bd(o,l[f]);return x}function Es(o,l,f){return o===o&&(f!==n&&(o=o<=f?o:f),l!==n&&(o=o>=l?o:l)),o}function ei(o,l,f,m,x,E){var P,O=l&p,L=l&g,V=l&y;if(f&&(P=x?f(o,m,x,E):f(o)),P!==n)return P;if(!ot(o))return o;var U=_e(o);if(U){if(P=V2(o),!O)return vn(o,P)}else{var H=Yt(o),J=H==vi||H==fc;if(Wr(o))return C0(o,O);if(H==Le||H==ge||J&&!x){if(P=L||J?{}:q0(o),!O)return L?I2(o,e2(P,o)):P2(o,t0(P,o))}else{if(!$e[H])return x?o:{};P=U2(o,H,O)}}E||(E=new wi);var oe=E.get(o);if(oe)return oe;E.set(o,P),__(o)?o.forEach(function(de){P.add(ei(de,l,f,de,o,E))}):y_(o)&&o.forEach(function(de,Ee){P.set(Ee,ei(de,l,f,Ee,o,E))});var fe=V?L?Td:Cd:L?wn:Ot,Se=U?n:fe(o);return Qn(Se||o,function(de,Ee){Se&&(Ee=de,de=o[Ee]),ja(P,Ee,ei(de,l,f,Ee,o,E))}),P}function t2(o){var l=Ot(o);return function(f){return n0(f,o,l)}}function n0(o,l,f){var m=f.length;if(o==null)return!m;for(o=Ue(o);m--;){var x=f[m],E=l[x],P=o[x];if(P===n&&!(x in o)||!E(P))return!1}return!0}function i0(o,l,f){if(typeof o!="function")throw new Zn(a);return Ha(function(){o.apply(n,f)},l)}function Ba(o,l,f,m){var x=-1,E=gc,P=!0,O=o.length,L=[],V=l.length;if(!O)return L;f&&(l=tt(l,On(f))),m?(E=Hf,P=!1):l.length>=r&&(E=Ma,P=!1,l=new Ts(l));e:for(;++x<O;){var U=o[x],H=f==null?U:f(U);if(U=m||U!==0?U:0,P&&H===H){for(var J=V;J--;)if(l[J]===H)continue e;L.push(U)}else E(l,H,m)||L.push(U)}return L}var Fr=P0(Ui),r0=P0(ld,!0);function n2(o,l){var f=!0;return Fr(o,function(m,x,E){return f=!!l(m,x,E),f}),f}function Oc(o,l,f){for(var m=-1,x=o.length;++m<x;){var E=o[m],P=l(E);if(P!=null&&(O===n?P===P&&!Ln(P):f(P,O)))var O=P,L=E}return L}function i2(o,l,f,m){var x=o.length;for(f=xe(f),f<0&&(f=-f>x?0:x+f),m=m===n||m>x?x:xe(m),m<0&&(m+=x),m=f>m?0:x_(m);f<m;)o[f++]=l;return o}function s0(o,l){var f=[];return Fr(o,function(m,x,E){l(m,x,E)&&f.push(m)}),f}function Wt(o,l,f,m,x){var E=-1,P=o.length;for(f||(f=$2),x||(x=[]);++E<P;){var O=o[E];l>0&&f(O)?l>1?Wt(O,l-1,f,m,x):Or(x,O):m||(x[x.length]=O)}return x}var ad=I0(),o0=I0(!0);function Ui(o,l){return o&&ad(o,l,Ot)}function ld(o,l){return o&&o0(o,l,Ot)}function Dc(o,l){return Mr(l,function(f){return ur(o[f])})}function Ns(o,l){l=jr(l,o);for(var f=0,m=l.length;o!=null&&f<m;)o=o[$i(l[f++])];return f&&f==m?o:n}function a0(o,l,f){var m=l(o);return _e(o)?m:Or(m,f(o))}function rn(o){return o==null?o===n?Ia:me:ks&&ks in Ue(o)?j2(o):Z2(o)}function cd(o,l){return o>l}function r2(o,l){return o!=null&&Fe.call(o,l)}function s2(o,l){return o!=null&&l in Ue(o)}function o2(o,l,f){return o>=Gt(l,f)&&o<At(l,f)}function ud(o,l,f){for(var m=f?Hf:gc,x=o[0].length,E=o.length,P=E,O=F(E),L=1/0,V=[];P--;){var U=o[P];P&&l&&(U=tt(U,On(l))),L=Gt(U.length,L),O[P]=!f&&(l||x>=120&&U.length>=120)?new Ts(P&&U):n}U=o[0];var H=-1,J=O[0];e:for(;++H<x&&V.length<L;){var oe=U[H],fe=l?l(oe):oe;if(oe=f||oe!==0?oe:0,!(J?Ma(J,fe):m(V,fe,f))){for(P=E;--P;){var Se=O[P];if(!(Se?Ma(Se,fe):m(o[P],fe,f)))continue e}J&&J.push(fe),V.push(oe)}}return V}function a2(o,l,f,m){return Ui(o,function(x,E,P){l(m,f(x),E,P)}),m}function Wa(o,l,f){l=jr(l,o),o=Y0(o,l);var m=o==null?o:o[$i(ni(l))];return m==null?n:Mn(m,o,f)}function l0(o){return pt(o)&&rn(o)==ge}function l2(o){return pt(o)&&rn(o)==Ra}function c2(o){return pt(o)&&rn(o)==In}function Va(o,l,f,m,x){return o===l?!0:o==null||l==null||!pt(o)&&!pt(l)?o!==o&&l!==l:u2(o,l,f,m,Va,x)}function u2(o,l,f,m,x,E){var P=_e(o),O=_e(l),L=P?Te:Yt(o),V=O?Te:Yt(l);L=L==ge?Le:L,V=V==ge?Le:V;var U=L==Le,H=V==Le,J=L==V;if(J&&Wr(o)){if(!Wr(l))return!1;P=!0,U=!1}if(J&&!U)return E||(E=new wi),P||So(o)?W0(o,l,f,m,x,E):F2(o,l,L,f,m,x,E);if(!(f&w)){var oe=U&&Fe.call(o,"__wrapped__"),fe=H&&Fe.call(l,"__wrapped__");if(oe||fe){var Se=oe?o.value():o,de=fe?l.value():l;return E||(E=new wi),x(Se,de,f,m,E)}}return J?(E||(E=new wi),z2(o,l,f,m,x,E)):!1}function h2(o){return pt(o)&&Yt(o)==Rn}function hd(o,l,f,m){var x=f.length,E=x,P=!m;if(o==null)return!E;for(o=Ue(o);x--;){var O=f[x];if(P&&O[2]?O[1]!==o[O[0]]:!(O[0]in o))return!1}for(;++x<E;){O=f[x];var L=O[0],V=o[L],U=O[1];if(P&&O[2]){if(V===n&&!(L in o))return!1}else{var H=new wi;if(m)var J=m(V,U,L,o,l,H);if(!(J===n?Va(U,V,w|b,m,H):J))return!1}}return!0}function c0(o){if(!ot(o)||G2(o))return!1;var l=ur(o)?hE:tT;return l.test(Ps(o))}function f2(o){return pt(o)&&rn(o)==Be}function d2(o){return pt(o)&&Yt(o)==et}function p2(o){return pt(o)&&Zc(o.length)&&!!Ye[rn(o)]}function u0(o){return typeof o=="function"?o:o==null?xn:typeof o=="object"?_e(o)?d0(o[0],o[1]):f0(o):R_(o)}function fd(o){if(!$a(o))return yE(o);var l=[];for(var f in Ue(o))Fe.call(o,f)&&f!="constructor"&&l.push(f);return l}function m2(o){if(!ot(o))return Q2(o);var l=$a(o),f=[];for(var m in o)m=="constructor"&&(l||!Fe.call(o,m))||f.push(m);return f}function dd(o,l){return o<l}function h0(o,l){var f=-1,m=_n(o)?F(o.length):[];return Fr(o,function(x,E,P){m[++f]=l(x,E,P)}),m}function f0(o){var l=Nd(o);return l.length==1&&l[0][2]?H0(l[0][0],l[0][1]):function(f){return f===o||hd(f,o,l)}}function d0(o,l){return Pd(o)&&$0(l)?H0($i(o),l):function(f){var m=Bd(f,o);return m===n&&m===l?Wd(f,o):Va(l,m,w|b)}}function Lc(o,l,f,m,x){o!==l&&ad(l,function(E,P){if(x||(x=new wi),ot(E))g2(o,l,P,f,Lc,m,x);else{var O=m?m(Rd(o,P),E,P+"",o,l,x):n;O===n&&(O=E),sd(o,P,O)}},wn)}function g2(o,l,f,m,x,E,P){var O=Rd(o,f),L=Rd(l,f),V=P.get(L);if(V){sd(o,f,V);return}var U=E?E(O,L,f+"",o,l,P):n,H=U===n;if(H){var J=_e(L),oe=!J&&Wr(L),fe=!J&&!oe&&So(L);U=L,J||oe||fe?_e(O)?U=O:yt(O)?U=vn(O):oe?(H=!1,U=C0(L,!0)):fe?(H=!1,U=T0(L,!0)):U=[]:Ga(L)||Is(L)?(U=O,Is(O)?U=b_(O):(!ot(O)||ur(O))&&(U=q0(L))):H=!1}H&&(P.set(L,U),x(U,L,m,E,P),P.delete(L)),sd(o,f,U)}function p0(o,l){var f=o.length;if(f)return l+=l<0?f:0,cr(l,f)?o[l]:n}function m0(o,l,f){l.length?l=tt(l,function(E){return _e(E)?function(P){return Ns(P,E.length===1?E[0]:E)}:E}):l=[xn];var m=-1;l=tt(l,On(ue()));var x=h0(o,function(E,P,O){var L=tt(l,function(V){return V(E)});return{criteria:L,index:++m,value:E}});return UT(x,function(E,P){return A2(E,P,f)})}function y2(o,l){return g0(o,l,function(f,m){return Wd(o,m)})}function g0(o,l,f){for(var m=-1,x=l.length,E={};++m<x;){var P=l[m],O=Ns(o,P);f(O,P)&&Ua(E,jr(P,o),O)}return E}function v2(o){return function(l){return Ns(l,o)}}function pd(o,l,f,m){var x=m?VT:ho,E=-1,P=l.length,O=o;for(o===l&&(l=vn(l)),f&&(O=tt(o,On(f)));++E<P;)for(var L=0,V=l[E],U=f?f(V):V;(L=x(O,U,L,m))>-1;)O!==o&&Tc.call(O,L,1),Tc.call(o,L,1);return o}function y0(o,l){for(var f=o?l.length:0,m=f-1;f--;){var x=l[f];if(f==m||x!==E){var E=x;cr(x)?Tc.call(o,x,1):vd(o,x)}}return o}function md(o,l){return o+Ac(Qv()*(l-o+1))}function _2(o,l,f,m){for(var x=-1,E=At(Nc((l-o)/(f||1)),0),P=F(E);E--;)P[m?E:++x]=o,o+=f;return P}function gd(o,l){var f="";if(!o||l<1||l>$)return f;do l%2&&(f+=o),l=Ac(l/2),l&&(o+=o);while(l);return f}function Ce(o,l){return Md(G0(o,l,xn),o+"")}function w2(o){return e0(ko(o))}function x2(o,l){var f=ko(o);return Hc(f,Es(l,0,f.length))}function Ua(o,l,f,m){if(!ot(o))return o;l=jr(l,o);for(var x=-1,E=l.length,P=E-1,O=o;O!=null&&++x<E;){var L=$i(l[x]),V=f;if(L==="__proto__"||L==="constructor"||L==="prototype")return o;if(x!=P){var U=O[L];V=m?m(U,L,O):n,V===n&&(V=ot(U)?U:cr(l[x+1])?[]:{})}ja(O,L,V),O=O[L]}return o}var v0=Pc?function(o,l){return Pc.set(o,l),o}:xn,b2=Ec?function(o,l){return Ec(o,"toString",{configurable:!0,enumerable:!1,value:Ud(l),writable:!0})}:xn;function S2(o){return Hc(ko(o))}function ti(o,l,f){var m=-1,x=o.length;l<0&&(l=-l>x?0:x+l),f=f>x?x:f,f<0&&(f+=x),x=l>f?0:f-l>>>0,l>>>=0;for(var E=F(x);++m<x;)E[m]=o[m+l];return E}function k2(o,l){var f;return Fr(o,function(m,x,E){return f=l(m,x,E),!f}),!!f}function Fc(o,l,f){var m=0,x=o==null?m:o.length;if(typeof l=="number"&&l===l&&x<=St){for(;m<x;){var E=m+x>>>1,P=o[E];P!==null&&!Ln(P)&&(f?P<=l:P<l)?m=E+1:x=E}return x}return yd(o,l,xn,f)}function yd(o,l,f,m){var x=0,E=o==null?0:o.length;if(E===0)return 0;l=f(l);for(var P=l!==l,O=l===null,L=Ln(l),V=l===n;x<E;){var U=Ac((x+E)/2),H=f(o[U]),J=H!==n,oe=H===null,fe=H===H,Se=Ln(H);if(P)var de=m||fe;else V?de=fe&&(m||J):O?de=fe&&J&&(m||!oe):L?de=fe&&J&&!oe&&(m||!Se):oe||Se?de=!1:de=m?H<=l:H<l;de?x=U+1:E=U}return Gt(E,pe)}function _0(o,l){for(var f=-1,m=o.length,x=0,E=[];++f<m;){var P=o[f],O=l?l(P):P;if(!f||!xi(O,L)){var L=O;E[x++]=P===0?0:P}}return E}function w0(o){return typeof o=="number"?o:Ln(o)?X:+o}function Dn(o){if(typeof o=="string")return o;if(_e(o))return tt(o,Dn)+"";if(Ln(o))return Zv?Zv.call(o):"";var l=o+"";return l=="0"&&1/o==-ne?"-0":l}function zr(o,l,f){var m=-1,x=gc,E=o.length,P=!0,O=[],L=O;if(f)P=!1,x=Hf;else if(E>=r){var V=l?null:D2(o);if(V)return vc(V);P=!1,x=Ma,L=new Ts}else L=l?[]:O;e:for(;++m<E;){var U=o[m],H=l?l(U):U;if(U=f||U!==0?U:0,P&&H===H){for(var J=L.length;J--;)if(L[J]===H)continue e;l&&L.push(H),O.push(U)}else x(L,H,f)||(L!==O&&L.push(H),O.push(U))}return O}function vd(o,l){return l=jr(l,o),o=Y0(o,l),o==null||delete o[$i(ni(l))]}function x0(o,l,f,m){return Ua(o,l,f(Ns(o,l)),m)}function zc(o,l,f,m){for(var x=o.length,E=m?x:-1;(m?E--:++E<x)&&l(o[E],E,o););return f?ti(o,m?0:E,m?E+1:x):ti(o,m?E+1:0,m?x:E)}function b0(o,l){var f=o;return f instanceof Ae&&(f=f.value()),Gf(l,function(m,x){return x.func.apply(x.thisArg,Or([m],x.args))},f)}function _d(o,l,f){var m=o.length;if(m<2)return m?zr(o[0]):[];for(var x=-1,E=F(m);++x<m;)for(var P=o[x],O=-1;++O<m;)O!=x&&(E[x]=Ba(E[x]||P,o[O],l,f));return zr(Wt(E,1),l,f)}function S0(o,l,f){for(var m=-1,x=o.length,E=l.length,P={};++m<x;){var O=m<E?l[m]:n;f(P,o[m],O)}return P}function wd(o){return yt(o)?o:[]}function xd(o){return typeof o=="function"?o:xn}function jr(o,l){return _e(o)?o:Pd(o,l)?[o]:Z0(De(o))}var C2=Ce;function Br(o,l,f){var m=o.length;return f=f===n?m:f,!l&&f>=m?o:ti(o,l,f)}var k0=fE||function(o){return Bt.clearTimeout(o)};function C0(o,l){if(l)return o.slice();var f=o.length,m=Hv?Hv(f):new o.constructor(f);return o.copy(m),m}function bd(o){var l=new o.constructor(o.byteLength);return new kc(l).set(new kc(o)),l}function T2(o,l){var f=l?bd(o.buffer):o.buffer;return new o.constructor(f,o.byteOffset,o.byteLength)}function E2(o){var l=new o.constructor(o.source,lv.exec(o));return l.lastIndex=o.lastIndex,l}function N2(o){return za?Ue(za.call(o)):{}}function T0(o,l){var f=l?bd(o.buffer):o.buffer;return new o.constructor(f,o.byteOffset,o.length)}function E0(o,l){if(o!==l){var f=o!==n,m=o===null,x=o===o,E=Ln(o),P=l!==n,O=l===null,L=l===l,V=Ln(l);if(!O&&!V&&!E&&o>l||E&&P&&L&&!O&&!V||m&&P&&L||!f&&L||!x)return 1;if(!m&&!E&&!V&&o<l||V&&f&&x&&!m&&!E||O&&f&&x||!P&&x||!L)return-1}return 0}function A2(o,l,f){for(var m=-1,x=o.criteria,E=l.criteria,P=x.length,O=f.length;++m<P;){var L=E0(x[m],E[m]);if(L){if(m>=O)return L;var V=f[m];return L*(V=="desc"?-1:1)}}return o.index-l.index}function N0(o,l,f,m){for(var x=-1,E=o.length,P=f.length,O=-1,L=l.length,V=At(E-P,0),U=F(L+V),H=!m;++O<L;)U[O]=l[O];for(;++x<P;)(H||x<E)&&(U[f[x]]=o[x]);for(;V--;)U[O++]=o[x++];return U}function A0(o,l,f,m){for(var x=-1,E=o.length,P=-1,O=f.length,L=-1,V=l.length,U=At(E-O,0),H=F(U+V),J=!m;++x<U;)H[x]=o[x];for(var oe=x;++L<V;)H[oe+L]=l[L];for(;++P<O;)(J||x<E)&&(H[oe+f[P]]=o[x++]);return H}function vn(o,l){var f=-1,m=o.length;for(l||(l=F(m));++f<m;)l[f]=o[f];return l}function qi(o,l,f,m){var x=!f;f||(f={});for(var E=-1,P=l.length;++E<P;){var O=l[E],L=m?m(f[O],o[O],O,f,o):n;L===n&&(L=o[O]),x?or(f,O,L):ja(f,O,L)}return f}function P2(o,l){return qi(o,Ad(o),l)}function I2(o,l){return qi(o,V0(o),l)}function jc(o,l){return function(f,m){var x=_e(f)?LT:JE,E=l?l():{};return x(f,o,ue(m,2),E)}}function wo(o){return Ce(function(l,f){var m=-1,x=f.length,E=x>1?f[x-1]:n,P=x>2?f[2]:n;for(E=o.length>3&&typeof E=="function"?(x--,E):n,P&&sn(f[0],f[1],P)&&(E=x<3?n:E,x=1),l=Ue(l);++m<x;){var O=f[m];O&&o(l,O,m,E)}return l})}function P0(o,l){return function(f,m){if(f==null)return f;if(!_n(f))return o(f,m);for(var x=f.length,E=l?x:-1,P=Ue(f);(l?E--:++E<x)&&m(P[E],E,P)!==!1;);return f}}function I0(o){return function(l,f,m){for(var x=-1,E=Ue(l),P=m(l),O=P.length;O--;){var L=P[o?O:++x];if(f(E[L],L,E)===!1)break}return l}}function R2(o,l,f){var m=l&T,x=qa(o);function E(){var P=this&&this!==Bt&&this instanceof E?x:o;return P.apply(m?f:this,arguments)}return E}function R0(o){return function(l){l=De(l);var f=fo(l)?_i(l):n,m=f?f[0]:l.charAt(0),x=f?Br(f,1).join(""):l.slice(1);return m[o]()+x}}function xo(o){return function(l){return Gf(P_(A_(l).replace(bT,"")),o,"")}}function qa(o){return function(){var l=arguments;switch(l.length){case 0:return new o;case 1:return new o(l[0]);case 2:return new o(l[0],l[1]);case 3:return new o(l[0],l[1],l[2]);case 4:return new o(l[0],l[1],l[2],l[3]);case 5:return new o(l[0],l[1],l[2],l[3],l[4]);case 6:return new o(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new o(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var f=_o(o.prototype),m=o.apply(f,l);return ot(m)?m:f}}function M2(o,l,f){var m=qa(o);function x(){for(var E=arguments.length,P=F(E),O=E,L=bo(x);O--;)P[O]=arguments[O];var V=E<3&&P[0]!==L&&P[E-1]!==L?[]:Dr(P,L);if(E-=V.length,E<f)return F0(o,l,Bc,x.placeholder,n,P,V,n,n,f-E);var U=this&&this!==Bt&&this instanceof x?m:o;return Mn(U,this,P)}return x}function M0(o){return function(l,f,m){var x=Ue(l);if(!_n(l)){var E=ue(f,3);l=Ot(l),f=function(O){return E(x[O],O,x)}}var P=o(l,f,m);return P>-1?x[E?l[P]:P]:n}}function O0(o){return lr(function(l){var f=l.length,m=f,x=Jn.prototype.thru;for(o&&l.reverse();m--;){var E=l[m];if(typeof E!="function")throw new Zn(a);if(x&&!P&&qc(E)=="wrapper")var P=new Jn([],!0)}for(m=P?m:f;++m<f;){E=l[m];var O=qc(E),L=O=="wrapper"?Ed(E):n;L&&Id(L[0])&&L[1]==(M|k|N|I)&&!L[4].length&&L[9]==1?P=P[qc(L[0])].apply(P,L[3]):P=E.length==1&&Id(E)?P[O]():P.thru(E)}return function(){var V=arguments,U=V[0];if(P&&V.length==1&&_e(U))return P.plant(U).value();for(var H=0,J=f?l[H].apply(this,V):U;++H<f;)J=l[H].call(this,J);return J}})}function Bc(o,l,f,m,x,E,P,O,L,V){var U=l&M,H=l&T,J=l&v,oe=l&(k|A),fe=l&j,Se=J?n:qa(o);function de(){for(var Ee=arguments.length,Ie=F(Ee),Fn=Ee;Fn--;)Ie[Fn]=arguments[Fn];if(oe)var on=bo(de),zn=$T(Ie,on);if(m&&(Ie=N0(Ie,m,x,oe)),E&&(Ie=A0(Ie,E,P,oe)),Ee-=zn,oe&&Ee<V){var vt=Dr(Ie,on);return F0(o,l,Bc,de.placeholder,f,Ie,vt,O,L,V-Ee)}var bi=H?f:this,fr=J?bi[o]:o;return Ee=Ie.length,O?Ie=J2(Ie,O):fe&&Ee>1&&Ie.reverse(),U&&L<Ee&&(Ie.length=L),this&&this!==Bt&&this instanceof de&&(fr=Se||qa(fr)),fr.apply(bi,Ie)}return de}function D0(o,l){return function(f,m){return a2(f,o,l(m),{})}}function Wc(o,l){return function(f,m){var x;if(f===n&&m===n)return l;if(f!==n&&(x=f),m!==n){if(x===n)return m;typeof f=="string"||typeof m=="string"?(f=Dn(f),m=Dn(m)):(f=w0(f),m=w0(m)),x=o(f,m)}return x}}function Sd(o){return lr(function(l){return l=tt(l,On(ue())),Ce(function(f){var m=this;return o(l,function(x){return Mn(x,m,f)})})})}function Vc(o,l){l=l===n?" ":Dn(l);var f=l.length;if(f<2)return f?gd(l,o):l;var m=gd(l,Nc(o/po(l)));return fo(l)?Br(_i(m),0,o).join(""):m.slice(0,o)}function O2(o,l,f,m){var x=l&T,E=qa(o);function P(){for(var O=-1,L=arguments.length,V=-1,U=m.length,H=F(U+L),J=this&&this!==Bt&&this instanceof P?E:o;++V<U;)H[V]=m[V];for(;L--;)H[V++]=arguments[++O];return Mn(J,x?f:this,H)}return P}function L0(o){return function(l,f,m){return m&&typeof m!="number"&&sn(l,f,m)&&(f=m=n),l=hr(l),f===n?(f=l,l=0):f=hr(f),m=m===n?l<f?1:-1:hr(m),_2(l,f,m,o)}}function Uc(o){return function(l,f){return typeof l=="string"&&typeof f=="string"||(l=ii(l),f=ii(f)),o(l,f)}}function F0(o,l,f,m,x,E,P,O,L,V){var U=l&k,H=U?P:n,J=U?n:P,oe=U?E:n,fe=U?n:E;l|=U?N:R,l&=~(U?R:N),l&S||(l&=~(T|v));var Se=[o,l,x,oe,H,fe,J,O,L,V],de=f.apply(n,Se);return Id(o)&&K0(de,Se),de.placeholder=m,X0(de,o,l)}function kd(o){var l=Nt[o];return function(f,m){if(f=ii(f),m=m==null?0:Gt(xe(m),292),m&&Xv(f)){var x=(De(f)+"e").split("e"),E=l(x[0]+"e"+(+x[1]+m));return x=(De(E)+"e").split("e"),+(x[0]+"e"+(+x[1]-m))}return l(f)}}var D2=yo&&1/vc(new yo([,-0]))[1]==ne?function(o){return new yo(o)}:Hd;function z0(o){return function(l){var f=Yt(l);return f==Rn?ed(l):f==et?ZT(l):qT(l,o(l))}}function ar(o,l,f,m,x,E,P,O){var L=l&v;if(!L&&typeof o!="function")throw new Zn(a);var V=m?m.length:0;if(V||(l&=~(N|R),m=x=n),P=P===n?P:At(xe(P),0),O=O===n?O:xe(O),V-=x?x.length:0,l&R){var U=m,H=x;m=x=n}var J=L?n:Ed(o),oe=[o,l,f,m,x,U,H,E,P,O];if(J&&X2(oe,J),o=oe[0],l=oe[1],f=oe[2],m=oe[3],x=oe[4],O=oe[9]=oe[9]===n?L?0:o.length:At(oe[9]-V,0),!O&&l&(k|A)&&(l&=~(k|A)),!l||l==T)var fe=R2(o,l,f);else l==k||l==A?fe=M2(o,l,O):(l==N||l==(T|N))&&!x.length?fe=O2(o,l,f,m):fe=Bc.apply(n,oe);var Se=J?v0:K0;return X0(Se(fe,oe),o,l)}function j0(o,l,f,m){return o===n||xi(o,go[f])&&!Fe.call(m,f)?l:o}function B0(o,l,f,m,x,E){return ot(o)&&ot(l)&&(E.set(l,o),Lc(o,l,n,B0,E),E.delete(l)),o}function L2(o){return Ga(o)?n:o}function W0(o,l,f,m,x,E){var P=f&w,O=o.length,L=l.length;if(O!=L&&!(P&&L>O))return!1;var V=E.get(o),U=E.get(l);if(V&&U)return V==l&&U==o;var H=-1,J=!0,oe=f&b?new Ts:n;for(E.set(o,l),E.set(l,o);++H<O;){var fe=o[H],Se=l[H];if(m)var de=P?m(Se,fe,H,l,o,E):m(fe,Se,H,o,l,E);if(de!==n){if(de)continue;J=!1;break}if(oe){if(!Yf(l,function(Ee,Ie){if(!Ma(oe,Ie)&&(fe===Ee||x(fe,Ee,f,m,E)))return oe.push(Ie)})){J=!1;break}}else if(!(fe===Se||x(fe,Se,f,m,E))){J=!1;break}}return E.delete(o),E.delete(l),J}function F2(o,l,f,m,x,E,P){switch(f){case co:if(o.byteLength!=l.byteLength||o.byteOffset!=l.byteOffset)return!1;o=o.buffer,l=l.buffer;case Ra:return!(o.byteLength!=l.byteLength||!E(new kc(o),new kc(l)));case ae:case In:case ee:return xi(+o,+l);case yi:return o.name==l.name&&o.message==l.message;case Be:case yn:return o==l+"";case Rn:var O=ed;case et:var L=m&w;if(O||(O=vc),o.size!=l.size&&!L)return!1;var V=P.get(o);if(V)return V==l;m|=b,P.set(o,l);var U=W0(O(o),O(l),m,x,E,P);return P.delete(o),U;case Vi:if(za)return za.call(o)==za.call(l)}return!1}function z2(o,l,f,m,x,E){var P=f&w,O=Cd(o),L=O.length,V=Cd(l),U=V.length;if(L!=U&&!P)return!1;for(var H=L;H--;){var J=O[H];if(!(P?J in l:Fe.call(l,J)))return!1}var oe=E.get(o),fe=E.get(l);if(oe&&fe)return oe==l&&fe==o;var Se=!0;E.set(o,l),E.set(l,o);for(var de=P;++H<L;){J=O[H];var Ee=o[J],Ie=l[J];if(m)var Fn=P?m(Ie,Ee,J,l,o,E):m(Ee,Ie,J,o,l,E);if(!(Fn===n?Ee===Ie||x(Ee,Ie,f,m,E):Fn)){Se=!1;break}de||(de=J=="constructor")}if(Se&&!de){var on=o.constructor,zn=l.constructor;on!=zn&&"constructor"in o&&"constructor"in l&&!(typeof on=="function"&&on instanceof on&&typeof zn=="function"&&zn instanceof zn)&&(Se=!1)}return E.delete(o),E.delete(l),Se}function lr(o){return Md(G0(o,n,n_),o+"")}function Cd(o){return a0(o,Ot,Ad)}function Td(o){return a0(o,wn,V0)}var Ed=Pc?function(o){return Pc.get(o)}:Hd;function qc(o){for(var l=o.name+"",f=vo[l],m=Fe.call(vo,l)?f.length:0;m--;){var x=f[m],E=x.func;if(E==null||E==o)return x.name}return l}function bo(o){var l=Fe.call(C,"placeholder")?C:o;return l.placeholder}function ue(){var o=C.iteratee||qd;return o=o===qd?u0:o,arguments.length?o(arguments[0],arguments[1]):o}function $c(o,l){var f=o.__data__;return H2(l)?f[typeof l=="string"?"string":"hash"]:f.map}function Nd(o){for(var l=Ot(o),f=l.length;f--;){var m=l[f],x=o[m];l[f]=[m,x,$0(x)]}return l}function As(o,l){var f=KT(o,l);return c0(f)?f:n}function j2(o){var l=Fe.call(o,ks),f=o[ks];try{o[ks]=n;var m=!0}catch{}var x=bc.call(o);return m&&(l?o[ks]=f:delete o[ks]),x}var Ad=nd?function(o){return o==null?[]:(o=Ue(o),Mr(nd(o),function(l){return Yv.call(o,l)}))}:Gd,V0=nd?function(o){for(var l=[];o;)Or(l,Ad(o)),o=Cc(o);return l}:Gd,Yt=rn;(id&&Yt(new id(new ArrayBuffer(1)))!=co||Da&&Yt(new Da)!=Rn||rd&&Yt(rd.resolve())!=qe||yo&&Yt(new yo)!=et||La&&Yt(new La)!=bs)&&(Yt=function(o){var l=rn(o),f=l==Le?o.constructor:n,m=f?Ps(f):"";if(m)switch(m){case xE:return co;case bE:return Rn;case SE:return qe;case kE:return et;case CE:return bs}return l});function B2(o,l,f){for(var m=-1,x=f.length;++m<x;){var E=f[m],P=E.size;switch(E.type){case"drop":o+=P;break;case"dropRight":l-=P;break;case"take":l=Gt(l,o+P);break;case"takeRight":o=At(o,l-P);break}}return{start:o,end:l}}function W2(o){var l=o.match(GC);return l?l[1].split(YC):[]}function U0(o,l,f){l=jr(l,o);for(var m=-1,x=l.length,E=!1;++m<x;){var P=$i(l[m]);if(!(E=o!=null&&f(o,P)))break;o=o[P]}return E||++m!=x?E:(x=o==null?0:o.length,!!x&&Zc(x)&&cr(P,x)&&(_e(o)||Is(o)))}function V2(o){var l=o.length,f=new o.constructor(l);return l&&typeof o[0]=="string"&&Fe.call(o,"index")&&(f.index=o.index,f.input=o.input),f}function q0(o){return typeof o.constructor=="function"&&!$a(o)?_o(Cc(o)):{}}function U2(o,l,f){var m=o.constructor;switch(l){case Ra:return bd(o);case ae:case In:return new m(+o);case co:return T2(o,f);case Nf:case Af:case Pf:case If:case Rf:case Mf:case Of:case Df:case Lf:return T0(o,f);case Rn:return new m;case ee:case yn:return new m(o);case Be:return E2(o);case et:return new m;case Vi:return N2(o)}}function q2(o,l){var f=l.length;if(!f)return o;var m=f-1;return l[m]=(f>1?"& ":"")+l[m],l=l.join(f>2?", ":" "),o.replace(HC,`{
/* [wrapped with `+l+`] */
`)}function $2(o){return _e(o)||Is(o)||!!(Kv&&o&&o[Kv])}function cr(o,l){var f=typeof o;return l=l??$,!!l&&(f=="number"||f!="symbol"&&iT.test(o))&&o>-1&&o%1==0&&o<l}function sn(o,l,f){if(!ot(f))return!1;var m=typeof l;return(m=="number"?_n(f)&&cr(l,f.length):m=="string"&&l in f)?xi(f[l],o):!1}function Pd(o,l){if(_e(o))return!1;var f=typeof o;return f=="number"||f=="symbol"||f=="boolean"||o==null||Ln(o)?!0:VC.test(o)||!WC.test(o)||l!=null&&o in Ue(l)}function H2(o){var l=typeof o;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?o!=="__proto__":o===null}function Id(o){var l=qc(o),f=C[l];if(typeof f!="function"||!(l in Ae.prototype))return!1;if(o===f)return!0;var m=Ed(f);return!!m&&o===m[0]}function G2(o){return!!$v&&$v in o}var Y2=wc?ur:Yd;function $a(o){var l=o&&o.constructor,f=typeof l=="function"&&l.prototype||go;return o===f}function $0(o){return o===o&&!ot(o)}function H0(o,l){return function(f){return f==null?!1:f[o]===l&&(l!==n||o in Ue(f))}}function K2(o){var l=Xc(o,function(m){return f.size===h&&f.clear(),m}),f=l.cache;return l}function X2(o,l){var f=o[1],m=l[1],x=f|m,E=x<(T|v|M),P=m==M&&f==k||m==M&&f==I&&o[7].length<=l[8]||m==(M|I)&&l[7].length<=l[8]&&f==k;if(!(E||P))return o;m&T&&(o[2]=l[2],x|=f&T?0:S);var O=l[3];if(O){var L=o[3];o[3]=L?N0(L,O,l[4]):O,o[4]=L?Dr(o[3],d):l[4]}return O=l[5],O&&(L=o[5],o[5]=L?A0(L,O,l[6]):O,o[6]=L?Dr(o[5],d):l[6]),O=l[7],O&&(o[7]=O),m&M&&(o[8]=o[8]==null?l[8]:Gt(o[8],l[8])),o[9]==null&&(o[9]=l[9]),o[0]=l[0],o[1]=x,o}function Q2(o){var l=[];if(o!=null)for(var f in Ue(o))l.push(f);return l}function Z2(o){return bc.call(o)}function G0(o,l,f){return l=At(l===n?o.length-1:l,0),function(){for(var m=arguments,x=-1,E=At(m.length-l,0),P=F(E);++x<E;)P[x]=m[l+x];x=-1;for(var O=F(l+1);++x<l;)O[x]=m[x];return O[l]=f(P),Mn(o,this,O)}}function Y0(o,l){return l.length<2?o:Ns(o,ti(l,0,-1))}function J2(o,l){for(var f=o.length,m=Gt(l.length,f),x=vn(o);m--;){var E=l[m];o[m]=cr(E,f)?x[E]:n}return o}function Rd(o,l){if(!(l==="constructor"&&typeof o[l]=="function")&&l!="__proto__")return o[l]}var K0=Q0(v0),Ha=pE||function(o,l){return Bt.setTimeout(o,l)},Md=Q0(b2);function X0(o,l,f){var m=l+"";return Md(o,q2(m,eN(W2(m),f)))}function Q0(o){var l=0,f=0;return function(){var m=vE(),x=Z-(m-f);if(f=m,x>0){if(++l>=q)return arguments[0]}else l=0;return o.apply(n,arguments)}}function Hc(o,l){var f=-1,m=o.length,x=m-1;for(l=l===n?m:l;++f<l;){var E=md(f,x),P=o[E];o[E]=o[f],o[f]=P}return o.length=l,o}var Z0=K2(function(o){var l=[];return o.charCodeAt(0)===46&&l.push(""),o.replace(UC,function(f,m,x,E){l.push(x?E.replace(QC,"$1"):m||f)}),l});function $i(o){if(typeof o=="string"||Ln(o))return o;var l=o+"";return l=="0"&&1/o==-ne?"-0":l}function Ps(o){if(o!=null){try{return xc.call(o)}catch{}try{return o+""}catch{}}return""}function eN(o,l){return Qn(st,function(f){var m="_."+f[0];l&f[1]&&!gc(o,m)&&o.push(m)}),o.sort()}function J0(o){if(o instanceof Ae)return o.clone();var l=new Jn(o.__wrapped__,o.__chain__);return l.__actions__=vn(o.__actions__),l.__index__=o.__index__,l.__values__=o.__values__,l}function tN(o,l,f){(f?sn(o,l,f):l===n)?l=1:l=At(xe(l),0);var m=o==null?0:o.length;if(!m||l<1)return[];for(var x=0,E=0,P=F(Nc(m/l));x<m;)P[E++]=ti(o,x,x+=l);return P}function nN(o){for(var l=-1,f=o==null?0:o.length,m=0,x=[];++l<f;){var E=o[l];E&&(x[m++]=E)}return x}function iN(){var o=arguments.length;if(!o)return[];for(var l=F(o-1),f=arguments[0],m=o;m--;)l[m-1]=arguments[m];return Or(_e(f)?vn(f):[f],Wt(l,1))}var rN=Ce(function(o,l){return yt(o)?Ba(o,Wt(l,1,yt,!0)):[]}),sN=Ce(function(o,l){var f=ni(l);return yt(f)&&(f=n),yt(o)?Ba(o,Wt(l,1,yt,!0),ue(f,2)):[]}),oN=Ce(function(o,l){var f=ni(l);return yt(f)&&(f=n),yt(o)?Ba(o,Wt(l,1,yt,!0),n,f):[]});function aN(o,l,f){var m=o==null?0:o.length;return m?(l=f||l===n?1:xe(l),ti(o,l<0?0:l,m)):[]}function lN(o,l,f){var m=o==null?0:o.length;return m?(l=f||l===n?1:xe(l),l=m-l,ti(o,0,l<0?0:l)):[]}function cN(o,l){return o&&o.length?zc(o,ue(l,3),!0,!0):[]}function uN(o,l){return o&&o.length?zc(o,ue(l,3),!0):[]}function hN(o,l,f,m){var x=o==null?0:o.length;return x?(f&&typeof f!="number"&&sn(o,l,f)&&(f=0,m=x),i2(o,l,f,m)):[]}function e_(o,l,f){var m=o==null?0:o.length;if(!m)return-1;var x=f==null?0:xe(f);return x<0&&(x=At(m+x,0)),yc(o,ue(l,3),x)}function t_(o,l,f){var m=o==null?0:o.length;if(!m)return-1;var x=m-1;return f!==n&&(x=xe(f),x=f<0?At(m+x,0):Gt(x,m-1)),yc(o,ue(l,3),x,!0)}function n_(o){var l=o==null?0:o.length;return l?Wt(o,1):[]}function fN(o){var l=o==null?0:o.length;return l?Wt(o,ne):[]}function dN(o,l){var f=o==null?0:o.length;return f?(l=l===n?1:xe(l),Wt(o,l)):[]}function pN(o){for(var l=-1,f=o==null?0:o.length,m={};++l<f;){var x=o[l];m[x[0]]=x[1]}return m}function i_(o){return o&&o.length?o[0]:n}function mN(o,l,f){var m=o==null?0:o.length;if(!m)return-1;var x=f==null?0:xe(f);return x<0&&(x=At(m+x,0)),ho(o,l,x)}function gN(o){var l=o==null?0:o.length;return l?ti(o,0,-1):[]}var yN=Ce(function(o){var l=tt(o,wd);return l.length&&l[0]===o[0]?ud(l):[]}),vN=Ce(function(o){var l=ni(o),f=tt(o,wd);return l===ni(f)?l=n:f.pop(),f.length&&f[0]===o[0]?ud(f,ue(l,2)):[]}),_N=Ce(function(o){var l=ni(o),f=tt(o,wd);return l=typeof l=="function"?l:n,l&&f.pop(),f.length&&f[0]===o[0]?ud(f,n,l):[]});function wN(o,l){return o==null?"":gE.call(o,l)}function ni(o){var l=o==null?0:o.length;return l?o[l-1]:n}function xN(o,l,f){var m=o==null?0:o.length;if(!m)return-1;var x=m;return f!==n&&(x=xe(f),x=x<0?At(m+x,0):Gt(x,m-1)),l===l?eE(o,l,x):yc(o,Fv,x,!0)}function bN(o,l){return o&&o.length?p0(o,xe(l)):n}var SN=Ce(r_);function r_(o,l){return o&&o.length&&l&&l.length?pd(o,l):o}function kN(o,l,f){return o&&o.length&&l&&l.length?pd(o,l,ue(f,2)):o}function CN(o,l,f){return o&&o.length&&l&&l.length?pd(o,l,n,f):o}var TN=lr(function(o,l){var f=o==null?0:o.length,m=od(o,l);return y0(o,tt(l,function(x){return cr(x,f)?+x:x}).sort(E0)),m});function EN(o,l){var f=[];if(!(o&&o.length))return f;var m=-1,x=[],E=o.length;for(l=ue(l,3);++m<E;){var P=o[m];l(P,m,o)&&(f.push(P),x.push(m))}return y0(o,x),f}function Od(o){return o==null?o:wE.call(o)}function NN(o,l,f){var m=o==null?0:o.length;return m?(f&&typeof f!="number"&&sn(o,l,f)?(l=0,f=m):(l=l==null?0:xe(l),f=f===n?m:xe(f)),ti(o,l,f)):[]}function AN(o,l){return Fc(o,l)}function PN(o,l,f){return yd(o,l,ue(f,2))}function IN(o,l){var f=o==null?0:o.length;if(f){var m=Fc(o,l);if(m<f&&xi(o[m],l))return m}return-1}function RN(o,l){return Fc(o,l,!0)}function MN(o,l,f){return yd(o,l,ue(f,2),!0)}function ON(o,l){var f=o==null?0:o.length;if(f){var m=Fc(o,l,!0)-1;if(xi(o[m],l))return m}return-1}function DN(o){return o&&o.length?_0(o):[]}function LN(o,l){return o&&o.length?_0(o,ue(l,2)):[]}function FN(o){var l=o==null?0:o.length;return l?ti(o,1,l):[]}function zN(o,l,f){return o&&o.length?(l=f||l===n?1:xe(l),ti(o,0,l<0?0:l)):[]}function jN(o,l,f){var m=o==null?0:o.length;return m?(l=f||l===n?1:xe(l),l=m-l,ti(o,l<0?0:l,m)):[]}function BN(o,l){return o&&o.length?zc(o,ue(l,3),!1,!0):[]}function WN(o,l){return o&&o.length?zc(o,ue(l,3)):[]}var VN=Ce(function(o){return zr(Wt(o,1,yt,!0))}),UN=Ce(function(o){var l=ni(o);return yt(l)&&(l=n),zr(Wt(o,1,yt,!0),ue(l,2))}),qN=Ce(function(o){var l=ni(o);return l=typeof l=="function"?l:n,zr(Wt(o,1,yt,!0),n,l)});function $N(o){return o&&o.length?zr(o):[]}function HN(o,l){return o&&o.length?zr(o,ue(l,2)):[]}function GN(o,l){return l=typeof l=="function"?l:n,o&&o.length?zr(o,n,l):[]}function Dd(o){if(!(o&&o.length))return[];var l=0;return o=Mr(o,function(f){if(yt(f))return l=At(f.length,l),!0}),Zf(l,function(f){return tt(o,Kf(f))})}function s_(o,l){if(!(o&&o.length))return[];var f=Dd(o);return l==null?f:tt(f,function(m){return Mn(l,n,m)})}var YN=Ce(function(o,l){return yt(o)?Ba(o,l):[]}),KN=Ce(function(o){return _d(Mr(o,yt))}),XN=Ce(function(o){var l=ni(o);return yt(l)&&(l=n),_d(Mr(o,yt),ue(l,2))}),QN=Ce(function(o){var l=ni(o);return l=typeof l=="function"?l:n,_d(Mr(o,yt),n,l)}),ZN=Ce(Dd);function JN(o,l){return S0(o||[],l||[],ja)}function eA(o,l){return S0(o||[],l||[],Ua)}var tA=Ce(function(o){var l=o.length,f=l>1?o[l-1]:n;return f=typeof f=="function"?(o.pop(),f):n,s_(o,f)});function o_(o){var l=C(o);return l.__chain__=!0,l}function nA(o,l){return l(o),o}function Gc(o,l){return l(o)}var iA=lr(function(o){var l=o.length,f=l?o[0]:0,m=this.__wrapped__,x=function(E){return od(E,o)};return l>1||this.__actions__.length||!(m instanceof Ae)||!cr(f)?this.thru(x):(m=m.slice(f,+f+(l?1:0)),m.__actions__.push({func:Gc,args:[x],thisArg:n}),new Jn(m,this.__chain__).thru(function(E){return l&&!E.length&&E.push(n),E}))});function rA(){return o_(this)}function sA(){return new Jn(this.value(),this.__chain__)}function oA(){this.__values__===n&&(this.__values__=w_(this.value()));var o=this.__index__>=this.__values__.length,l=o?n:this.__values__[this.__index__++];return{done:o,value:l}}function aA(){return this}function lA(o){for(var l,f=this;f instanceof Rc;){var m=J0(f);m.__index__=0,m.__values__=n,l?x.__wrapped__=m:l=m;var x=m;f=f.__wrapped__}return x.__wrapped__=o,l}function cA(){var o=this.__wrapped__;if(o instanceof Ae){var l=o;return this.__actions__.length&&(l=new Ae(this)),l=l.reverse(),l.__actions__.push({func:Gc,args:[Od],thisArg:n}),new Jn(l,this.__chain__)}return this.thru(Od)}function uA(){return b0(this.__wrapped__,this.__actions__)}var hA=jc(function(o,l,f){Fe.call(o,f)?++o[f]:or(o,f,1)});function fA(o,l,f){var m=_e(o)?Dv:n2;return f&&sn(o,l,f)&&(l=n),m(o,ue(l,3))}function dA(o,l){var f=_e(o)?Mr:s0;return f(o,ue(l,3))}var pA=M0(e_),mA=M0(t_);function gA(o,l){return Wt(Yc(o,l),1)}function yA(o,l){return Wt(Yc(o,l),ne)}function vA(o,l,f){return f=f===n?1:xe(f),Wt(Yc(o,l),f)}function a_(o,l){var f=_e(o)?Qn:Fr;return f(o,ue(l,3))}function l_(o,l){var f=_e(o)?FT:r0;return f(o,ue(l,3))}var _A=jc(function(o,l,f){Fe.call(o,f)?o[f].push(l):or(o,f,[l])});function wA(o,l,f,m){o=_n(o)?o:ko(o),f=f&&!m?xe(f):0;var x=o.length;return f<0&&(f=At(x+f,0)),Jc(o)?f<=x&&o.indexOf(l,f)>-1:!!x&&ho(o,l,f)>-1}var xA=Ce(function(o,l,f){var m=-1,x=typeof l=="function",E=_n(o)?F(o.length):[];return Fr(o,function(P){E[++m]=x?Mn(l,P,f):Wa(P,l,f)}),E}),bA=jc(function(o,l,f){or(o,f,l)});function Yc(o,l){var f=_e(o)?tt:h0;return f(o,ue(l,3))}function SA(o,l,f,m){return o==null?[]:(_e(l)||(l=l==null?[]:[l]),f=m?n:f,_e(f)||(f=f==null?[]:[f]),m0(o,l,f))}var kA=jc(function(o,l,f){o[f?0:1].push(l)},function(){return[[],[]]});function CA(o,l,f){var m=_e(o)?Gf:jv,x=arguments.length<3;return m(o,ue(l,4),f,x,Fr)}function TA(o,l,f){var m=_e(o)?zT:jv,x=arguments.length<3;return m(o,ue(l,4),f,x,r0)}function EA(o,l){var f=_e(o)?Mr:s0;return f(o,Qc(ue(l,3)))}function NA(o){var l=_e(o)?e0:w2;return l(o)}function AA(o,l,f){(f?sn(o,l,f):l===n)?l=1:l=xe(l);var m=_e(o)?QE:x2;return m(o,l)}function PA(o){var l=_e(o)?ZE:S2;return l(o)}function IA(o){if(o==null)return 0;if(_n(o))return Jc(o)?po(o):o.length;var l=Yt(o);return l==Rn||l==et?o.size:fd(o).length}function RA(o,l,f){var m=_e(o)?Yf:k2;return f&&sn(o,l,f)&&(l=n),m(o,ue(l,3))}var MA=Ce(function(o,l){if(o==null)return[];var f=l.length;return f>1&&sn(o,l[0],l[1])?l=[]:f>2&&sn(l[0],l[1],l[2])&&(l=[l[0]]),m0(o,Wt(l,1),[])}),Kc=dE||function(){return Bt.Date.now()};function OA(o,l){if(typeof l!="function")throw new Zn(a);return o=xe(o),function(){if(--o<1)return l.apply(this,arguments)}}function c_(o,l,f){return l=f?n:l,l=o&&l==null?o.length:l,ar(o,M,n,n,n,n,l)}function u_(o,l){var f;if(typeof l!="function")throw new Zn(a);return o=xe(o),function(){return--o>0&&(f=l.apply(this,arguments)),o<=1&&(l=n),f}}var Ld=Ce(function(o,l,f){var m=T;if(f.length){var x=Dr(f,bo(Ld));m|=N}return ar(o,m,l,f,x)}),h_=Ce(function(o,l,f){var m=T|v;if(f.length){var x=Dr(f,bo(h_));m|=N}return ar(l,m,o,f,x)});function f_(o,l,f){l=f?n:l;var m=ar(o,k,n,n,n,n,n,l);return m.placeholder=f_.placeholder,m}function d_(o,l,f){l=f?n:l;var m=ar(o,A,n,n,n,n,n,l);return m.placeholder=d_.placeholder,m}function p_(o,l,f){var m,x,E,P,O,L,V=0,U=!1,H=!1,J=!0;if(typeof o!="function")throw new Zn(a);l=ii(l)||0,ot(f)&&(U=!!f.leading,H="maxWait"in f,E=H?At(ii(f.maxWait)||0,l):E,J="trailing"in f?!!f.trailing:J);function oe(vt){var bi=m,fr=x;return m=x=n,V=vt,P=o.apply(fr,bi),P}function fe(vt){return V=vt,O=Ha(Ee,l),U?oe(vt):P}function Se(vt){var bi=vt-L,fr=vt-V,M_=l-bi;return H?Gt(M_,E-fr):M_}function de(vt){var bi=vt-L,fr=vt-V;return L===n||bi>=l||bi<0||H&&fr>=E}function Ee(){var vt=Kc();if(de(vt))return Ie(vt);O=Ha(Ee,Se(vt))}function Ie(vt){return O=n,J&&m?oe(vt):(m=x=n,P)}function Fn(){O!==n&&k0(O),V=0,m=L=x=O=n}function on(){return O===n?P:Ie(Kc())}function zn(){var vt=Kc(),bi=de(vt);if(m=arguments,x=this,L=vt,bi){if(O===n)return fe(L);if(H)return k0(O),O=Ha(Ee,l),oe(L)}return O===n&&(O=Ha(Ee,l)),P}return zn.cancel=Fn,zn.flush=on,zn}var DA=Ce(function(o,l){return i0(o,1,l)}),LA=Ce(function(o,l,f){return i0(o,ii(l)||0,f)});function FA(o){return ar(o,j)}function Xc(o,l){if(typeof o!="function"||l!=null&&typeof l!="function")throw new Zn(a);var f=function(){var m=arguments,x=l?l.apply(this,m):m[0],E=f.cache;if(E.has(x))return E.get(x);var P=o.apply(this,m);return f.cache=E.set(x,P)||E,P};return f.cache=new(Xc.Cache||sr),f}Xc.Cache=sr;function Qc(o){if(typeof o!="function")throw new Zn(a);return function(){var l=arguments;switch(l.length){case 0:return!o.call(this);case 1:return!o.call(this,l[0]);case 2:return!o.call(this,l[0],l[1]);case 3:return!o.call(this,l[0],l[1],l[2])}return!o.apply(this,l)}}function zA(o){return u_(2,o)}var jA=C2(function(o,l){l=l.length==1&&_e(l[0])?tt(l[0],On(ue())):tt(Wt(l,1),On(ue()));var f=l.length;return Ce(function(m){for(var x=-1,E=Gt(m.length,f);++x<E;)m[x]=l[x].call(this,m[x]);return Mn(o,this,m)})}),Fd=Ce(function(o,l){var f=Dr(l,bo(Fd));return ar(o,N,n,l,f)}),m_=Ce(function(o,l){var f=Dr(l,bo(m_));return ar(o,R,n,l,f)}),BA=lr(function(o,l){return ar(o,I,n,n,n,l)});function WA(o,l){if(typeof o!="function")throw new Zn(a);return l=l===n?l:xe(l),Ce(o,l)}function VA(o,l){if(typeof o!="function")throw new Zn(a);return l=l==null?0:At(xe(l),0),Ce(function(f){var m=f[l],x=Br(f,0,l);return m&&Or(x,m),Mn(o,this,x)})}function UA(o,l,f){var m=!0,x=!0;if(typeof o!="function")throw new Zn(a);return ot(f)&&(m="leading"in f?!!f.leading:m,x="trailing"in f?!!f.trailing:x),p_(o,l,{leading:m,maxWait:l,trailing:x})}function qA(o){return c_(o,1)}function $A(o,l){return Fd(xd(l),o)}function HA(){if(!arguments.length)return[];var o=arguments[0];return _e(o)?o:[o]}function GA(o){return ei(o,y)}function YA(o,l){return l=typeof l=="function"?l:n,ei(o,y,l)}function KA(o){return ei(o,p|y)}function XA(o,l){return l=typeof l=="function"?l:n,ei(o,p|y,l)}function QA(o,l){return l==null||n0(o,l,Ot(l))}function xi(o,l){return o===l||o!==o&&l!==l}var ZA=Uc(cd),JA=Uc(function(o,l){return o>=l}),Is=l0(function(){return arguments}())?l0:function(o){return pt(o)&&Fe.call(o,"callee")&&!Yv.call(o,"callee")},_e=F.isArray,eP=Av?On(Av):l2;function _n(o){return o!=null&&Zc(o.length)&&!ur(o)}function yt(o){return pt(o)&&_n(o)}function tP(o){return o===!0||o===!1||pt(o)&&rn(o)==ae}var Wr=mE||Yd,nP=Pv?On(Pv):c2;function iP(o){return pt(o)&&o.nodeType===1&&!Ga(o)}function rP(o){if(o==null)return!0;if(_n(o)&&(_e(o)||typeof o=="string"||typeof o.splice=="function"||Wr(o)||So(o)||Is(o)))return!o.length;var l=Yt(o);if(l==Rn||l==et)return!o.size;if($a(o))return!fd(o).length;for(var f in o)if(Fe.call(o,f))return!1;return!0}function sP(o,l){return Va(o,l)}function oP(o,l,f){f=typeof f=="function"?f:n;var m=f?f(o,l):n;return m===n?Va(o,l,n,f):!!m}function zd(o){if(!pt(o))return!1;var l=rn(o);return l==yi||l==ir||typeof o.message=="string"&&typeof o.name=="string"&&!Ga(o)}function aP(o){return typeof o=="number"&&Xv(o)}function ur(o){if(!ot(o))return!1;var l=rn(o);return l==vi||l==fc||l==dt||l==Re}function g_(o){return typeof o=="number"&&o==xe(o)}function Zc(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=$}function ot(o){var l=typeof o;return o!=null&&(l=="object"||l=="function")}function pt(o){return o!=null&&typeof o=="object"}var y_=Iv?On(Iv):h2;function lP(o,l){return o===l||hd(o,l,Nd(l))}function cP(o,l,f){return f=typeof f=="function"?f:n,hd(o,l,Nd(l),f)}function uP(o){return v_(o)&&o!=+o}function hP(o){if(Y2(o))throw new ve(s);return c0(o)}function fP(o){return o===null}function dP(o){return o==null}function v_(o){return typeof o=="number"||pt(o)&&rn(o)==ee}function Ga(o){if(!pt(o)||rn(o)!=Le)return!1;var l=Cc(o);if(l===null)return!0;var f=Fe.call(l,"constructor")&&l.constructor;return typeof f=="function"&&f instanceof f&&xc.call(f)==cE}var jd=Rv?On(Rv):f2;function pP(o){return g_(o)&&o>=-$&&o<=$}var __=Mv?On(Mv):d2;function Jc(o){return typeof o=="string"||!_e(o)&&pt(o)&&rn(o)==yn}function Ln(o){return typeof o=="symbol"||pt(o)&&rn(o)==Vi}var So=Ov?On(Ov):p2;function mP(o){return o===n}function gP(o){return pt(o)&&Yt(o)==bs}function yP(o){return pt(o)&&rn(o)==Ef}var vP=Uc(dd),_P=Uc(function(o,l){return o<=l});function w_(o){if(!o)return[];if(_n(o))return Jc(o)?_i(o):vn(o);if(Oa&&o[Oa])return QT(o[Oa]());var l=Yt(o),f=l==Rn?ed:l==et?vc:ko;return f(o)}function hr(o){if(!o)return o===0?o:0;if(o=ii(o),o===ne||o===-ne){var l=o<0?-1:1;return l*Y}return o===o?o:0}function xe(o){var l=hr(o),f=l%1;return l===l?f?l-f:l:0}function x_(o){return o?Es(xe(o),0,Q):0}function ii(o){if(typeof o=="number")return o;if(Ln(o))return X;if(ot(o)){var l=typeof o.valueOf=="function"?o.valueOf():o;o=ot(l)?l+"":l}if(typeof o!="string")return o===0?o:+o;o=Bv(o);var f=eT.test(o);return f||nT.test(o)?OT(o.slice(2),f?2:8):JC.test(o)?X:+o}function b_(o){return qi(o,wn(o))}function wP(o){return o?Es(xe(o),-$,$):o===0?o:0}function De(o){return o==null?"":Dn(o)}var xP=wo(function(o,l){if($a(l)||_n(l)){qi(l,Ot(l),o);return}for(var f in l)Fe.call(l,f)&&ja(o,f,l[f])}),S_=wo(function(o,l){qi(l,wn(l),o)}),eu=wo(function(o,l,f,m){qi(l,wn(l),o,m)}),bP=wo(function(o,l,f,m){qi(l,Ot(l),o,m)}),SP=lr(od);function kP(o,l){var f=_o(o);return l==null?f:t0(f,l)}var CP=Ce(function(o,l){o=Ue(o);var f=-1,m=l.length,x=m>2?l[2]:n;for(x&&sn(l[0],l[1],x)&&(m=1);++f<m;)for(var E=l[f],P=wn(E),O=-1,L=P.length;++O<L;){var V=P[O],U=o[V];(U===n||xi(U,go[V])&&!Fe.call(o,V))&&(o[V]=E[V])}return o}),TP=Ce(function(o){return o.push(n,B0),Mn(k_,n,o)});function EP(o,l){return Lv(o,ue(l,3),Ui)}function NP(o,l){return Lv(o,ue(l,3),ld)}function AP(o,l){return o==null?o:ad(o,ue(l,3),wn)}function PP(o,l){return o==null?o:o0(o,ue(l,3),wn)}function IP(o,l){return o&&Ui(o,ue(l,3))}function RP(o,l){return o&&ld(o,ue(l,3))}function MP(o){return o==null?[]:Dc(o,Ot(o))}function OP(o){return o==null?[]:Dc(o,wn(o))}function Bd(o,l,f){var m=o==null?n:Ns(o,l);return m===n?f:m}function DP(o,l){return o!=null&&U0(o,l,r2)}function Wd(o,l){return o!=null&&U0(o,l,s2)}var LP=D0(function(o,l,f){l!=null&&typeof l.toString!="function"&&(l=bc.call(l)),o[l]=f},Ud(xn)),FP=D0(function(o,l,f){l!=null&&typeof l.toString!="function"&&(l=bc.call(l)),Fe.call(o,l)?o[l].push(f):o[l]=[f]},ue),zP=Ce(Wa);function Ot(o){return _n(o)?Jv(o):fd(o)}function wn(o){return _n(o)?Jv(o,!0):m2(o)}function jP(o,l){var f={};return l=ue(l,3),Ui(o,function(m,x,E){or(f,l(m,x,E),m)}),f}function BP(o,l){var f={};return l=ue(l,3),Ui(o,function(m,x,E){or(f,x,l(m,x,E))}),f}var WP=wo(function(o,l,f){Lc(o,l,f)}),k_=wo(function(o,l,f,m){Lc(o,l,f,m)}),VP=lr(function(o,l){var f={};if(o==null)return f;var m=!1;l=tt(l,function(E){return E=jr(E,o),m||(m=E.length>1),E}),qi(o,Td(o),f),m&&(f=ei(f,p|g|y,L2));for(var x=l.length;x--;)vd(f,l[x]);return f});function UP(o,l){return C_(o,Qc(ue(l)))}var qP=lr(function(o,l){return o==null?{}:y2(o,l)});function C_(o,l){if(o==null)return{};var f=tt(Td(o),function(m){return[m]});return l=ue(l),g0(o,f,function(m,x){return l(m,x[0])})}function $P(o,l,f){l=jr(l,o);var m=-1,x=l.length;for(x||(x=1,o=n);++m<x;){var E=o==null?n:o[$i(l[m])];E===n&&(m=x,E=f),o=ur(E)?E.call(o):E}return o}function HP(o,l,f){return o==null?o:Ua(o,l,f)}function GP(o,l,f,m){return m=typeof m=="function"?m:n,o==null?o:Ua(o,l,f,m)}var T_=z0(Ot),E_=z0(wn);function YP(o,l,f){var m=_e(o),x=m||Wr(o)||So(o);if(l=ue(l,4),f==null){var E=o&&o.constructor;x?f=m?new E:[]:ot(o)?f=ur(E)?_o(Cc(o)):{}:f={}}return(x?Qn:Ui)(o,function(P,O,L){return l(f,P,O,L)}),f}function KP(o,l){return o==null?!0:vd(o,l)}function XP(o,l,f){return o==null?o:x0(o,l,xd(f))}function QP(o,l,f,m){return m=typeof m=="function"?m:n,o==null?o:x0(o,l,xd(f),m)}function ko(o){return o==null?[]:Jf(o,Ot(o))}function ZP(o){return o==null?[]:Jf(o,wn(o))}function JP(o,l,f){return f===n&&(f=l,l=n),f!==n&&(f=ii(f),f=f===f?f:0),l!==n&&(l=ii(l),l=l===l?l:0),Es(ii(o),l,f)}function eI(o,l,f){return l=hr(l),f===n?(f=l,l=0):f=hr(f),o=ii(o),o2(o,l,f)}function tI(o,l,f){if(f&&typeof f!="boolean"&&sn(o,l,f)&&(l=f=n),f===n&&(typeof l=="boolean"?(f=l,l=n):typeof o=="boolean"&&(f=o,o=n)),o===n&&l===n?(o=0,l=1):(o=hr(o),l===n?(l=o,o=0):l=hr(l)),o>l){var m=o;o=l,l=m}if(f||o%1||l%1){var x=Qv();return Gt(o+x*(l-o+MT("1e-"+((x+"").length-1))),l)}return md(o,l)}var nI=xo(function(o,l,f){return l=l.toLowerCase(),o+(f?N_(l):l)});function N_(o){return Vd(De(o).toLowerCase())}function A_(o){return o=De(o),o&&o.replace(rT,HT).replace(ST,"")}function iI(o,l,f){o=De(o),l=Dn(l);var m=o.length;f=f===n?m:Es(xe(f),0,m);var x=f;return f-=l.length,f>=0&&o.slice(f,x)==l}function rI(o){return o=De(o),o&&zC.test(o)?o.replace(ov,GT):o}function sI(o){return o=De(o),o&&qC.test(o)?o.replace(Ff,"\\$&"):o}var oI=xo(function(o,l,f){return o+(f?"-":"")+l.toLowerCase()}),aI=xo(function(o,l,f){return o+(f?" ":"")+l.toLowerCase()}),lI=R0("toLowerCase");function cI(o,l,f){o=De(o),l=xe(l);var m=l?po(o):0;if(!l||m>=l)return o;var x=(l-m)/2;return Vc(Ac(x),f)+o+Vc(Nc(x),f)}function uI(o,l,f){o=De(o),l=xe(l);var m=l?po(o):0;return l&&m<l?o+Vc(l-m,f):o}function hI(o,l,f){o=De(o),l=xe(l);var m=l?po(o):0;return l&&m<l?Vc(l-m,f)+o:o}function fI(o,l,f){return f||l==null?l=0:l&&(l=+l),_E(De(o).replace(zf,""),l||0)}function dI(o,l,f){return(f?sn(o,l,f):l===n)?l=1:l=xe(l),gd(De(o),l)}function pI(){var o=arguments,l=De(o[0]);return o.length<3?l:l.replace(o[1],o[2])}var mI=xo(function(o,l,f){return o+(f?"_":"")+l.toLowerCase()});function gI(o,l,f){return f&&typeof f!="number"&&sn(o,l,f)&&(l=f=n),f=f===n?Q:f>>>0,f?(o=De(o),o&&(typeof l=="string"||l!=null&&!jd(l))&&(l=Dn(l),!l&&fo(o))?Br(_i(o),0,f):o.split(l,f)):[]}var yI=xo(function(o,l,f){return o+(f?" ":"")+Vd(l)});function vI(o,l,f){return o=De(o),f=f==null?0:Es(xe(f),0,o.length),l=Dn(l),o.slice(f,f+l.length)==l}function _I(o,l,f){var m=C.templateSettings;f&&sn(o,l,f)&&(l=n),o=De(o),l=eu({},l,m,j0);var x=eu({},l.imports,m.imports,j0),E=Ot(x),P=Jf(x,E),O,L,V=0,U=l.interpolate||dc,H="__p += '",J=td((l.escape||dc).source+"|"+U.source+"|"+(U===av?ZC:dc).source+"|"+(l.evaluate||dc).source+"|$","g"),oe="//# sourceURL="+(Fe.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++NT+"]")+`
`;o.replace(J,function(de,Ee,Ie,Fn,on,zn){return Ie||(Ie=Fn),H+=o.slice(V,zn).replace(sT,YT),Ee&&(O=!0,H+=`' +
__e(`+Ee+`) +
'`),on&&(L=!0,H+=`';
`+on+`;
__p += '`),Ie&&(H+=`' +
((__t = (`+Ie+`)) == null ? '' : __t) +
'`),V=zn+de.length,de}),H+=`';
`;var fe=Fe.call(l,"variable")&&l.variable;if(!fe)H=`with (obj) {
`+H+`
}
`;else if(XC.test(fe))throw new ve(c);H=(L?H.replace(OC,""):H).replace(DC,"$1").replace(LC,"$1;"),H="function("+(fe||"obj")+`) {
`+(fe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(O?", __e = _.escape":"")+(L?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+H+`return __p
}`;var Se=I_(function(){return Oe(E,oe+"return "+H).apply(n,P)});if(Se.source=H,zd(Se))throw Se;return Se}function wI(o){return De(o).toLowerCase()}function xI(o){return De(o).toUpperCase()}function bI(o,l,f){if(o=De(o),o&&(f||l===n))return Bv(o);if(!o||!(l=Dn(l)))return o;var m=_i(o),x=_i(l),E=Wv(m,x),P=Vv(m,x)+1;return Br(m,E,P).join("")}function SI(o,l,f){if(o=De(o),o&&(f||l===n))return o.slice(0,qv(o)+1);if(!o||!(l=Dn(l)))return o;var m=_i(o),x=Vv(m,_i(l))+1;return Br(m,0,x).join("")}function kI(o,l,f){if(o=De(o),o&&(f||l===n))return o.replace(zf,"");if(!o||!(l=Dn(l)))return o;var m=_i(o),x=Wv(m,_i(l));return Br(m,x).join("")}function CI(o,l){var f=z,m=W;if(ot(l)){var x="separator"in l?l.separator:x;f="length"in l?xe(l.length):f,m="omission"in l?Dn(l.omission):m}o=De(o);var E=o.length;if(fo(o)){var P=_i(o);E=P.length}if(f>=E)return o;var O=f-po(m);if(O<1)return m;var L=P?Br(P,0,O).join(""):o.slice(0,O);if(x===n)return L+m;if(P&&(O+=L.length-O),jd(x)){if(o.slice(O).search(x)){var V,U=L;for(x.global||(x=td(x.source,De(lv.exec(x))+"g")),x.lastIndex=0;V=x.exec(U);)var H=V.index;L=L.slice(0,H===n?O:H)}}else if(o.indexOf(Dn(x),O)!=O){var J=L.lastIndexOf(x);J>-1&&(L=L.slice(0,J))}return L+m}function TI(o){return o=De(o),o&&FC.test(o)?o.replace(sv,tE):o}var EI=xo(function(o,l,f){return o+(f?" ":"")+l.toUpperCase()}),Vd=R0("toUpperCase");function P_(o,l,f){return o=De(o),l=f?n:l,l===n?XT(o)?rE(o):WT(o):o.match(l)||[]}var I_=Ce(function(o,l){try{return Mn(o,n,l)}catch(f){return zd(f)?f:new ve(f)}}),NI=lr(function(o,l){return Qn(l,function(f){f=$i(f),or(o,f,Ld(o[f],o))}),o});function AI(o){var l=o==null?0:o.length,f=ue();return o=l?tt(o,function(m){if(typeof m[1]!="function")throw new Zn(a);return[f(m[0]),m[1]]}):[],Ce(function(m){for(var x=-1;++x<l;){var E=o[x];if(Mn(E[0],this,m))return Mn(E[1],this,m)}})}function PI(o){return t2(ei(o,p))}function Ud(o){return function(){return o}}function II(o,l){return o==null||o!==o?l:o}var RI=O0(),MI=O0(!0);function xn(o){return o}function qd(o){return u0(typeof o=="function"?o:ei(o,p))}function OI(o){return f0(ei(o,p))}function DI(o,l){return d0(o,ei(l,p))}var LI=Ce(function(o,l){return function(f){return Wa(f,o,l)}}),FI=Ce(function(o,l){return function(f){return Wa(o,f,l)}});function $d(o,l,f){var m=Ot(l),x=Dc(l,m);f==null&&!(ot(l)&&(x.length||!m.length))&&(f=l,l=o,o=this,x=Dc(l,Ot(l)));var E=!(ot(f)&&"chain"in f)||!!f.chain,P=ur(o);return Qn(x,function(O){var L=l[O];o[O]=L,P&&(o.prototype[O]=function(){var V=this.__chain__;if(E||V){var U=o(this.__wrapped__),H=U.__actions__=vn(this.__actions__);return H.push({func:L,args:arguments,thisArg:o}),U.__chain__=V,U}return L.apply(o,Or([this.value()],arguments))})}),o}function zI(){return Bt._===this&&(Bt._=uE),this}function Hd(){}function jI(o){return o=xe(o),Ce(function(l){return p0(l,o)})}var BI=Sd(tt),WI=Sd(Dv),VI=Sd(Yf);function R_(o){return Pd(o)?Kf($i(o)):v2(o)}function UI(o){return function(l){return o==null?n:Ns(o,l)}}var qI=L0(),$I=L0(!0);function Gd(){return[]}function Yd(){return!1}function HI(){return{}}function GI(){return""}function YI(){return!0}function KI(o,l){if(o=xe(o),o<1||o>$)return[];var f=Q,m=Gt(o,Q);l=ue(l),o-=Q;for(var x=Zf(m,l);++f<o;)l(f);return x}function XI(o){return _e(o)?tt(o,$i):Ln(o)?[o]:vn(Z0(De(o)))}function QI(o){var l=++lE;return De(o)+l}var ZI=Wc(function(o,l){return o+l},0),JI=kd("ceil"),eR=Wc(function(o,l){return o/l},1),tR=kd("floor");function nR(o){return o&&o.length?Oc(o,xn,cd):n}function iR(o,l){return o&&o.length?Oc(o,ue(l,2),cd):n}function rR(o){return zv(o,xn)}function sR(o,l){return zv(o,ue(l,2))}function oR(o){return o&&o.length?Oc(o,xn,dd):n}function aR(o,l){return o&&o.length?Oc(o,ue(l,2),dd):n}var lR=Wc(function(o,l){return o*l},1),cR=kd("round"),uR=Wc(function(o,l){return o-l},0);function hR(o){return o&&o.length?Qf(o,xn):0}function fR(o,l){return o&&o.length?Qf(o,ue(l,2)):0}return C.after=OA,C.ary=c_,C.assign=xP,C.assignIn=S_,C.assignInWith=eu,C.assignWith=bP,C.at=SP,C.before=u_,C.bind=Ld,C.bindAll=NI,C.bindKey=h_,C.castArray=HA,C.chain=o_,C.chunk=tN,C.compact=nN,C.concat=iN,C.cond=AI,C.conforms=PI,C.constant=Ud,C.countBy=hA,C.create=kP,C.curry=f_,C.curryRight=d_,C.debounce=p_,C.defaults=CP,C.defaultsDeep=TP,C.defer=DA,C.delay=LA,C.difference=rN,C.differenceBy=sN,C.differenceWith=oN,C.drop=aN,C.dropRight=lN,C.dropRightWhile=cN,C.dropWhile=uN,C.fill=hN,C.filter=dA,C.flatMap=gA,C.flatMapDeep=yA,C.flatMapDepth=vA,C.flatten=n_,C.flattenDeep=fN,C.flattenDepth=dN,C.flip=FA,C.flow=RI,C.flowRight=MI,C.fromPairs=pN,C.functions=MP,C.functionsIn=OP,C.groupBy=_A,C.initial=gN,C.intersection=yN,C.intersectionBy=vN,C.intersectionWith=_N,C.invert=LP,C.invertBy=FP,C.invokeMap=xA,C.iteratee=qd,C.keyBy=bA,C.keys=Ot,C.keysIn=wn,C.map=Yc,C.mapKeys=jP,C.mapValues=BP,C.matches=OI,C.matchesProperty=DI,C.memoize=Xc,C.merge=WP,C.mergeWith=k_,C.method=LI,C.methodOf=FI,C.mixin=$d,C.negate=Qc,C.nthArg=jI,C.omit=VP,C.omitBy=UP,C.once=zA,C.orderBy=SA,C.over=BI,C.overArgs=jA,C.overEvery=WI,C.overSome=VI,C.partial=Fd,C.partialRight=m_,C.partition=kA,C.pick=qP,C.pickBy=C_,C.property=R_,C.propertyOf=UI,C.pull=SN,C.pullAll=r_,C.pullAllBy=kN,C.pullAllWith=CN,C.pullAt=TN,C.range=qI,C.rangeRight=$I,C.rearg=BA,C.reject=EA,C.remove=EN,C.rest=WA,C.reverse=Od,C.sampleSize=AA,C.set=HP,C.setWith=GP,C.shuffle=PA,C.slice=NN,C.sortBy=MA,C.sortedUniq=DN,C.sortedUniqBy=LN,C.split=gI,C.spread=VA,C.tail=FN,C.take=zN,C.takeRight=jN,C.takeRightWhile=BN,C.takeWhile=WN,C.tap=nA,C.throttle=UA,C.thru=Gc,C.toArray=w_,C.toPairs=T_,C.toPairsIn=E_,C.toPath=XI,C.toPlainObject=b_,C.transform=YP,C.unary=qA,C.union=VN,C.unionBy=UN,C.unionWith=qN,C.uniq=$N,C.uniqBy=HN,C.uniqWith=GN,C.unset=KP,C.unzip=Dd,C.unzipWith=s_,C.update=XP,C.updateWith=QP,C.values=ko,C.valuesIn=ZP,C.without=YN,C.words=P_,C.wrap=$A,C.xor=KN,C.xorBy=XN,C.xorWith=QN,C.zip=ZN,C.zipObject=JN,C.zipObjectDeep=eA,C.zipWith=tA,C.entries=T_,C.entriesIn=E_,C.extend=S_,C.extendWith=eu,$d(C,C),C.add=ZI,C.attempt=I_,C.camelCase=nI,C.capitalize=N_,C.ceil=JI,C.clamp=JP,C.clone=GA,C.cloneDeep=KA,C.cloneDeepWith=XA,C.cloneWith=YA,C.conformsTo=QA,C.deburr=A_,C.defaultTo=II,C.divide=eR,C.endsWith=iI,C.eq=xi,C.escape=rI,C.escapeRegExp=sI,C.every=fA,C.find=pA,C.findIndex=e_,C.findKey=EP,C.findLast=mA,C.findLastIndex=t_,C.findLastKey=NP,C.floor=tR,C.forEach=a_,C.forEachRight=l_,C.forIn=AP,C.forInRight=PP,C.forOwn=IP,C.forOwnRight=RP,C.get=Bd,C.gt=ZA,C.gte=JA,C.has=DP,C.hasIn=Wd,C.head=i_,C.identity=xn,C.includes=wA,C.indexOf=mN,C.inRange=eI,C.invoke=zP,C.isArguments=Is,C.isArray=_e,C.isArrayBuffer=eP,C.isArrayLike=_n,C.isArrayLikeObject=yt,C.isBoolean=tP,C.isBuffer=Wr,C.isDate=nP,C.isElement=iP,C.isEmpty=rP,C.isEqual=sP,C.isEqualWith=oP,C.isError=zd,C.isFinite=aP,C.isFunction=ur,C.isInteger=g_,C.isLength=Zc,C.isMap=y_,C.isMatch=lP,C.isMatchWith=cP,C.isNaN=uP,C.isNative=hP,C.isNil=dP,C.isNull=fP,C.isNumber=v_,C.isObject=ot,C.isObjectLike=pt,C.isPlainObject=Ga,C.isRegExp=jd,C.isSafeInteger=pP,C.isSet=__,C.isString=Jc,C.isSymbol=Ln,C.isTypedArray=So,C.isUndefined=mP,C.isWeakMap=gP,C.isWeakSet=yP,C.join=wN,C.kebabCase=oI,C.last=ni,C.lastIndexOf=xN,C.lowerCase=aI,C.lowerFirst=lI,C.lt=vP,C.lte=_P,C.max=nR,C.maxBy=iR,C.mean=rR,C.meanBy=sR,C.min=oR,C.minBy=aR,C.stubArray=Gd,C.stubFalse=Yd,C.stubObject=HI,C.stubString=GI,C.stubTrue=YI,C.multiply=lR,C.nth=bN,C.noConflict=zI,C.noop=Hd,C.now=Kc,C.pad=cI,C.padEnd=uI,C.padStart=hI,C.parseInt=fI,C.random=tI,C.reduce=CA,C.reduceRight=TA,C.repeat=dI,C.replace=pI,C.result=$P,C.round=cR,C.runInContext=D,C.sample=NA,C.size=IA,C.snakeCase=mI,C.some=RA,C.sortedIndex=AN,C.sortedIndexBy=PN,C.sortedIndexOf=IN,C.sortedLastIndex=RN,C.sortedLastIndexBy=MN,C.sortedLastIndexOf=ON,C.startCase=yI,C.startsWith=vI,C.subtract=uR,C.sum=hR,C.sumBy=fR,C.template=_I,C.times=KI,C.toFinite=hr,C.toInteger=xe,C.toLength=x_,C.toLower=wI,C.toNumber=ii,C.toSafeInteger=wP,C.toString=De,C.toUpper=xI,C.trim=bI,C.trimEnd=SI,C.trimStart=kI,C.truncate=CI,C.unescape=TI,C.uniqueId=QI,C.upperCase=EI,C.upperFirst=Vd,C.each=a_,C.eachRight=l_,C.first=i_,$d(C,function(){var o={};return Ui(C,function(l,f){Fe.call(C.prototype,f)||(o[f]=l)}),o}(),{chain:!1}),C.VERSION=i,Qn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){C[o].placeholder=C}),Qn(["drop","take"],function(o,l){Ae.prototype[o]=function(f){f=f===n?1:At(xe(f),0);var m=this.__filtered__&&!l?new Ae(this):this.clone();return m.__filtered__?m.__takeCount__=Gt(f,m.__takeCount__):m.__views__.push({size:Gt(f,Q),type:o+(m.__dir__<0?"Right":"")}),m},Ae.prototype[o+"Right"]=function(f){return this.reverse()[o](f).reverse()}}),Qn(["filter","map","takeWhile"],function(o,l){var f=l+1,m=f==te||f==re;Ae.prototype[o]=function(x){var E=this.clone();return E.__iteratees__.push({iteratee:ue(x,3),type:f}),E.__filtered__=E.__filtered__||m,E}}),Qn(["head","last"],function(o,l){var f="take"+(l?"Right":"");Ae.prototype[o]=function(){return this[f](1).value()[0]}}),Qn(["initial","tail"],function(o,l){var f="drop"+(l?"":"Right");Ae.prototype[o]=function(){return this.__filtered__?new Ae(this):this[f](1)}}),Ae.prototype.compact=function(){return this.filter(xn)},Ae.prototype.find=function(o){return this.filter(o).head()},Ae.prototype.findLast=function(o){return this.reverse().find(o)},Ae.prototype.invokeMap=Ce(function(o,l){return typeof o=="function"?new Ae(this):this.map(function(f){return Wa(f,o,l)})}),Ae.prototype.reject=function(o){return this.filter(Qc(ue(o)))},Ae.prototype.slice=function(o,l){o=xe(o);var f=this;return f.__filtered__&&(o>0||l<0)?new Ae(f):(o<0?f=f.takeRight(-o):o&&(f=f.drop(o)),l!==n&&(l=xe(l),f=l<0?f.dropRight(-l):f.take(l-o)),f)},Ae.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},Ae.prototype.toArray=function(){return this.take(Q)},Ui(Ae.prototype,function(o,l){var f=/^(?:filter|find|map|reject)|While$/.test(l),m=/^(?:head|last)$/.test(l),x=C[m?"take"+(l=="last"?"Right":""):l],E=m||/^find/.test(l);x&&(C.prototype[l]=function(){var P=this.__wrapped__,O=m?[1]:arguments,L=P instanceof Ae,V=O[0],U=L||_e(P),H=function(Ee){var Ie=x.apply(C,Or([Ee],O));return m&&J?Ie[0]:Ie};U&&f&&typeof V=="function"&&V.length!=1&&(L=U=!1);var J=this.__chain__,oe=!!this.__actions__.length,fe=E&&!J,Se=L&&!oe;if(!E&&U){P=Se?P:new Ae(this);var de=o.apply(P,O);return de.__actions__.push({func:Gc,args:[H],thisArg:n}),new Jn(de,J)}return fe&&Se?o.apply(this,O):(de=this.thru(H),fe?m?de.value()[0]:de.value():de)})}),Qn(["pop","push","shift","sort","splice","unshift"],function(o){var l=_c[o],f=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",m=/^(?:pop|shift)$/.test(o);C.prototype[o]=function(){var x=arguments;if(m&&!this.__chain__){var E=this.value();return l.apply(_e(E)?E:[],x)}return this[f](function(P){return l.apply(_e(P)?P:[],x)})}}),Ui(Ae.prototype,function(o,l){var f=C[l];if(f){var m=f.name+"";Fe.call(vo,m)||(vo[m]=[]),vo[m].push({name:l,func:f})}}),vo[Bc(n,v).name]=[{name:"wrapper",func:n}],Ae.prototype.clone=TE,Ae.prototype.reverse=EE,Ae.prototype.value=NE,C.prototype.at=iA,C.prototype.chain=rA,C.prototype.commit=sA,C.prototype.next=oA,C.prototype.plant=lA,C.prototype.reverse=cA,C.prototype.toJSON=C.prototype.valueOf=C.prototype.value=uA,C.prototype.first=C.prototype.head,Oa&&(C.prototype[Oa]=aA),C},mo=sE();Ss?((Ss.exports=mo)._=mo,qf._=mo):Bt._=mo}).call(yr)})(dh,dh.exports);var WD=dh.exports;const xa=()=>{const[t,e]=G.useState({x1:0,y1:0,x2:window.innerWidth,y2:window.innerHeight});return G.useEffect(()=>{const n=WD.throttle(()=>{const i=window.innerWidth,r=window.scrollY,s=i;e({x1:0,y1:0-r,x2:s,y2:window.innerHeight})},50);return window.addEventListener("scroll",n),window.addEventListener("resize",n),()=>{window.removeEventListener("scroll",n),window.removeEventListener("resize",n)}},[]),t},VD="/assets/cv-C_hq2utz.pdf",bS=({scrollThres:t=window.innerHeight*.1})=>{const e=xa(),[n,i]=G.useState(!0);return G.useEffect(()=>{const r=()=>{const s=window.scrollY;i(s<Math.max(1,t))};return window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}},[t]),_.jsx("aside",{className:`sidebar ${n?"":"hidden"}`,style:{top:6.2*Math.sqrt(e.x2),left:.85*e.x2,fontSize:e.x2*.014},children:_.jsx("nav",{children:_.jsxs("ul",{children:[_.jsx("li",{className:"sidebar-link",children:_.jsx(ci,{to:"/home",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:"Home"})}),_.jsx("hr",{}),_.jsx("li",{className:"sidebar-link",children:_.jsx(ci,{to:"/about",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:"About"})}),_.jsx("hr",{}),_.jsx("li",{className:"sidebar-link",children:_.jsx(ci,{to:"/projects",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:"Projects"})}),_.jsx("hr",{}),_.jsx("li",{className:"sidebar-link",children:_.jsx(ci,{to:"/music",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:"Music"})}),_.jsx("hr",{}),_.jsx("li",{className:"sidebar-link",children:_.jsx("a",{href:VD,target:"_blank",rel:"noopener noreferrer",children:"CV"})}),_.jsx("hr",{})]})})})},Lu=({children:t})=>_.jsxs(_.Fragment,{children:[_.jsx(bS,{}),t]}),UD=({width:t=window.innerWidth,visibleThres:e=0,scrollThres:n=window.innerWidth})=>{const[i,r]=G.useState(!1),[s,a]=G.useState(!1);return G.useEffect(()=>{const c=()=>{const u=window.scrollY;r(u<n),a(e<=u&&u<Math.max(1,n))};return c(),window.addEventListener("scroll",c),()=>{window.removeEventListener("scroll",c)}},[e,n]),_.jsxs("div",{className:`sticky-section ${i?"sticky":""} ${s?"":"hidden"}`,style:{width:t,height:Math.min(window.innerHeight*.15,window.innerWidth*.16),fontSize:Math.min(window.innerHeight*.15,window.innerWidth*.16)*.2},children:[_.jsx(ci,{to:"/projects",className:"section-item",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:"Projects"}),_.jsx(ci,{to:"/music",className:"section-item",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:"Music"}),_.jsx(ci,{className:"section-item",to:"/about",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:"More About Me"})]})};var SS={exports:{}},qD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$D=qD,HD=$D;function kS(){}function CS(){}CS.resetWarningCache=kS;var GD=function(){function t(i,r,s,a,c,u){if(u!==HD){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:CS,resetWarningCache:kS};return n.PropTypes=n,n};SS.exports=GD();var YD=SS.exports;const le=Dh(YD);var TS={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",a=0;a<arguments.length;a++){var c=arguments[a];c&&(s=r(s,i(c)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var c in s)e.call(s,c)&&s[c]&&(a=r(a,c));return a}function r(s,a){return a?s?s+" "+a:s+a:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(TS);var KD=TS.exports;const oy=Dh(KD);var XD=200,ay="__lodash_hash_undefined__",QD=9007199254740991,ZD="[object Arguments]",JD="[object Function]",e3="[object GeneratorFunction]",t3=/[\\^$.*+?()[\]{}|]/g,n3=/^\[object .+?Constructor\]$/,i3=typeof yr=="object"&&yr&&yr.Object===Object&&yr,r3=typeof self=="object"&&self&&self.Object===Object&&self,ly=i3||r3||Function("return this")();function s3(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function o3(t,e){var n=t?t.length:0;return!!n&&c3(t,e,0)>-1}function a3(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function l3(t,e,n,i){for(var r=t.length,s=n+-1;++s<r;)if(e(t[s],s,t))return s;return-1}function c3(t,e,n){if(e!==e)return l3(t,u3,n);for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function u3(t){return t!==t}function h3(t,e){return t.has(e)}function f3(t,e){return t==null?void 0:t[e]}function d3(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var p3=Array.prototype,m3=Function.prototype,cy=Object.prototype,bp=ly["__core-js_shared__"],Qw=function(){var t=/[^.]+$/.exec(bp&&bp.keys&&bp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ES=m3.toString,ef=cy.hasOwnProperty,NS=cy.toString,g3=RegExp("^"+ES.call(ef).replace(t3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zw=ly.Symbol,y3=cy.propertyIsEnumerable,v3=p3.splice,Jw=Zw?Zw.isConcatSpreadable:void 0,e1=Math.max,_3=AS(ly,"Map"),Fl=AS(Object,"create");function Gs(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function w3(){this.__data__=Fl?Fl(null):{}}function x3(t){return this.has(t)&&delete this.__data__[t]}function b3(t){var e=this.__data__;if(Fl){var n=e[t];return n===ay?void 0:n}return ef.call(e,t)?e[t]:void 0}function S3(t){var e=this.__data__;return Fl?e[t]!==void 0:ef.call(e,t)}function k3(t,e){var n=this.__data__;return n[t]=Fl&&e===void 0?ay:e,this}Gs.prototype.clear=w3;Gs.prototype.delete=x3;Gs.prototype.get=b3;Gs.prototype.has=S3;Gs.prototype.set=k3;function ba(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function C3(){this.__data__=[]}function T3(t){var e=this.__data__,n=tf(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():v3.call(e,n,1),!0}function E3(t){var e=this.__data__,n=tf(e,t);return n<0?void 0:e[n][1]}function N3(t){return tf(this.__data__,t)>-1}function A3(t,e){var n=this.__data__,i=tf(n,t);return i<0?n.push([t,e]):n[i][1]=e,this}ba.prototype.clear=C3;ba.prototype.delete=T3;ba.prototype.get=E3;ba.prototype.has=N3;ba.prototype.set=A3;function Sa(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function P3(){this.__data__={hash:new Gs,map:new(_3||ba),string:new Gs}}function I3(t){return nf(this,t).delete(t)}function R3(t){return nf(this,t).get(t)}function M3(t){return nf(this,t).has(t)}function O3(t,e){return nf(this,t).set(t,e),this}Sa.prototype.clear=P3;Sa.prototype.delete=I3;Sa.prototype.get=R3;Sa.prototype.has=M3;Sa.prototype.set=O3;function ph(t){var e=-1,n=t?t.length:0;for(this.__data__=new Sa;++e<n;)this.add(t[e])}function D3(t){return this.__data__.set(t,ay),this}function L3(t){return this.__data__.has(t)}ph.prototype.add=ph.prototype.push=D3;ph.prototype.has=L3;function tf(t,e){for(var n=t.length;n--;)if(H3(t[n][0],e))return n;return-1}function F3(t,e,n,i){var r=-1,s=o3,a=!0,c=t.length,u=[],h=e.length;if(!c)return u;e.length>=XD&&(s=h3,a=!1,e=new ph(e));e:for(;++r<c;){var d=t[r],p=d;if(d=d!==0?d:0,a&&p===p){for(var g=h;g--;)if(e[g]===p)continue e;u.push(d)}else s(e,p,i)||u.push(d)}return u}function z3(t,e,n,i,r){var s=-1,a=t.length;for(n||(n=W3),r||(r=[]);++s<a;){var c=t[s];n(c)&&a3(r,c)}return r}function j3(t){if(!IS(t)||U3(t))return!1;var e=PS(t)||d3(t)?g3:n3;return e.test(q3(t))}function B3(t,e){return e=e1(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,r=e1(n.length-e,0),s=Array(r);++i<r;)s[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=s,s3(t,this,a)}}function nf(t,e){var n=t.__data__;return V3(e)?n[typeof e=="string"?"string":"hash"]:n.map}function AS(t,e){var n=f3(t,e);return j3(n)?n:void 0}function W3(t){return Y3(t)||G3(t)||!!(Jw&&t&&t[Jw])}function V3(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function U3(t){return!!Qw&&Qw in t}function q3(t){if(t!=null){try{return ES.call(t)}catch{}try{return t+""}catch{}}return""}var $3=B3(function(t,e){return jm(t)?F3(t,z3(e,1,jm)):[]});function H3(t,e){return t===e||t!==t&&e!==e}function G3(t){return jm(t)&&ef.call(t,"callee")&&(!y3.call(t,"callee")||NS.call(t)==ZD)}var Y3=Array.isArray;function K3(t){return t!=null&&X3(t.length)&&!PS(t)}function jm(t){return Q3(t)&&K3(t)}function PS(t){var e=IS(t)?NS.call(t):"";return e==JD||e==e3}function X3(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=QD}function IS(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Q3(t){return!!t&&typeof t=="object"}var Z3=$3;const t1=Dh(Z3);var uy=J3;function J3(t,e,n){if(t!=null&&typeof t!="number")throw new Error("start must be a number or null");if(e!=null&&typeof e!="number")throw new Error("stop must be a number or null");if(n!=null&&typeof n!="number")throw new Error("step must be a number or null");e==null&&(e=t||0,t=0),n==null&&(n=e>t?1:-1);for(var i=[],r=t<e;r?t<e:t>e;t+=n)i.push(t);return i}const eL=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],tL=["Db","Eb","Gb","Ab","Bb"],nL={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},mh=12,hy=mh,fy=127,iL=/([a-g])([#b]?)(\d+)/,Bm=12;function rL(t){if(!t)throw Error("Invalid note argument");const e=iL.exec(t.toLowerCase());if(!e)throw Error("Invalid note argument");const[,n,i,r]=e,s=`${n.toUpperCase()}${i}`,a=nL[s];if(a==null)throw Error("Invalid note argument");return mh+a+Bm*parseInt(r,10)}function sL(t){const e=(t-mh)%Bm,n=Math.floor((t-mh)/Bm),i=eL[e];return{note:`${i}${n}`,pitchName:i,octave:n,midiNumber:t,isAccidental:tL.includes(i)}}function oL(){return uy(hy,fy+1).reduce((t,e)=>(t[e]=sL(e),t),{})}const aL=oL();function RS(t){const e=aL[t];if(!e)throw Error("Invalid MIDI number");return e}const lL=uy(hy,fy+1).filter(t=>!RS(t).isAccidental),gh={fromNote:rL,getAttributes:RS,MIN_MIDI_NUMBER:hy,MAX_MIDI_NUMBER:fy,NATURAL_MIDI_NUMBERS:lL};class Wm extends Ws.Component{constructor(){super(...arguments);Ke(this,"onPlayNoteInput",()=>{this.props.onPlayNoteInput(this.props.midiNumber)});Ke(this,"onStopNoteInput",()=>{this.props.onStopNoteInput(this.props.midiNumber)})}getAbsoluteKeyPosition(n){const{octave:r,pitchName:s}=gh.getAttributes(n),a=this.props.pitchPositions[s],c=7*r;return a+c}getRelativeKeyPosition(n){return this.getAbsoluteKeyPosition(n)-this.getAbsoluteKeyPosition(this.props.noteRange.first)}render(){const{naturalKeyWidth:n,accidentalWidthRatio:i,midiNumber:r,gliss:s,useTouchEvents:a,accidental:c,active:u,disabled:h,children:d}=this.props;return _.jsx("div",{className:oy("ReactPiano__Key",{"ReactPiano__Key--accidental":c,"ReactPiano__Key--natural":!c,"ReactPiano__Key--disabled":h,"ReactPiano__Key--active":u}),style:{left:n1(this.getRelativeKeyPosition(r)*n),width:n1(c?i*n:n)},onMouseDown:a?null:this.onPlayNoteInput,onMouseUp:a?null:this.onStopNoteInput,onMouseEnter:s?this.onPlayNoteInput:null,onMouseLeave:this.onStopNoteInput,onTouchStart:a?this.onPlayNoteInput:null,onTouchCancel:a?this.onStopNoteInput:null,onTouchEnd:a?this.onStopNoteInput:null,children:_.jsx("div",{className:"ReactPiano__NoteLabelContainer",children:d})})}}Ke(Wm,"propTypes",{midiNumber:le.number.isRequired,naturalKeyWidth:le.number.isRequired,gliss:le.bool.isRequired,useTouchEvents:le.bool.isRequired,accidental:le.bool.isRequired,active:le.bool.isRequired,disabled:le.bool.isRequired,onPlayNoteInput:le.func.isRequired,onStopNoteInput:le.func.isRequired,accidentalWidthRatio:le.number.isRequired,pitchPositions:le.object.isRequired,children:le.node}),Ke(Wm,"defaultProps",{accidentalWidthRatio:.65,pitchPositions:{C:0,Db:.55,D:1,Eb:1.8,E:2,F:3,Gb:3.5,G:4,Ab:4.7,A:5,Bb:5.85,B:6}});function n1(t){return`${t*100}%`}class Vm extends Ws.Component{getMidiNumbers(){return uy(this.props.noteRange.first,this.props.noteRange.last+1)}getNaturalKeyCount(){return this.getMidiNumbers().filter(e=>{const{isAccidental:n}=gh.getAttributes(e);return!n}).length}getNaturalKeyWidth(){return 1/this.getNaturalKeyCount()}getWidth(){return this.props.width?this.props.width:"100%"}getHeight(){return this.props.width?`${this.props.width*this.getNaturalKeyWidth()/this.props.keyWidthToHeight}px`:"100%"}render(){const e=this.getNaturalKeyWidth();return _.jsx("div",{className:oy("ReactPiano__Keyboard",this.props.className),style:{width:this.getWidth(),height:this.getHeight()},children:this.getMidiNumbers().map(n=>{const{note:i,isAccidental:r}=gh.getAttributes(n),s=!this.props.disabled&&this.props.activeNotes.includes(n);return _.jsx(Wm,{naturalKeyWidth:e,midiNumber:n,noteRange:this.props.noteRange,active:s,accidental:r,disabled:this.props.disabled,onPlayNoteInput:this.props.onPlayNoteInput,onStopNoteInput:this.props.onStopNoteInput,gliss:this.props.gliss,useTouchEvents:this.props.useTouchEvents,children:this.props.disabled?null:this.props.renderNoteLabel({isActive:s,isAccidental:r,midiNumber:n})},n)})})}}Ke(Vm,"propTypes",{noteRange:cL,activeNotes:le.arrayOf(le.number),onPlayNoteInput:le.func.isRequired,onStopNoteInput:le.func.isRequired,renderNoteLabel:le.func.isRequired,keyWidthToHeight:le.number.isRequired,className:le.string,disabled:le.bool,gliss:le.bool,useTouchEvents:le.bool,width:le.number}),Ke(Vm,"defaultProps",{disabled:!1,gliss:!1,useTouchEvents:!1,keyWidthToHeight:.33,renderNoteLabel:()=>{}});function i1(t){return typeof t!="number"?!1:gh.NATURAL_MIDI_NUMBERS.includes(t)}function cL(t,e,n){const{first:i,last:r}=t[e];if(!i||!r)return new Error(`Invalid prop ${e} supplied to ${n}. ${e} must be an object with .first and .last values.`);if(!i1(i)||!i1(r))return new Error(`Invalid prop ${e} supplied to ${n}. ${e} values must be valid MIDI numbers, and should not be accidentals (sharp or flat notes).`);if(i>=r)return new Error(`Invalid prop ${e} supplied to ${n}. ${e}.first must be smaller than ${e}.last.`)}class Um extends Ws.Component{constructor(){super(...arguments);Ke(this,"state",{isMouseDown:!1,useTouchEvents:!1});Ke(this,"handleNoteChanges",({prevActiveNotes:n,nextActiveNotes:i})=>{if(this.props.disabled)return;const r=t1(n,i);t1(i,n).forEach(a=>{this.props.playNote(a)}),r.forEach(a=>{this.props.stopNote(a)})});Ke(this,"getMidiNumberForKey",n=>{if(!this.props.keyboardShortcuts)return null;const i=this.props.keyboardShortcuts.find(r=>r.key===n);return i&&i.midiNumber});Ke(this,"getKeyForMidiNumber",n=>{if(!this.props.keyboardShortcuts)return null;const i=this.props.keyboardShortcuts.find(r=>r.midiNumber===n);return i&&i.key});Ke(this,"onKeyDown",n=>{if(n.ctrlKey||n.metaKey||n.shiftKey)return;const i=this.getMidiNumberForKey(n.key);i&&this.onPlayNoteInput(i)});Ke(this,"onKeyUp",n=>{const i=this.getMidiNumberForKey(n.key);i&&this.onStopNoteInput(i)});Ke(this,"onPlayNoteInput",n=>{this.props.disabled||this.props.onPlayNoteInput(n,this.props.activeNotes)});Ke(this,"onStopNoteInput",n=>{this.props.disabled||this.props.onStopNoteInput(n,this.props.activeNotes)});Ke(this,"onMouseDown",()=>{this.setState({isMouseDown:!0})});Ke(this,"onMouseUp",()=>{this.setState({isMouseDown:!1})});Ke(this,"onTouchStart",()=>{this.setState({useTouchEvents:!0})});Ke(this,"renderNoteLabel",({midiNumber:n,isActive:i,isAccidental:r})=>{const s=this.getKeyForMidiNumber(n);return this.props.renderNoteLabel({keyboardShortcut:s,midiNumber:n,isActive:i,isAccidental:r})})}componentDidMount(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)}componentWillUnmount(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)}componentDidUpdate(n,i){this.props.activeNotes!==n.activeNotes&&this.handleNoteChanges({prevActiveNotes:n.activeNotes||[],nextActiveNotes:this.props.activeNotes||[]})}render(){return _.jsx("div",{style:{width:"100%",height:"100%"},onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchStart:this.onTouchStart,"data-testid":"container",children:_.jsx(Vm,{noteRange:this.props.noteRange,onPlayNoteInput:this.onPlayNoteInput,onStopNoteInput:this.onStopNoteInput,activeNotes:this.props.activeNotes,className:this.props.className,disabled:this.props.disabled,width:this.props.width,keyWidthToHeight:this.props.keyWidthToHeight,gliss:this.state.isMouseDown,useTouchEvents:this.state.useTouchEvents,renderNoteLabel:this.renderNoteLabel})})}}Ke(Um,"propTypes",{noteRange:le.object.isRequired,activeNotes:le.arrayOf(le.number.isRequired).isRequired,playNote:le.func.isRequired,stopNote:le.func.isRequired,onPlayNoteInput:le.func.isRequired,onStopNoteInput:le.func.isRequired,renderNoteLabel:le.func.isRequired,className:le.string,disabled:le.bool,width:le.number,keyWidthToHeight:le.number,keyboardShortcuts:le.arrayOf(le.shape({key:le.string.isRequired,midiNumber:le.number.isRequired}))}),Ke(Um,"defaultProps",{renderNoteLabel:({keyboardShortcut:n,midiNumber:i,isActive:r,isAccidental:s})=>n?_.jsx("div",{className:oy("ReactPiano__NoteLabel",{"ReactPiano__NoteLabel--active":r,"ReactPiano__NoteLabel--accidental":s,"ReactPiano__NoteLabel--natural":!s}),children:n=="Backspace"?"del":n}):null});class MS extends Ws.Component{constructor(){super(...arguments);Ke(this,"state",{activeNotes:this.props.activeNotes||[]});Ke(this,"handlePlayNoteInput",n=>{this.setState(i=>(this.props.onPlayNoteInput&&this.props.onPlayNoteInput(n,{prevActiveNotes:i.activeNotes}),i.activeNotes.includes(n)?null:{activeNotes:i.activeNotes.concat(n)}))});Ke(this,"handleStopNoteInput",n=>{this.setState(i=>(this.props.onStopNoteInput&&this.props.onStopNoteInput(n,{prevActiveNotes:this.state.activeNotes}),{activeNotes:i.activeNotes.filter(r=>n!==r)}))})}componentDidUpdate(n){n.activeNotes!==this.props.activeNotes&&this.state.activeNotes!==this.props.activeNotes&&this.setState({activeNotes:this.props.activeNotes||[]})}render(){const{activeNotes:n,onPlayNoteInput:i,onStopNoteInput:r,...s}=this.props;return _.jsx(Um,{activeNotes:this.state.activeNotes,onPlayNoteInput:this.handlePlayNoteInput,onStopNoteInput:this.handleStopNoteInput,...s})}}Ke(MS,"propTypes",{noteRange:le.object.isRequired,activeNotes:le.arrayOf(le.number.isRequired),playNote:le.func.isRequired,stopNote:le.func.isRequired,onPlayNoteInput:le.func,onStopNoteInput:le.func,renderNoteLabel:le.func,className:le.string,disabled:le.bool,width:le.number,keyWidthToHeight:le.number,keyboardShortcuts:le.arrayOf(le.shape({key:le.string.isRequired,midiNumber:le.number.isRequired}))});const OS="15.0.4",r1=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),s1=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),qm=(t,e)=>({startTime:e,type:"setValue",value:t}),DS=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),LS=(t,e,{startTime:n,target:i,timeConstant:r})=>i+(e-i)*Math.exp((n-t)/r),Wo=t=>t.type==="exponentialRampToValue",yh=t=>t.type==="linearRampToValue",Gr=t=>Wo(t)||yh(t),dy=t=>t.type==="setValue",mr=t=>t.type==="setValueCurve",vh=(t,e,n,i)=>{const r=t[e];return r===void 0?i:Gr(r)||dy(r)?r.value:mr(r)?r.values[r.values.length-1]:LS(n,vh(t,e-1,r.startTime,i),r)},o1=(t,e,n,i,r)=>n===void 0?[i.insertTime,r]:Gr(n)?[n.endTime,n.value]:dy(n)?[n.startTime,n.value]:mr(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,vh(t,e-1,n.startTime,r)],$m=t=>t.type==="cancelAndHold",Hm=t=>t.type==="cancelScheduledValues",Ur=t=>$m(t)||Hm(t)?t.cancelTime:Wo(t)||yh(t)?t.endTime:t.startTime,a1=(t,e,n,{endTime:i,value:r})=>n===r?r:0<n&&0<r||n<0&&r<0?n*(r/n)**((t-e)/(i-e)):0,l1=(t,e,n,{endTime:i,value:r})=>n+(t-e)/(i-e)*(r-n),uL=(t,e)=>{const n=Math.floor(e),i=Math.ceil(e);return n===i?t[n]:(1-(e-n))*t[n]+(1-(i-e))*t[i]},hL=(t,{duration:e,startTime:n,values:i})=>{const r=(t-n)/e*(i.length-1);return uL(i,r)},vu=t=>t.type==="setTarget";class fL{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=Ur(e);if($m(e)||Hm(e)){const i=this._automationEvents.findIndex(s=>Hm(e)&&mr(s)?s.startTime+s.duration>=n:Ur(s)>=n),r=this._automationEvents[i];if(i!==-1&&(this._automationEvents=this._automationEvents.slice(0,i)),$m(e)){const s=this._automationEvents[this._automationEvents.length-1];if(r!==void 0&&Gr(r)){if(s!==void 0&&vu(s))throw new Error("The internal list is malformed.");const a=s===void 0?r.insertTime:mr(s)?s.startTime+s.duration:Ur(s),c=s===void 0?this._defaultValue:mr(s)?s.values[s.values.length-1]:s.value,u=Wo(r)?a1(n,a,c,r):l1(n,a,c,r),h=Wo(r)?r1(u,n,this._currenTime):s1(u,n,this._currenTime);this._automationEvents.push(h)}if(s!==void 0&&vu(s)&&this._automationEvents.push(qm(this.getValue(n),n)),s!==void 0&&mr(s)&&s.startTime+s.duration>n){const a=n-s.startTime,c=(s.values.length-1)/s.duration,u=Math.max(2,1+Math.ceil(a*c)),h=a/(u-1)*c,d=s.values.slice(0,u);if(h<1)for(let p=1;p<u;p+=1){const g=h*p%1;d[p]=s.values[p-1]*(1-g)+s.values[p]*g}this._automationEvents[this._automationEvents.length-1]=DS(d,s.startTime,a)}}}else{const i=this._automationEvents.findIndex(a=>Ur(a)>n),r=i===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[i-1];if(r!==void 0&&mr(r)&&Ur(r)+r.duration>n)return!1;const s=Wo(e)?r1(e.value,e.endTime,this._currenTime):yh(e)?s1(e.value,n,this._currenTime):e;if(i===-1)this._automationEvents.push(s);else{if(mr(e)&&n+e.duration>Ur(this._automationEvents[i]))return!1;this._automationEvents.splice(i,0,s)}}return!0}flush(e){const n=this._automationEvents.findIndex(i=>Ur(i)>e);if(n>1){const i=this._automationEvents.slice(n-1),r=i[0];vu(r)&&i.unshift(qm(vh(this._automationEvents,n-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=i}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(a=>Ur(a)>e),i=this._automationEvents[n],r=(n===-1?this._automationEvents.length:n)-1,s=this._automationEvents[r];if(s!==void 0&&vu(s)&&(i===void 0||!Gr(i)||i.insertTime>e))return LS(e,vh(this._automationEvents,r-1,s.startTime,this._defaultValue),s);if(s!==void 0&&dy(s)&&(i===void 0||!Gr(i)))return s.value;if(s!==void 0&&mr(s)&&(i===void 0||!Gr(i)||s.startTime+s.duration>e))return e<s.startTime+s.duration?hL(e,s):s.values[s.values.length-1];if(s!==void 0&&Gr(s)&&(i===void 0||!Gr(i)))return s.value;if(i!==void 0&&Wo(i)){const[a,c]=o1(this._automationEvents,r,s,i,this._defaultValue);return a1(e,a,c,i)}if(i!==void 0&&yh(i)){const[a,c]=o1(this._automationEvents,r,s,i,this._defaultValue);return l1(e,a,c,i)}return this._defaultValue}}const dL=t=>({cancelTime:t,type:"cancelAndHold"}),pL=t=>({cancelTime:t,type:"cancelScheduledValues"}),mL=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),gL=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),yL=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),vL=()=>new DOMException("","AbortError"),_L=t=>(e,n,[i,r,s],a)=>{t(e[r],[n,i,s],c=>c[0]===n&&c[1]===i,a)},wL=t=>(e,n,i)=>{const r=[];for(let s=0;s<i.numberOfInputs;s+=1)r.push(new Set);t.set(e,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},xL=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},ca=new WeakSet,FS=new WeakMap,py=new WeakMap,zS=new WeakMap,my=new WeakMap,rf=new WeakMap,jS=new WeakMap,Gm=new WeakMap,Ym=new WeakMap,Km=new WeakMap,BS={construct(){return BS}},bL=t=>{try{const e=new Proxy(t,BS);new e}catch{return!1}return!0},c1=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,u1=(t,e)=>{const n=[];let i=t.replace(/^[\s]+/,""),r=i.match(c1);for(;r!==null;){const s=r[1].slice(1,-1),a=r[0].replace(/([\s]+)?;?$/,"").replace(s,new URL(s,e).toString());n.push(a),i=i.slice(r[0].length).replace(/^[\s]+/,""),r=i.match(c1)}return[n.join(";"),i]},h1=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},f1=t=>{if(!bL(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},SL=(t,e,n,i,r,s,a,c,u,h,d,p,g)=>{let y=0;return(w,b,T={credentials:"omit"})=>{const v=d.get(w);if(v!==void 0&&v.has(b))return Promise.resolve();const S=h.get(w);if(S!==void 0){const N=S.get(b);if(N!==void 0)return N}const k=s(w),A=k.audioWorklet===void 0?r(b).then(([N,R])=>{const[M,I]=u1(N,R),j=`${M};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${I}
})})(window,'_AWGS')`;return n(j)}).then(()=>{const N=g._AWGS.pop();if(N===void 0)throw new SyntaxError;i(k.currentTime,k.sampleRate,()=>N(class{},void 0,(R,M)=>{if(R.trim()==="")throw e();const I=Ym.get(k);if(I!==void 0){if(I.has(R))throw e();f1(M),h1(M.parameterDescriptors),I.set(R,M)}else f1(M),h1(M.parameterDescriptors),Ym.set(k,new Map([[R,M]]))},k.sampleRate,void 0,void 0))}):Promise.all([r(b),Promise.resolve(t(p,p))]).then(([[N,R],M])=>{const I=y+1;y=I;const[j,z]=u1(N,R),te=`${j};((AudioWorkletProcessor,registerProcessor)=>{${z}
})(${M?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${M?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${M?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${I}',class extends AudioWorkletProcessor{process(){return !1}})`,ce=new Blob([te],{type:"application/javascript; charset=utf-8"}),re=URL.createObjectURL(ce);return k.audioWorklet.addModule(re,T).then(()=>{if(c(k))return k;const ne=a(k);return ne.audioWorklet.addModule(re,T).then(()=>ne)}).then(ne=>{if(u===null)throw new SyntaxError;try{new u(ne,`__sac${I}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(re))});return S===void 0?h.set(w,new Map([[b,A]])):S.set(b,A),A.then(()=>{const N=d.get(w);N===void 0?d.set(w,new Set([b])):N.add(b)}).finally(()=>{const N=h.get(w);N!==void 0&&N.delete(b)}),A}},Li=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},sf=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[i]=n;return t.delete(i),i},WS=(t,e,n,i)=>{const r=Li(t,e),s=sf(r,a=>a[0]===n&&a[1]===i);return r.size===0&&t.delete(e),s},Ql=t=>Li(jS,t),ua=t=>{if(ca.has(t))throw new Error("The AudioNode is already stored.");ca.add(t),Ql(t).forEach(e=>e(!0))},VS=t=>"port"in t,Zl=t=>{if(!ca.has(t))throw new Error("The AudioNode is not stored.");ca.delete(t),Ql(t).forEach(e=>e(!1))},Xm=(t,e)=>{!VS(t)&&e.every(n=>n.size===0)&&Zl(t)},kL=(t,e,n,i,r,s,a,c,u,h,d,p,g)=>{const y=new WeakMap;return(w,b,T,v,S)=>{const{activeInputs:k,passiveInputs:A}=s(b),{outputs:N}=s(w),R=c(w),M=I=>{const j=u(b),z=u(w);if(I){const W=WS(A,w,T,v);t(k,w,W,!1),!S&&!p(w)&&n(z,j,T,v),g(b)&&ua(b)}else{const W=i(k,w,T,v);e(A,v,W,!1),!S&&!p(w)&&r(z,j,T,v);const q=a(b);if(q===0)d(b)&&Xm(b,k);else{const Z=y.get(b);Z!==void 0&&clearTimeout(Z),y.set(b,setTimeout(()=>{d(b)&&Xm(b,k)},q*1e3))}}};return h(N,[b,T,v],I=>I[0]===b&&I[1]===T&&I[2]===v,!0)?(R.add(M),d(w)?t(k,w,[T,v,M],!0):e(A,v,[w,T,M],!0),!0):!1}},CL=t=>(e,n,[i,r,s],a)=>{const c=e.get(i);c===void 0?e.set(i,new Set([[r,n,s]])):t(c,[r,n,s],u=>u[0]===r&&u[1]===n,a)},TL=t=>(e,n)=>{const i=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(i).connect(e.destination);const r=()=>{n.removeEventListener("ended",r),n.disconnect(i),i.disconnect()};n.addEventListener("ended",r)},EL=t=>(e,n)=>{t(e).add(n)},NL={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},AL=(t,e,n,i,r,s)=>class extends t{constructor(c,u){const h=r(c),d={...NL,...u},p=i(h,d),g=s(h)?e():null;super(c,!1,p,g),this._nativeAnalyserNode=p}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(c){this._nativeAnalyserNode.fftSize=c}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(c){const u=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=c,!(c>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=u,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(c){const u=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=c,!(this._nativeAnalyserNode.maxDecibels>c))throw this._nativeAnalyserNode.minDecibels=u,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(c){this._nativeAnalyserNode.smoothingTimeConstant=c}getByteFrequencyData(c){this._nativeAnalyserNode.getByteFrequencyData(c)}getByteTimeDomainData(c){this._nativeAnalyserNode.getByteTimeDomainData(c)}getFloatFrequencyData(c){this._nativeAnalyserNode.getFloatFrequencyData(c)}getFloatTimeDomainData(c){this._nativeAnalyserNode.getFloatTimeDomainData(c)}},nn=(t,e)=>t.context===e,PL=(t,e,n)=>()=>{const i=new WeakMap,r=async(s,a)=>{let c=e(s);if(!nn(c,a)){const h={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,fftSize:c.fftSize,maxDecibels:c.maxDecibels,minDecibels:c.minDecibels,smoothingTimeConstant:c.smoothingTimeConstant};c=t(a,h)}return i.set(a,c),await n(s,a,c),c};return{render(s,a){const c=i.get(a);return c!==void 0?Promise.resolve(c):r(s,a)}}},_h=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Ji=()=>new DOMException("","IndexSizeError"),gy=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(i){throw i.code===12?Ji():i}})(t.getChannelData)},IL={numberOfChannels:1},RL=(t,e,n,i,r,s,a,c)=>{let u=null;return class US{constructor(d){if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:p,numberOfChannels:g,sampleRate:y}={...IL,...d};u===null&&(u=new r(1,1,44100));const w=i!==null&&e(s,s)?new i({length:p,numberOfChannels:g,sampleRate:y}):u.createBuffer(g,p,y);if(w.numberOfChannels===0)throw n();return typeof w.copyFromChannel!="function"?(a(w),gy(w)):e(_h,()=>_h(w))||c(w),t.add(w),w}static[Symbol.hasInstance](d){return d!==null&&typeof d=="object"&&Object.getPrototypeOf(d)===US.prototype||t.has(d)}}},Sn=-34028234663852886e22,cn=-Sn,xr=t=>ca.has(t),ML={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},OL=(t,e,n,i,r,s,a,c)=>class extends t{constructor(h,d){const p=s(h),g={...ML,...d},y=r(p,g),w=a(p),b=w?e():null;super(h,!1,y,b),this._audioBufferSourceNodeRenderer=b,this._isBufferNullified=!1,this._isBufferSet=g.buffer!==null,this._nativeAudioBufferSourceNode=y,this._onended=null,this._playbackRate=n(this,w,y.playbackRate,cn,Sn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(h){if(this._nativeAudioBufferSourceNode.buffer=h,h!==null){if(this._isBufferSet)throw i();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(h){this._nativeAudioBufferSourceNode.loop=h}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(h){this._nativeAudioBufferSourceNode.loopEnd=h}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(h){this._nativeAudioBufferSourceNode.loopStart=h}get onended(){return this._onended}set onended(h){const d=typeof h=="function"?c(this,h):null;this._nativeAudioBufferSourceNode.onended=d;const p=this._nativeAudioBufferSourceNode.onended;this._onended=p!==null&&p===d?h:p}get playbackRate(){return this._playbackRate}start(h=0,d=0,p){if(this._nativeAudioBufferSourceNode.start(h,d,p),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=p===void 0?[h,d]:[h,d,p]),this.context.state!=="closed"){ua(this);const g=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",g),xr(this)&&Zl(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",g)}}stop(h=0){this._nativeAudioBufferSourceNode.stop(h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=h)}},DL=(t,e,n,i,r)=>()=>{const s=new WeakMap;let a=null,c=null;const u=async(h,d)=>{let p=n(h);const g=nn(p,d);if(!g){const y={buffer:p.buffer,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,loop:p.loop,loopEnd:p.loopEnd,loopStart:p.loopStart,playbackRate:p.playbackRate.value};p=e(d,y),a!==null&&p.start(...a),c!==null&&p.stop(c)}return s.set(d,p),g?await t(d,h.playbackRate,p.playbackRate):await i(d,h.playbackRate,p.playbackRate),await r(h,d,p),p};return{set start(h){a=h},set stop(h){c=h},render(h,d){const p=s.get(d);return p!==void 0?Promise.resolve(p):u(h,d)}}},LL=t=>"playbackRate"in t,FL=t=>"frequency"in t&&"gain"in t,zL=t=>"offset"in t,jL=t=>!("frequency"in t)&&"gain"in t,BL=t=>"detune"in t&&"frequency"in t&&!("gain"in t),WL=t=>"pan"in t,un=t=>Li(FS,t),Jl=t=>Li(zS,t),Qm=(t,e)=>{const{activeInputs:n}=un(t);n.forEach(r=>r.forEach(([s])=>{e.includes(t)||Qm(s,[...e,t])}));const i=LL(t)?[t.playbackRate]:VS(t)?Array.from(t.parameters.values()):FL(t)?[t.Q,t.detune,t.frequency,t.gain]:zL(t)?[t.offset]:jL(t)?[t.gain]:BL(t)?[t.detune,t.frequency]:WL(t)?[t.pan]:[];for(const r of i){const s=Jl(r);s!==void 0&&s.activeInputs.forEach(([a])=>Qm(a,e))}xr(t)&&Zl(t)},qS=t=>{Qm(t.destination,[])},VL=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),UL=(t,e,n,i,r,s,a,c,u)=>class extends t{constructor(d={}){if(u===null)throw new Error("Missing the native AudioContext constructor.");let p;try{p=new u(d)}catch(w){throw w.code===12&&w.message==="sampleRate is not in range"?n():w}if(p===null)throw i();if(!VL(d.latencyHint))throw new TypeError(`The provided value '${d.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(d.sampleRate!==void 0&&p.sampleRate!==d.sampleRate)throw n();super(p,2);const{latencyHint:g}=d,{sampleRate:y}=p;if(this._baseLatency=typeof p.baseLatency=="number"?p.baseLatency:g==="balanced"?512/y:g==="interactive"||g===void 0?256/y:g==="playback"?1024/y:Math.max(2,Math.min(128,Math.round(g*y/128)))*128/y,this._nativeAudioContext=p,u.name==="webkitAudioContext"?(this._nativeGainNode=p.createGain(),this._nativeOscillatorNode=p.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(p.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,p.state==="running"){this._state="suspended";const w=()=>{this._state==="suspended"&&(this._state=null),p.removeEventListener("statechange",w)};p.addEventListener("statechange",w)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),qS(this)}))}createMediaElementSource(d){return new r(this,{mediaElement:d})}createMediaStreamDestination(){return new s(this)}createMediaStreamSource(d){return new a(this,{mediaStream:d})}createMediaStreamTrackSource(d){return new c(this,{mediaStreamTrack:d})}resume(){return this._state==="suspended"?new Promise((d,p)=>{const g=()=>{this._nativeAudioContext.removeEventListener("statechange",g),this._nativeAudioContext.state==="running"?d():this.resume().then(d,p)};this._nativeAudioContext.addEventListener("statechange",g)}):this._nativeAudioContext.resume().catch(d=>{throw d===void 0||d.code===15?e():d})}suspend(){return this._nativeAudioContext.suspend().catch(d=>{throw d===void 0?e():d})}},qL=(t,e,n,i,r,s,a,c)=>class extends t{constructor(h,d){const p=s(h),g=a(p),y=r(p,d,g),w=g?e(c):null;super(h,!1,y,w),this._isNodeOfNativeOfflineAudioContext=g,this._nativeAudioDestinationNode=y}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(h){if(this._isNodeOfNativeOfflineAudioContext)throw i();if(h>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=h}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(h){if(this._isNodeOfNativeOfflineAudioContext)throw i();this._nativeAudioDestinationNode.channelCountMode=h}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},$L=t=>{const e=new WeakMap,n=async(i,r)=>{const s=r.destination;return e.set(r,s),await t(i,r,s),s};return{render(i,r){const s=e.get(r);return s!==void 0?Promise.resolve(s):n(i,r)}}},HL=(t,e,n,i,r,s,a,c)=>(u,h)=>{const d=h.listener,p=()=>{const N=new Float32Array(1),R=e(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),M=a(h);let I=!1,j=[0,0,-1,0,1,0],z=[0,0,0];const W=()=>{if(I)return;I=!0;const ce=i(h,256,9,0);ce.onaudioprocess=({inputBuffer:re})=>{const ne=[s(re,N,0),s(re,N,1),s(re,N,2),s(re,N,3),s(re,N,4),s(re,N,5)];ne.some((Y,X)=>Y!==j[X])&&(d.setOrientation(...ne),j=ne);const $=[s(re,N,6),s(re,N,7),s(re,N,8)];$.some((Y,X)=>Y!==z[X])&&(d.setPosition(...$),z=$)},R.connect(ce)},q=ce=>re=>{re!==j[ce]&&(j[ce]=re,d.setOrientation(...j))},Z=ce=>re=>{re!==z[ce]&&(z[ce]=re,d.setPosition(...z))},te=(ce,re,ne)=>{const $=n(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:re});$.connect(R,0,ce),$.start(),Object.defineProperty($.offset,"defaultValue",{get(){return re}});const Y=t({context:u},M,$.offset,cn,Sn);return c(Y,"value",X=>()=>X.call(Y),X=>Q=>{try{X.call(Y,Q)}catch(pe){if(pe.code!==9)throw pe}W(),M&&ne(Q)}),Y.cancelAndHoldAtTime=(X=>M?()=>{throw r()}:(...Q)=>{const pe=X.apply(Y,Q);return W(),pe})(Y.cancelAndHoldAtTime),Y.cancelScheduledValues=(X=>M?()=>{throw r()}:(...Q)=>{const pe=X.apply(Y,Q);return W(),pe})(Y.cancelScheduledValues),Y.exponentialRampToValueAtTime=(X=>M?()=>{throw r()}:(...Q)=>{const pe=X.apply(Y,Q);return W(),pe})(Y.exponentialRampToValueAtTime),Y.linearRampToValueAtTime=(X=>M?()=>{throw r()}:(...Q)=>{const pe=X.apply(Y,Q);return W(),pe})(Y.linearRampToValueAtTime),Y.setTargetAtTime=(X=>M?()=>{throw r()}:(...Q)=>{const pe=X.apply(Y,Q);return W(),pe})(Y.setTargetAtTime),Y.setValueAtTime=(X=>M?()=>{throw r()}:(...Q)=>{const pe=X.apply(Y,Q);return W(),pe})(Y.setValueAtTime),Y.setValueCurveAtTime=(X=>M?()=>{throw r()}:(...Q)=>{const pe=X.apply(Y,Q);return W(),pe})(Y.setValueCurveAtTime),Y};return{forwardX:te(0,0,q(0)),forwardY:te(1,0,q(1)),forwardZ:te(2,-1,q(2)),positionX:te(6,0,Z(0)),positionY:te(7,0,Z(1)),positionZ:te(8,0,Z(2)),upX:te(3,0,q(3)),upY:te(4,1,q(4)),upZ:te(5,0,q(5))}},{forwardX:g,forwardY:y,forwardZ:w,positionX:b,positionY:T,positionZ:v,upX:S,upY:k,upZ:A}=d.forwardX===void 0?p():d;return{get forwardX(){return g},get forwardY(){return y},get forwardZ(){return w},get positionX(){return b},get positionY(){return T},get positionZ(){return v},get upX(){return S},get upY(){return k},get upZ(){return A}}},wh=t=>"context"in t,ec=t=>wh(t[0]),oo=(t,e,n,i)=>{for(const r of t)if(n(r)){if(i)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},d1=(t,e,[n,i],r)=>{oo(t,[e,n,i],s=>s[0]===e&&s[1]===n,r)},p1=(t,[e,n,i],r)=>{const s=t.get(e);s===void 0?t.set(e,new Set([[n,i]])):oo(s,[n,i],a=>a[0]===n,r)},ka=t=>"inputs"in t,xh=(t,e,n,i)=>{if(ka(e)){const r=e.inputs[i];return t.connect(r,n,0),[r,n,0]}return t.connect(e,n,i),[e,n,i]},$S=(t,e,n)=>{for(const i of t)if(i[0]===e&&i[1]===n)return t.delete(i),i;return null},GL=(t,e,n)=>sf(t,i=>i[0]===e&&i[1]===n),HS=(t,e)=>{if(!Ql(t).delete(e))throw new Error("Missing the expected event listener.")},GS=(t,e,n)=>{const i=Li(t,e),r=sf(i,s=>s[0]===n);return i.size===0&&t.delete(e),r},bh=(t,e,n,i)=>{ka(e)?t.disconnect(e.inputs[i],n,0):t.disconnect(e,n,i)},Je=t=>Li(py,t),zl=t=>Li(my,t),Ys=t=>Gm.has(t),Fu=t=>!ca.has(t),m1=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const i=t.createScriptProcessor(256,1,1),r=t.createGain(),s=t.createBuffer(1,2,44100),a=s.getChannelData(0);a[0]=1,a[1]=1;const c=t.createBufferSource();c.buffer=s,c.loop=!0,c.connect(i).connect(t.destination),c.connect(r),c.disconnect(r),i.onaudioprocess=u=>{const h=u.inputBuffer.getChannelData(0);Array.prototype.some.call(h,d=>d===1)?n(!0):n(!1),c.stop(),i.onaudioprocess=null,c.disconnect(i),i.disconnect(t.destination)},c.start()}}),Sp=(t,e)=>{const n=new Map;for(const i of t)for(const r of i){const s=n.get(r);n.set(r,s===void 0?1:s+1)}n.forEach((i,r)=>e(r,i))},Sh=t=>"context"in t,YL=t=>{const e=new Map;t.connect=(n=>(i,r=0,s=0)=>{const a=Sh(i)?n(i,r,s):n(i,r),c=e.get(i);return c===void 0?e.set(i,[{input:s,output:r}]):c.every(u=>u.input!==s||u.output!==r)&&c.push({input:s,output:r}),a})(t.connect.bind(t)),t.disconnect=(n=>(i,r,s)=>{if(n.apply(t),i===void 0)e.clear();else if(typeof i=="number")for(const[a,c]of e){const u=c.filter(h=>h.output!==i);u.length===0?e.delete(a):e.set(a,u)}else if(e.has(i))if(r===void 0)e.delete(i);else{const a=e.get(i);if(a!==void 0){const c=a.filter(u=>u.output!==r&&(u.input!==s||s===void 0));c.length===0?e.delete(i):e.set(i,c)}}for(const[a,c]of e)c.forEach(u=>{Sh(a)?t.connect(a,u.output,u.input):t.connect(a,u.output)})})(t.disconnect)},KL=(t,e,n,i)=>{const{activeInputs:r,passiveInputs:s}=Jl(e),{outputs:a}=un(t),c=Ql(t),u=h=>{const d=Je(t),p=zl(e);if(h){const g=GS(s,t,n);d1(r,t,g,!1),!i&&!Ys(t)&&d.connect(p,n)}else{const g=GL(r,t,n);p1(s,g,!1),!i&&!Ys(t)&&d.disconnect(p,n)}};return oo(a,[e,n],h=>h[0]===e&&h[1]===n,!0)?(c.add(u),xr(t)?d1(r,t,[n,u],!0):p1(s,[t,n,u],!0),!0):!1},XL=(t,e,n,i)=>{const{activeInputs:r,passiveInputs:s}=un(e),a=$S(r[i],t,n);return a===null?[WS(s,t,n,i)[2],!1]:[a[2],!0]},QL=(t,e,n)=>{const{activeInputs:i,passiveInputs:r}=Jl(e),s=$S(i,t,n);return s===null?[GS(r,t,n)[1],!1]:[s[2],!0]},yy=(t,e,n,i,r)=>{const[s,a]=XL(t,n,i,r);if(s!==null&&(HS(t,s),a&&!e&&!Ys(t)&&bh(Je(t),Je(n),i,r)),xr(n)){const{activeInputs:c}=un(n);Xm(n,c)}},vy=(t,e,n,i)=>{const[r,s]=QL(t,n,i);r!==null&&(HS(t,r),s&&!e&&!Ys(t)&&Je(t).disconnect(zl(n),i))},ZL=(t,e)=>{const n=un(t),i=[];for(const r of n.outputs)ec(r)?yy(t,e,...r):vy(t,e,...r),i.push(r[0]);return n.outputs.clear(),i},JL=(t,e,n)=>{const i=un(t),r=[];for(const s of i.outputs)s[1]===n&&(ec(s)?yy(t,e,...s):vy(t,e,...s),r.push(s[0]),i.outputs.delete(s));return r},e4=(t,e,n,i,r)=>{const s=un(t);return Array.from(s.outputs).filter(a=>a[0]===n&&(i===void 0||a[1]===i)&&(r===void 0||a[2]===r)).map(a=>(ec(a)?yy(t,e,...a):vy(t,e,...a),s.outputs.delete(a),a[0]))},t4=(t,e,n,i,r,s,a,c,u,h,d,p,g,y,w,b)=>class extends h{constructor(v,S,k,A){super(k),this._context=v,this._nativeAudioNode=k;const N=d(v);p(N)&&n(m1,()=>m1(N,b))!==!0&&YL(k),py.set(this,k),jS.set(this,new Set),v.state!=="closed"&&S&&ua(this),t(this,A,k)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(v){this._nativeAudioNode.channelCount=v}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(v){this._nativeAudioNode.channelCountMode=v}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(v){this._nativeAudioNode.channelInterpretation=v}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(v,S=0,k=0){if(S<0||S>=this._nativeAudioNode.numberOfOutputs)throw r();const A=d(this._context),N=w(A);if(g(v)||y(v))throw s();if(wh(v)){const I=Je(v);try{const z=xh(this._nativeAudioNode,I,S,k),W=Fu(this);(N||W)&&this._nativeAudioNode.disconnect(...z),this.context.state!=="closed"&&!W&&Fu(v)&&ua(v)}catch(z){throw z.code===12?s():z}if(e(this,v,S,k,N)){const z=u([this],v);Sp(z,i(N))}return v}const R=zl(v);if(R.name==="playbackRate"&&R.maxValue===1024)throw a();try{this._nativeAudioNode.connect(R,S),(N||Fu(this))&&this._nativeAudioNode.disconnect(R,S)}catch(I){throw I.code===12?s():I}if(KL(this,v,S,N)){const I=u([this],v);Sp(I,i(N))}}disconnect(v,S,k){let A;const N=d(this._context),R=w(N);if(v===void 0)A=ZL(this,R);else if(typeof v=="number"){if(v<0||v>=this.numberOfOutputs)throw r();A=JL(this,R,v)}else{if(S!==void 0&&(S<0||S>=this.numberOfOutputs)||wh(v)&&k!==void 0&&(k<0||k>=v.numberOfInputs))throw r();if(A=e4(this,R,v,S,k),A.length===0)throw s()}for(const M of A){const I=u([this],M);Sp(I,c)}}},n4=(t,e,n,i,r,s,a,c,u,h,d,p,g)=>(y,w,b,T=null,v=null)=>{const S=b.value,k=new fL(S),A=w?i(k):null,N={get defaultValue(){return S},get maxValue(){return T===null?b.maxValue:T},get minValue(){return v===null?b.minValue:v},get value(){return b.value},set value(R){b.value=R,N.setValueAtTime(R,y.context.currentTime)},cancelAndHoldAtTime(R){if(typeof b.cancelAndHoldAtTime=="function")A===null&&k.flush(y.context.currentTime),k.add(r(R)),b.cancelAndHoldAtTime(R);else{const M=Array.from(k).pop();A===null&&k.flush(y.context.currentTime),k.add(r(R));const I=Array.from(k).pop();b.cancelScheduledValues(R),M!==I&&I!==void 0&&(I.type==="exponentialRampToValue"?b.exponentialRampToValueAtTime(I.value,I.endTime):I.type==="linearRampToValue"?b.linearRampToValueAtTime(I.value,I.endTime):I.type==="setValue"?b.setValueAtTime(I.value,I.startTime):I.type==="setValueCurve"&&b.setValueCurveAtTime(I.values,I.startTime,I.duration))}return N},cancelScheduledValues(R){return A===null&&k.flush(y.context.currentTime),k.add(s(R)),b.cancelScheduledValues(R),N},exponentialRampToValueAtTime(R,M){if(R===0)throw new RangeError;if(!Number.isFinite(M)||M<0)throw new RangeError;const I=y.context.currentTime;return A===null&&k.flush(I),Array.from(k).length===0&&(k.add(h(S,I)),b.setValueAtTime(S,I)),k.add(a(R,M)),b.exponentialRampToValueAtTime(R,M),N},linearRampToValueAtTime(R,M){const I=y.context.currentTime;return A===null&&k.flush(I),Array.from(k).length===0&&(k.add(h(S,I)),b.setValueAtTime(S,I)),k.add(c(R,M)),b.linearRampToValueAtTime(R,M),N},setTargetAtTime(R,M,I){return A===null&&k.flush(y.context.currentTime),k.add(u(R,M,I)),b.setTargetAtTime(R,M,I),N},setValueAtTime(R,M){return A===null&&k.flush(y.context.currentTime),k.add(h(R,M)),b.setValueAtTime(R,M),N},setValueCurveAtTime(R,M,I){const j=R instanceof Float32Array?R:new Float32Array(R);if(p!==null&&p.name==="webkitAudioContext"){const z=M+I,W=y.context.sampleRate,q=Math.ceil(M*W),Z=Math.floor(z*W),te=Z-q,ce=new Float32Array(te);for(let ne=0;ne<te;ne+=1){const $=(j.length-1)/I*((q+ne)/W-M),Y=Math.floor($),X=Math.ceil($);ce[ne]=Y===X?j[Y]:(1-($-Y))*j[Y]+(1-(X-$))*j[X]}A===null&&k.flush(y.context.currentTime),k.add(d(ce,M,I)),b.setValueCurveAtTime(ce,M,I);const re=Z/W;re<z&&g(N,ce[ce.length-1],re),g(N,j[j.length-1],z)}else A===null&&k.flush(y.context.currentTime),k.add(d(j,M,I)),b.setValueCurveAtTime(j,M,I);return N}};return n.set(N,b),e.set(N,y),t(N,A),N},i4=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:i,value:r}=n;e.exponentialRampToValueAtTime(r,i)}else if(n.type==="linearRampToValue"){const{endTime:i,value:r}=n;e.linearRampToValueAtTime(r,i)}else if(n.type==="setTarget"){const{startTime:i,target:r,timeConstant:s}=n;e.setTargetAtTime(r,i,s)}else if(n.type==="setValue"){const{startTime:i,value:r}=n;e.setValueAtTime(r,i)}else if(n.type==="setValueCurve"){const{duration:i,startTime:r,values:s}=n;e.setValueCurveAtTime(s,r,i)}else throw new Error("Can't apply an unknown automation.")}});class YS{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((i,r)=>e.call(n,i,r,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const r4={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},s4=(t,e,n,i,r,s,a,c,u,h,d,p,g,y)=>class extends e{constructor(b,T,v){var S;const k=c(b),A=u(k),N=d({...r4,...v});g(N);const R=Ym.get(k),M=R==null?void 0:R.get(T),I=A||k.state!=="closed"?k:(S=a(k))!==null&&S!==void 0?S:k,j=r(I,A?null:b.baseLatency,h,T,M,N),z=A?i(T,N,M):null;super(b,!0,j,z);const W=[];j.parameters.forEach((Z,te)=>{const ce=n(this,A,Z);W.push([te,ce])}),this._nativeAudioWorkletNode=j,this._onprocessorerror=null,this._parameters=new YS(W),A&&t(k,this);const{activeInputs:q}=s(this);p(j,q)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(b){const T=typeof b=="function"?y(this,b):null;this._nativeAudioWorkletNode.onprocessorerror=T;const v=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=v!==null&&v===T?b:v}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function kh(t,e,n,i,r){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],i,r);else{const s=t.getChannelData(i);if(e[n].byteLength===0)e[n]=s.slice(r,r+128);else{const a=new Float32Array(s.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(a)}}}const KS=(t,e,n,i,r)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],i,r):e[n].byteLength!==0&&t.getChannelData(i).set(e[n],r)},Ch=(t,e)=>{const n=[];for(let i=0;i<t;i+=1){const r=[],s=typeof e=="number"?e:e[i];for(let a=0;a<s;a+=1)r.push(new Float32Array(128));n.push(r)}return n},o4=(t,e)=>{const n=Li(Km,t),i=Je(e);return Li(n,i)},a4=async(t,e,n,i,r,s,a)=>{const c=e===null?Math.ceil(t.context.length/128)*128:e.length,u=i.channelCount*i.numberOfInputs,h=r.reduce((T,v)=>T+v,0),d=h===0?null:n.createBuffer(h,c,n.sampleRate);if(s===void 0)throw new Error("Missing the processor constructor.");const p=un(t),g=await o4(n,t),y=Ch(i.numberOfInputs,i.channelCount),w=Ch(i.numberOfOutputs,r),b=Array.from(t.parameters.keys()).reduce((T,v)=>({...T,[v]:new Float32Array(128)}),{});for(let T=0;T<c;T+=128){if(i.numberOfInputs>0&&e!==null)for(let v=0;v<i.numberOfInputs;v+=1)for(let S=0;S<i.channelCount;S+=1)kh(e,y[v],S,S,T);s.parameterDescriptors!==void 0&&e!==null&&s.parameterDescriptors.forEach(({name:v},S)=>{kh(e,b,v,u+S,T)});for(let v=0;v<i.numberOfInputs;v+=1)for(let S=0;S<r[v];S+=1)w[v][S].byteLength===0&&(w[v][S]=new Float32Array(128));try{const v=y.map((k,A)=>p.activeInputs[A].size===0?[]:k),S=a(T/n.sampleRate,n.sampleRate,()=>g.process(v,w,b));if(d!==null)for(let k=0,A=0;k<i.numberOfOutputs;k+=1){for(let N=0;N<r[k];N+=1)KS(d,w[k],N,A+N,T);A+=r[k]}if(!S)break}catch(v){t.dispatchEvent(new ErrorEvent("processorerror",{colno:v.colno,filename:v.filename,lineno:v.lineno,message:v.message}));break}}return d},l4=(t,e,n,i,r,s,a,c,u,h,d,p,g,y,w,b)=>(T,v,S)=>{const k=new WeakMap;let A=null;const N=async(R,M)=>{let I=d(R),j=null;const z=nn(I,M),W=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(p===null){const q=W.reduce((re,ne)=>re+ne,0),Z=r(M,{channelCount:Math.max(1,q),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,q)}),te=[];for(let re=0;re<R.numberOfOutputs;re+=1)te.push(i(M,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:W[re]}));const ce=a(M,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});ce.connect=e.bind(null,te),ce.disconnect=u.bind(null,te),j=[Z,te,ce]}else z||(I=new p(M,T));if(k.set(M,j===null?I:j[2]),j!==null){if(A===null){if(S===void 0)throw new Error("Missing the processor constructor.");if(g===null)throw new Error("Missing the native OfflineAudioContext constructor.");const ne=R.channelCount*R.numberOfInputs,$=S.parameterDescriptors===void 0?0:S.parameterDescriptors.length,Y=ne+$;A=a4(R,Y===0?null:await(async()=>{const Q=new g(Y,Math.ceil(R.context.length/128)*128,M.sampleRate),pe=[],St=[];for(let Te=0;Te<v.numberOfInputs;Te+=1)pe.push(a(Q,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),St.push(r(Q,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const st=await Promise.all(Array.from(R.parameters.values()).map(async Te=>{const dt=s(Q,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Te.value});return await y(Q,Te,dt.offset),dt})),ge=i(Q,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,ne+$)});for(let Te=0;Te<v.numberOfInputs;Te+=1){pe[Te].connect(St[Te]);for(let dt=0;dt<v.channelCount;dt+=1)St[Te].connect(ge,dt,Te*v.channelCount+dt)}for(const[Te,dt]of st.entries())dt.connect(ge,0,ne+Te),dt.start(0);return ge.connect(Q.destination),await Promise.all(pe.map(Te=>w(R,Q,Te))),b(Q)})(),M,v,W,S,h)}const q=await A,Z=n(M,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[te,ce,re]=j;q!==null&&(Z.buffer=q,Z.start(0)),Z.connect(te);for(let ne=0,$=0;ne<R.numberOfOutputs;ne+=1){const Y=ce[ne];for(let X=0;X<W[ne];X+=1)te.connect(Y,$+X,X);$+=W[ne]}return re}if(z)for(const[q,Z]of R.parameters.entries())await t(M,Z,I.parameters.get(q));else for(const[q,Z]of R.parameters.entries())await y(M,Z,I.parameters.get(q));return await w(R,M,I),I};return{render(R,M){c(M,R);const I=k.get(M);return I!==void 0?Promise.resolve(I):N(R,M)}}},c4=(t,e,n,i,r,s,a,c,u,h,d,p,g,y,w,b,T,v,S,k)=>class extends w{constructor(N,R){super(N,R),this._nativeContext=N,this._audioWorklet=t===void 0?void 0:{addModule:(M,I)=>t(this,M,I)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new r(this)}createBuffer(N,R,M){return new n({length:R,numberOfChannels:N,sampleRate:M})}createBufferSource(){return new i(this)}createChannelMerger(N=6){return new s(this,{numberOfInputs:N})}createChannelSplitter(N=6){return new a(this,{numberOfOutputs:N})}createConstantSource(){return new c(this)}createConvolver(){return new u(this)}createDelay(N=1){return new d(this,{maxDelayTime:N})}createDynamicsCompressor(){return new p(this)}createGain(){return new g(this)}createIIRFilter(N,R){return new y(this,{feedback:R,feedforward:N})}createOscillator(){return new b(this)}createPanner(){return new T(this)}createPeriodicWave(N,R,M={disableNormalization:!1}){return new v(this,{...M,imag:R,real:N})}createStereoPanner(){return new S(this)}createWaveShaper(){return new k(this)}decodeAudioData(N,R,M){return h(this._nativeContext,N).then(I=>(typeof R=="function"&&R(I),I),I=>{throw typeof M=="function"&&M(I),I})}},u4={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},h4=(t,e,n,i,r,s,a,c)=>class extends t{constructor(h,d){const p=s(h),g={...u4,...d},y=r(p,g),w=a(p),b=w?n():null;super(h,!1,y,b),this._Q=e(this,w,y.Q,cn,Sn),this._detune=e(this,w,y.detune,1200*Math.log2(cn),-1200*Math.log2(cn)),this._frequency=e(this,w,y.frequency,h.sampleRate/2,0),this._gain=e(this,w,y.gain,40*Math.log10(cn),Sn),this._nativeBiquadFilterNode=y,c(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(h){this._nativeBiquadFilterNode.type=h}getFrequencyResponse(h,d,p){try{this._nativeBiquadFilterNode.getFrequencyResponse(h,d,p)}catch(g){throw g.code===11?i():g}if(h.length!==d.length||d.length!==p.length)throw i()}},f4=(t,e,n,i,r)=>()=>{const s=new WeakMap,a=async(c,u)=>{let h=n(c);const d=nn(h,u);if(!d){const p={Q:h.Q.value,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,gain:h.gain.value,type:h.type};h=e(u,p)}return s.set(u,h),d?(await t(u,c.Q,h.Q),await t(u,c.detune,h.detune),await t(u,c.frequency,h.frequency),await t(u,c.gain,h.gain)):(await i(u,c.Q,h.Q),await i(u,c.detune,h.detune),await i(u,c.frequency,h.frequency),await i(u,c.gain,h.gain)),await r(c,u,h),h};return{render(c,u){const h=s.get(u);return h!==void 0?Promise.resolve(h):a(c,u)}}},d4=(t,e)=>(n,i)=>{const r=e.get(n);if(r!==void 0)return r;const s=t.get(n);if(s!==void 0)return s;try{const a=i();return a instanceof Promise?(t.set(n,a),a.catch(()=>!1).then(c=>(t.delete(n),e.set(n,c),c))):(e.set(n,a),a)}catch{return e.set(n,!1),!1}},p4={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},m4=(t,e,n,i,r)=>class extends t{constructor(a,c){const u=i(a),h={...p4,...c},d=n(u,h),p=r(u)?e():null;super(a,!1,d,p)}},g4=(t,e,n)=>()=>{const i=new WeakMap,r=async(s,a)=>{let c=e(s);if(!nn(c,a)){const h={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfInputs:c.numberOfInputs};c=t(a,h)}return i.set(a,c),await n(s,a,c),c};return{render(s,a){const c=i.get(a);return c!==void 0?Promise.resolve(c):r(s,a)}}},y4={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},v4=(t,e,n,i,r,s)=>class extends t{constructor(c,u){const h=i(c),d=s({...y4,...u}),p=n(h,d),g=r(h)?e():null;super(c,!1,p,g)}},_4=(t,e,n)=>()=>{const i=new WeakMap,r=async(s,a)=>{let c=e(s);if(!nn(c,a)){const h={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfOutputs:c.numberOfOutputs};c=t(a,h)}return i.set(a,c),await n(s,a,c),c};return{render(s,a){const c=i.get(a);return c!==void 0?Promise.resolve(c):r(s,a)}}},w4=t=>(e,n,i)=>t(n,e,i),x4=t=>(e,n,i=0,r=0)=>{const s=e[i];if(s===void 0)throw t();return Sh(n)?s.connect(n,0,r):s.connect(n,0)},b4=t=>(e,n)=>{const i=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),r=e.createBuffer(1,2,44100);return i.buffer=r,i.loop=!0,i.connect(n),i.start(),()=>{i.stop(),i.disconnect(n)}},S4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},k4=(t,e,n,i,r,s,a)=>class extends t{constructor(u,h){const d=r(u),p={...S4,...h},g=i(d,p),y=s(d),w=y?n():null;super(u,!1,g,w),this._constantSourceNodeRenderer=w,this._nativeConstantSourceNode=g,this._offset=e(this,y,g.offset,cn,Sn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(u){const h=typeof u=="function"?a(this,u):null;this._nativeConstantSourceNode.onended=h;const d=this._nativeConstantSourceNode.onended;this._onended=d!==null&&d===h?u:d}start(u=0){if(this._nativeConstantSourceNode.start(u),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=u),this.context.state!=="closed"){ua(this);const h=()=>{this._nativeConstantSourceNode.removeEventListener("ended",h),xr(this)&&Zl(this)};this._nativeConstantSourceNode.addEventListener("ended",h)}}stop(u=0){this._nativeConstantSourceNode.stop(u),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=u)}},C4=(t,e,n,i,r)=>()=>{const s=new WeakMap;let a=null,c=null;const u=async(h,d)=>{let p=n(h);const g=nn(p,d);if(!g){const y={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,offset:p.offset.value};p=e(d,y),a!==null&&p.start(a),c!==null&&p.stop(c)}return s.set(d,p),g?await t(d,h.offset,p.offset):await i(d,h.offset,p.offset),await r(h,d,p),p};return{set start(h){a=h},set stop(h){c=h},render(h,d){const p=s.get(d);return p!==void 0?Promise.resolve(p):u(h,d)}}},T4=t=>e=>(t[0]=e,t[0]),E4={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},N4=(t,e,n,i,r,s)=>class extends t{constructor(c,u){const h=i(c),d={...E4,...u},p=n(h,d),y=r(h)?e():null;super(c,!1,p,y),this._isBufferNullified=!1,this._nativeConvolverNode=p,d.buffer!==null&&s(this,d.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(c){if(this._nativeConvolverNode.buffer=c,c===null&&this._nativeConvolverNode.buffer!==null){const u=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=u.createBuffer(1,1,u.sampleRate),this._isBufferNullified=!0,s(this,0)}else this._isBufferNullified=!1,s(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(c){this._nativeConvolverNode.normalize=c}},A4=(t,e,n)=>()=>{const i=new WeakMap,r=async(s,a)=>{let c=e(s);if(!nn(c,a)){const h={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,disableNormalization:!c.normalize};c=t(a,h)}return i.set(a,c),ka(c)?await n(s,a,c.inputs[0]):await n(s,a,c),c};return{render(s,a){const c=i.get(a);return c!==void 0?Promise.resolve(c):r(s,a)}}},P4=(t,e)=>(n,i,r)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,i,r)}catch(s){throw s.name==="SyntaxError"?t():s}},I4=()=>new DOMException("","DataCloneError"),g1=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(i=>{const r=()=>{n.onmessage=null,e.close(),n.close(),i()};n.onmessage=()=>r();try{e.postMessage(t,[t])}catch{}finally{r()}})},R4=(t,e,n,i,r,s,a,c,u,h,d)=>(p,g)=>{const y=a(p)?p:s(p);if(r.has(g)){const w=n();return Promise.reject(w)}try{r.add(g)}catch{}return e(u,()=>u(y))?y.decodeAudioData(g).then(w=>(g1(g).catch(()=>{}),e(c,()=>c(w))||d(w),t.add(w),w)):new Promise((w,b)=>{const T=async()=>{try{await g1(g)}catch{}},v=S=>{b(S),T()};try{y.decodeAudioData(g,S=>{typeof S.copyFromChannel!="function"&&(h(S),gy(S)),t.add(S),T().then(()=>w(S))},S=>{v(S===null?i():S)})}catch(S){v(S)}})},M4=(t,e,n,i,r,s,a,c)=>(u,h)=>{const d=e.get(u);if(d===void 0)throw new Error("Missing the expected cycle count.");const p=s(u.context),g=c(p);if(d===h){if(e.delete(u),!g&&a(u)){const y=i(u),{outputs:w}=n(u);for(const b of w)if(ec(b)){const T=i(b[0]);t(y,T,b[1],b[2])}else{const T=r(b[0]);y.connect(T,b[1])}}}else e.set(u,d-h)},O4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},D4=(t,e,n,i,r,s,a)=>class extends t{constructor(u,h){const d=r(u),p={...O4,...h},g=i(d,p),y=s(d),w=y?n(p.maxDelayTime):null;super(u,!1,g,w),this._delayTime=e(this,y,g.delayTime),a(this,p.maxDelayTime)}get delayTime(){return this._delayTime}},L4=(t,e,n,i,r)=>s=>{const a=new WeakMap,c=async(u,h)=>{let d=n(u);const p=nn(d,h);if(!p){const g={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,delayTime:d.delayTime.value,maxDelayTime:s};d=e(h,g)}return a.set(h,d),p?await t(h,u.delayTime,d.delayTime):await i(h,u.delayTime,d.delayTime),await r(u,h,d),d};return{render(u,h){const d=a.get(h);return d!==void 0?Promise.resolve(d):c(u,h)}}},F4=t=>(e,n,i,r)=>t(e[r],s=>s[0]===n&&s[1]===i),z4=t=>(e,n)=>{t(e).delete(n)},j4=t=>"delayTime"in t,B4=(t,e,n)=>function i(r,s){const a=wh(s)?s:n(t,s);if(j4(a))return[];if(r[0]===a)return[r];if(r.includes(a))return[];const{outputs:c}=e(a);return Array.from(c).map(u=>i([...r,a],u[0])).reduce((u,h)=>u.concat(h),[])},_u=(t,e,n)=>{const i=e[n];if(i===void 0)throw t();return i},W4=t=>(e,n=void 0,i=void 0,r=0)=>n===void 0?e.forEach(s=>s.disconnect()):typeof n=="number"?_u(t,e,n).disconnect():Sh(n)?i===void 0?e.forEach(s=>s.disconnect(n)):r===void 0?_u(t,e,i).disconnect(n,0):_u(t,e,i).disconnect(n,0,r):i===void 0?e.forEach(s=>s.disconnect(n)):_u(t,e,i).disconnect(n,0),V4={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},U4=(t,e,n,i,r,s,a,c)=>class extends t{constructor(h,d){const p=s(h),g={...V4,...d},y=i(p,g),w=a(p),b=w?n():null;super(h,!1,y,b),this._attack=e(this,w,y.attack),this._knee=e(this,w,y.knee),this._nativeDynamicsCompressorNode=y,this._ratio=e(this,w,y.ratio),this._release=e(this,w,y.release),this._threshold=e(this,w,y.threshold),c(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(h){const d=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=h,h>2)throw this._nativeDynamicsCompressorNode.channelCount=d,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(h){const d=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=h,h==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=d,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},q4=(t,e,n,i,r)=>()=>{const s=new WeakMap,a=async(c,u)=>{let h=n(c);const d=nn(h,u);if(!d){const p={attack:h.attack.value,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,knee:h.knee.value,ratio:h.ratio.value,release:h.release.value,threshold:h.threshold.value};h=e(u,p)}return s.set(u,h),d?(await t(u,c.attack,h.attack),await t(u,c.knee,h.knee),await t(u,c.ratio,h.ratio),await t(u,c.release,h.release),await t(u,c.threshold,h.threshold)):(await i(u,c.attack,h.attack),await i(u,c.knee,h.knee),await i(u,c.ratio,h.ratio),await i(u,c.release,h.release),await i(u,c.threshold,h.threshold)),await r(c,u,h),h};return{render(c,u){const h=s.get(u);return h!==void 0?Promise.resolve(h):a(c,u)}}},$4=()=>new DOMException("","EncodingError"),H4=t=>e=>new Promise((n,i)=>{if(t===null){i(new SyntaxError);return}const r=t.document.head;if(r===null)i(new SyntaxError);else{const s=t.document.createElement("script"),a=new Blob([e],{type:"application/javascript"}),c=URL.createObjectURL(a),u=t.onerror,h=()=>{t.onerror=u,URL.revokeObjectURL(c)};t.onerror=(d,p,g,y,w)=>{if(p===c||p===t.location.href&&g===1&&y===1)return h(),i(w),!1;if(u!==null)return u(d,p,g,y,w)},s.onerror=()=>{h(),i(new SyntaxError)},s.onload=()=>{h(),n()},s.src=c,s.type="module",r.appendChild(s)}}),G4=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,i,r){if(i!==null){let s=this._listeners.get(i);s===void 0&&(s=t(this,i),typeof i=="function"&&this._listeners.set(i,s)),this._nativeEventTarget.addEventListener(n,s,r)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,i,r){const s=i===null?void 0:this._listeners.get(i);this._nativeEventTarget.removeEventListener(n,s===void 0?null:s,r)}},Y4=t=>(e,n,i)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return i()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},K4=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},X4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Q4=(t,e,n,i,r,s)=>class extends t{constructor(c,u){const h=r(c),d={...X4,...u},p=i(h,d),g=s(h),y=g?n():null;super(c,!1,p,y),this._gain=e(this,g,p.gain,cn,Sn)}get gain(){return this._gain}},Z4=(t,e,n,i,r)=>()=>{const s=new WeakMap,a=async(c,u)=>{let h=n(c);const d=nn(h,u);if(!d){const p={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,gain:h.gain.value};h=e(u,p)}return s.set(u,h),d?await t(u,c.gain,h.gain):await i(u,c.gain,h.gain),await r(c,u,h),h};return{render(c,u){const h=s.get(u);return h!==void 0?Promise.resolve(h):a(c,u)}}},J4=(t,e)=>n=>e(t,n),eF=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},tF=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},nF=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},iF=t=>e=>t.get(e),Ft=()=>new DOMException("","InvalidStateError"),rF=t=>e=>{const n=t.get(e);if(n===void 0)throw Ft();return n},sF=(t,e)=>n=>{let i=t.get(n);if(i!==void 0)return i;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return i=new e(1,1,44100),t.set(n,i),i},oF=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},of=()=>new DOMException("","InvalidAccessError"),aF=t=>{t.getFrequencyResponse=(e=>(n,i,r)=>{if(n.length!==i.length||i.length!==r.length)throw of();return e.call(t,n,i,r)})(t.getFrequencyResponse)},lF={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},cF=(t,e,n,i,r,s)=>class extends t{constructor(c,u){const h=i(c),d=r(h),p={...lF,...u},g=e(h,d?null:c.baseLatency,p),y=d?n(p.feedback,p.feedforward):null;super(c,!1,g,y),aF(g),this._nativeIIRFilterNode=g,s(this,1)}getFrequencyResponse(c,u,h){return this._nativeIIRFilterNode.getFrequencyResponse(c,u,h)}},XS=(t,e,n,i,r,s,a,c,u,h,d)=>{const p=h.length;let g=c;for(let y=0;y<p;y+=1){let w=n[0]*h[y];for(let b=1;b<r;b+=1){const T=g-b&u-1;w+=n[b]*s[T],w-=t[b]*a[T]}for(let b=r;b<i;b+=1)w+=n[b]*s[g-b&u-1];for(let b=r;b<e;b+=1)w-=t[b]*a[g-b&u-1];s[g]=h[y],a[g]=w,g=g+1&u-1,d[y]=w}return g},uF=(t,e,n,i)=>{const r=n instanceof Float64Array?n:new Float64Array(n),s=i instanceof Float64Array?i:new Float64Array(i),a=r.length,c=s.length,u=Math.min(a,c);if(r[0]!==1){for(let w=0;w<a;w+=1)s[w]/=r[0];for(let w=1;w<c;w+=1)r[w]/=r[0]}const h=32,d=new Float32Array(h),p=new Float32Array(h),g=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),y=t.numberOfChannels;for(let w=0;w<y;w+=1){const b=t.getChannelData(w),T=g.getChannelData(w);d.fill(0),p.fill(0),XS(r,a,s,c,u,d,p,0,h,b,T)}return g},hF=(t,e,n,i,r)=>(s,a)=>{const c=new WeakMap;let u=null;const h=async(d,p)=>{let g=null,y=e(d);const w=nn(y,p);if(p.createIIRFilter===void 0?g=t(p,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):w||(y=p.createIIRFilter(a,s)),c.set(p,g===null?y:g),g!==null){if(u===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const T=new n(d.context.destination.channelCount,d.context.length,p.sampleRate);u=(async()=>{await i(d,T,T.destination);const v=await r(T);return uF(v,p,s,a)})()}const b=await u;return g.buffer=b,g.start(0),g}return await i(d,p,y),y};return{render(d,p){const g=c.get(p);return g!==void 0?Promise.resolve(g):h(d,p)}}},fF=(t,e,n,i,r,s)=>a=>(c,u)=>{const h=t.get(c);if(h===void 0){if(!a&&s(c)){const d=i(c),{outputs:p}=n(c);for(const g of p)if(ec(g)){const y=i(g[0]);e(d,y,g[1],g[2])}else{const y=r(g[0]);d.disconnect(y,g[1])}}t.set(c,u)}else t.set(c,h+u)},dF=(t,e)=>n=>{const i=t.get(n);return e(i)||e(n)},pF=(t,e)=>n=>t.has(n)||e(n),mF=(t,e)=>n=>t.has(n)||e(n),gF=(t,e)=>n=>{const i=t.get(n);return e(i)||e(n)},yF=t=>e=>t!==null&&e instanceof t,vF=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,_F=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,wF=(t,e)=>n=>t(n)||e(n),xF=t=>e=>t!==null&&e instanceof t,bF=t=>t!==null&&t.isSecureContext,SF=(t,e,n,i)=>class extends t{constructor(s,a){const c=n(s),u=e(c,a);if(i(c))throw TypeError();super(s,!0,u,null),this._nativeMediaElementAudioSourceNode=u}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},kF={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},CF=(t,e,n,i)=>class extends t{constructor(s,a){const c=n(s);if(i(c))throw new TypeError;const u={...kF,...a},h=e(c,u);super(s,!1,h,null),this._nativeMediaStreamAudioDestinationNode=h}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},TF=(t,e,n,i)=>class extends t{constructor(s,a){const c=n(s),u=e(c,a);if(i(c))throw new TypeError;super(s,!0,u,null),this._nativeMediaStreamAudioSourceNode=u}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},EF=(t,e,n)=>class extends t{constructor(r,s){const a=n(r),c=e(a,s);super(r,!0,c,null)}},NF=(t,e,n,i,r,s)=>class extends n{constructor(c,u){super(c),this._nativeContext=c,rf.set(this,c),i(c)&&r.set(c,new Set),this._destination=new t(this,u),this._listener=e(this,c),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(c){const u=typeof c=="function"?s(this,c):null;this._nativeContext.onstatechange=u;const h=this._nativeContext.onstatechange;this._onstatechange=h!==null&&h===u?c:h}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},jl=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},AF=(t,e)=>(n,i,r)=>{const s=new Set;return n.connect=(a=>(c,u=0,h=0)=>{const d=s.size===0;if(e(c))return a.call(n,c,u,h),t(s,[c,u,h],p=>p[0]===c&&p[1]===u&&p[2]===h,!0),d&&i(),c;a.call(n,c,u),t(s,[c,u],p=>p[0]===c&&p[1]===u,!0),d&&i()})(n.connect),n.disconnect=(a=>(c,u,h)=>{const d=s.size>0;if(c===void 0)a.apply(n),s.clear();else if(typeof c=="number"){a.call(n,c);for(const g of s)g[1]===c&&s.delete(g)}else{e(c)?a.call(n,c,u,h):a.call(n,c,u);for(const g of s)g[0]===c&&(u===void 0||g[1]===u)&&(h===void 0||g[2]===h)&&s.delete(g)}const p=s.size===0;d&&p&&r()})(n.disconnect),n},nt=(t,e,n)=>{const i=e[n];i!==void 0&&i!==t[n]&&(t[n]=i)},Rt=(t,e)=>{nt(t,e,"channelCount"),nt(t,e,"channelCountMode"),nt(t,e,"channelInterpretation")},y1=t=>typeof t.getFloatTimeDomainData=="function",PF=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const i=Math.max(n.length,t.fftSize);for(let r=0;r<i;r+=1)e[r]=(n[r]-128)*.0078125;return e}},IF=(t,e)=>(n,i)=>{const r=n.createAnalyser();if(Rt(r,i),!(i.maxDecibels>i.minDecibels))throw e();return nt(r,i,"fftSize"),nt(r,i,"maxDecibels"),nt(r,i,"minDecibels"),nt(r,i,"smoothingTimeConstant"),t(y1,()=>y1(r))||PF(r),r},RF=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,gt=(t,e,n)=>{const i=e[n];i!==void 0&&i!==t[n].value&&(t[n].value=i)},MF=t=>{t.start=(e=>{let n=!1;return(i=0,r=0,s)=>{if(n)throw Ft();e.call(t,i,r,s),n=!0}})(t.start)},_y=t=>{t.start=(e=>(n=0,i=0,r)=>{if(typeof r=="number"&&r<0||i<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,i,r)})(t.start)},wy=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},OF=(t,e,n,i,r,s,a,c,u,h,d)=>(p,g)=>{const y=p.createBufferSource();return Rt(y,g),gt(y,g,"playbackRate"),nt(y,g,"buffer"),nt(y,g,"loop"),nt(y,g,"loopEnd"),nt(y,g,"loopStart"),e(n,()=>n(p))||MF(y),e(i,()=>i(p))||u(y),e(r,()=>r(p))||h(y,p),e(s,()=>s(p))||_y(y),e(a,()=>a(p))||d(y,p),e(c,()=>c(p))||wy(y),t(p,y),y},DF=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,LF=(t,e)=>(n,i,r)=>{const s=n.destination;if(s.channelCount!==i)try{s.channelCount=i}catch{}r&&s.channelCountMode!=="explicit"&&(s.channelCountMode="explicit"),s.maxChannelCount===0&&Object.defineProperty(s,"maxChannelCount",{value:i});const a=t(n,{channelCount:i,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return e(a,"channelCount",c=>()=>c.call(a),c=>u=>{c.call(a,u);try{s.channelCount=u}catch(h){if(u>s.maxChannelCount)throw h}}),e(a,"channelCountMode",c=>()=>c.call(a),c=>u=>{c.call(a,u),s.channelCountMode=u}),e(a,"channelInterpretation",c=>()=>c.call(a),c=>u=>{c.call(a,u),s.channelInterpretation=u}),Object.defineProperty(a,"maxChannelCount",{get:()=>s.maxChannelCount}),a.connect(s),a},FF=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,zF=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},jF=(t,e,n,i,r)=>(s,a,c,u,h,d)=>{if(c!==null)try{const p=new c(s,u,d),g=new Map;let y=null;if(Object.defineProperties(p,{channelCount:{get:()=>d.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>y,set:w=>{typeof y=="function"&&p.removeEventListener("processorerror",y),y=typeof w=="function"?w:null,typeof y=="function"&&p.addEventListener("processorerror",y)}}}),p.addEventListener=(w=>(...b)=>{if(b[0]==="processorerror"){const T=typeof b[1]=="function"?b[1]:typeof b[1]=="object"&&b[1]!==null&&typeof b[1].handleEvent=="function"?b[1].handleEvent:null;if(T!==null){const v=g.get(b[1]);v!==void 0?b[1]=v:(b[1]=S=>{S.type==="error"?(Object.defineProperties(S,{type:{value:"processorerror"}}),T(S)):T(new ErrorEvent(b[0],{...S}))},g.set(T,b[1]))}}return w.call(p,"error",b[1],b[2]),w.call(p,...b)})(p.addEventListener),p.removeEventListener=(w=>(...b)=>{if(b[0]==="processorerror"){const T=g.get(b[1]);T!==void 0&&(g.delete(b[1]),b[1]=T)}return w.call(p,"error",b[1],b[2]),w.call(p,b[0],b[1],b[2])})(p.removeEventListener),d.numberOfOutputs!==0){const w=n(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return p.connect(w).connect(s.destination),r(p,()=>w.disconnect(),()=>w.connect(s.destination))}return p}catch(p){throw p.code===11?i():p}if(h===void 0)throw i();return zF(d),e(s,a,h,d)},QS=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),BF=t=>new Promise((e,n)=>{const{port1:i,port2:r}=new MessageChannel;i.onmessage=({data:s})=>{i.close(),r.close(),e(s)},i.onmessageerror=({data:s})=>{i.close(),r.close(),n(s)},r.postMessage(t)}),WF=async(t,e)=>{const n=await BF(e);return new t(n)},VF=(t,e,n,i)=>{let r=Km.get(t);r===void 0&&(r=new WeakMap,Km.set(t,r));const s=WF(n,i);return r.set(e,s),s},UF=(t,e,n,i,r,s,a,c,u,h,d,p,g)=>(y,w,b,T)=>{if(T.numberOfInputs===0&&T.numberOfOutputs===0)throw u();const v=Array.isArray(T.outputChannelCount)?T.outputChannelCount:Array.from(T.outputChannelCount);if(v.some(ee=>ee<1))throw u();if(v.length!==T.numberOfOutputs)throw e();if(T.channelCountMode!=="explicit")throw u();const S=T.channelCount*T.numberOfInputs,k=v.reduce((ee,me)=>ee+me,0),A=b.parameterDescriptors===void 0?0:b.parameterDescriptors.length;if(S+A>6||k>6)throw u();const N=new MessageChannel,R=[],M=[];for(let ee=0;ee<T.numberOfInputs;ee+=1)R.push(a(y,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1})),M.push(r(y,{channelCount:T.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:T.channelCount}));const I=[];if(b.parameterDescriptors!==void 0)for(const{defaultValue:ee,maxValue:me,minValue:Le,name:qe}of b.parameterDescriptors){const Re=s(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:T.parameterData[qe]!==void 0?T.parameterData[qe]:ee===void 0?0:ee});Object.defineProperties(Re.offset,{defaultValue:{get:()=>ee===void 0?0:ee},maxValue:{get:()=>me===void 0?cn:me},minValue:{get:()=>Le===void 0?Sn:Le}}),I.push(Re)}const j=i(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,S+A)}),z=QS(w,y.sampleRate),W=c(y,z,S+A,Math.max(1,k)),q=r(y,{channelCount:Math.max(1,k),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,k)}),Z=[];for(let ee=0;ee<T.numberOfOutputs;ee+=1)Z.push(i(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:v[ee]}));for(let ee=0;ee<T.numberOfInputs;ee+=1){R[ee].connect(M[ee]);for(let me=0;me<T.channelCount;me+=1)M[ee].connect(j,me,ee*T.channelCount+me)}const te=new YS(b.parameterDescriptors===void 0?[]:b.parameterDescriptors.map(({name:ee},me)=>{const Le=I[me];return Le.connect(j,0,S+me),Le.start(0),[ee,Le.offset]}));j.connect(W);let ce=T.channelInterpretation,re=null;const ne=T.numberOfOutputs===0?[W]:Z,$={get bufferSize(){return z},get channelCount(){return T.channelCount},set channelCount(ee){throw n()},get channelCountMode(){return T.channelCountMode},set channelCountMode(ee){throw n()},get channelInterpretation(){return ce},set channelInterpretation(ee){for(const me of R)me.channelInterpretation=ee;ce=ee},get context(){return W.context},get inputs(){return R},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},get onprocessorerror(){return re},set onprocessorerror(ee){typeof re=="function"&&$.removeEventListener("processorerror",re),re=typeof ee=="function"?ee:null,typeof re=="function"&&$.addEventListener("processorerror",re)},get parameters(){return te},get port(){return N.port2},addEventListener(...ee){return W.addEventListener(ee[0],ee[1],ee[2])},connect:t.bind(null,ne),disconnect:h.bind(null,ne),dispatchEvent(...ee){return W.dispatchEvent(ee[0])},removeEventListener(...ee){return W.removeEventListener(ee[0],ee[1],ee[2])}},Y=new Map;N.port1.addEventListener=(ee=>(...me)=>{if(me[0]==="message"){const Le=typeof me[1]=="function"?me[1]:typeof me[1]=="object"&&me[1]!==null&&typeof me[1].handleEvent=="function"?me[1].handleEvent:null;if(Le!==null){const qe=Y.get(me[1]);qe!==void 0?me[1]=qe:(me[1]=Re=>{d(y.currentTime,y.sampleRate,()=>Le(Re))},Y.set(Le,me[1]))}}return ee.call(N.port1,me[0],me[1],me[2])})(N.port1.addEventListener),N.port1.removeEventListener=(ee=>(...me)=>{if(me[0]==="message"){const Le=Y.get(me[1]);Le!==void 0&&(Y.delete(me[1]),me[1]=Le)}return ee.call(N.port1,me[0],me[1],me[2])})(N.port1.removeEventListener);let X=null;Object.defineProperty(N.port1,"onmessage",{get:()=>X,set:ee=>{typeof X=="function"&&N.port1.removeEventListener("message",X),X=typeof ee=="function"?ee:null,typeof X=="function"&&(N.port1.addEventListener("message",X),N.port1.start())}}),b.prototype.port=N.port1;let Q=null;VF(y,$,b,T).then(ee=>Q=ee);const St=Ch(T.numberOfInputs,T.channelCount),st=Ch(T.numberOfOutputs,v),ge=b.parameterDescriptors===void 0?[]:b.parameterDescriptors.reduce((ee,{name:me})=>({...ee,[me]:new Float32Array(128)}),{});let Te=!0;const dt=()=>{T.numberOfOutputs>0&&W.disconnect(q);for(let ee=0,me=0;ee<T.numberOfOutputs;ee+=1){const Le=Z[ee];for(let qe=0;qe<v[ee];qe+=1)q.disconnect(Le,me+qe,qe);me+=v[ee]}},ae=new Map;W.onaudioprocess=({inputBuffer:ee,outputBuffer:me})=>{if(Q!==null){const Le=p($);for(let qe=0;qe<z;qe+=128){for(let Re=0;Re<T.numberOfInputs;Re+=1)for(let Be=0;Be<T.channelCount;Be+=1)kh(ee,St[Re],Be,Be,qe);b.parameterDescriptors!==void 0&&b.parameterDescriptors.forEach(({name:Re},Be)=>{kh(ee,ge,Re,S+Be,qe)});for(let Re=0;Re<T.numberOfInputs;Re+=1)for(let Be=0;Be<v[Re];Be+=1)st[Re][Be].byteLength===0&&(st[Re][Be]=new Float32Array(128));try{const Re=St.map((et,yn)=>{if(Le[yn].size>0)return ae.set(yn,z/128),et;const Ia=ae.get(yn);return Ia===void 0?[]:(et.every(bs=>bs.every(Ef=>Ef===0))&&(Ia===1?ae.delete(yn):ae.set(yn,Ia-1)),et)});Te=d(y.currentTime+qe/y.sampleRate,y.sampleRate,()=>Q.process(Re,st,ge));for(let et=0,yn=0;et<T.numberOfOutputs;et+=1){for(let Vi=0;Vi<v[et];Vi+=1)KS(me,st[et],Vi,yn+Vi,qe);yn+=v[et]}}catch(Re){Te=!1,$.dispatchEvent(new ErrorEvent("processorerror",{colno:Re.colno,filename:Re.filename,lineno:Re.lineno,message:Re.message}))}if(!Te){for(let Re=0;Re<T.numberOfInputs;Re+=1){R[Re].disconnect(M[Re]);for(let Be=0;Be<T.channelCount;Be+=1)M[qe].disconnect(j,Be,Re*T.channelCount+Be)}if(b.parameterDescriptors!==void 0){const Re=b.parameterDescriptors.length;for(let Be=0;Be<Re;Be+=1){const et=I[Be];et.disconnect(j,0,S+Be),et.stop()}}j.disconnect(W),W.onaudioprocess=null,In?dt():vi();break}}}};let In=!1;const ir=a(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),yi=()=>W.connect(ir).connect(y.destination),vi=()=>{W.disconnect(ir),ir.disconnect()},fc=()=>{if(Te){vi(),T.numberOfOutputs>0&&W.connect(q);for(let ee=0,me=0;ee<T.numberOfOutputs;ee+=1){const Le=Z[ee];for(let qe=0;qe<v[ee];qe+=1)q.connect(Le,me+qe,qe);me+=v[ee]}}In=!0},Rn=()=>{Te&&(yi(),dt()),In=!1};return yi(),g($,fc,Rn)},ZS=(t,e)=>{const n=t.createBiquadFilter();return Rt(n,e),gt(n,e,"Q"),gt(n,e,"detune"),gt(n,e,"frequency"),gt(n,e,"gain"),nt(n,e,"type"),n},qF=(t,e)=>(n,i)=>{const r=n.createChannelMerger(i.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,r),Rt(r,i),r},$F=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw Ft()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Ft()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Ft()}})},tc=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Rt(n,e),$F(n),n},HF=(t,e,n,i,r)=>(s,a)=>{if(s.createConstantSource===void 0)return n(s,a);const c=s.createConstantSource();return Rt(c,a),gt(c,a,"offset"),e(i,()=>i(s))||_y(c),e(r,()=>r(s))||wy(c),t(s,c),c},Ca=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),GF=(t,e,n,i)=>(r,{offset:s,...a})=>{const c=r.createBuffer(1,2,44100),u=e(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),h=n(r,{...a,gain:s}),d=c.getChannelData(0);d[0]=1,d[1]=1,u.buffer=c,u.loop=!0;const p={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(w){h.channelCount=w},get channelCountMode(){return h.channelCountMode},set channelCountMode(w){h.channelCountMode=w},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(w){h.channelInterpretation=w},get context(){return h.context},get inputs(){return[]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get offset(){return h.gain},get onended(){return u.onended},set onended(w){u.onended=w},addEventListener(...w){return u.addEventListener(w[0],w[1],w[2])},dispatchEvent(...w){return u.dispatchEvent(w[0])},removeEventListener(...w){return u.removeEventListener(w[0],w[1],w[2])},start(w=0){u.start.call(u,w)},stop(w=0){u.stop.call(u,w)}},g=()=>u.connect(h),y=()=>u.disconnect(h);return t(r,u),i(Ca(p,h),g,y)},YF=(t,e)=>(n,i)=>{const r=n.createConvolver();if(Rt(r,i),i.disableNormalization===r.normalize&&(r.normalize=!i.disableNormalization),nt(r,i,"buffer"),i.channelCount>2||(e(r,"channelCount",s=>()=>s.call(r),s=>a=>{if(a>2)throw t();return s.call(r,a)}),i.channelCountMode==="max"))throw t();return e(r,"channelCountMode",s=>()=>s.call(r),s=>a=>{if(a==="max")throw t();return s.call(r,a)}),r},JS=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Rt(n,e),gt(n,e,"delayTime"),n},KF=t=>(e,n)=>{const i=e.createDynamicsCompressor();if(Rt(i,n),n.channelCount>2||n.channelCountMode==="max")throw t();return gt(i,n,"attack"),gt(i,n,"knee"),gt(i,n,"ratio"),gt(i,n,"release"),gt(i,n,"threshold"),i},Pn=(t,e)=>{const n=t.createGain();return Rt(n,e),gt(n,e,"gain"),n},XF=t=>(e,n,i)=>{if(e.createIIRFilter===void 0)return t(e,n,i);const r=e.createIIRFilter(i.feedforward,i.feedback);return Rt(r,i),r};function QF(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function ZF(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function v1(t,e){let n=[0,0];for(let i=t.length-1;i>=0;i-=1)n=ZF(n,e),n[0]+=t[i];return n}const JF=(t,e,n,i)=>(r,s,{channelCount:a,channelCountMode:c,channelInterpretation:u,feedback:h,feedforward:d})=>{const p=QS(s,r.sampleRate),g=h instanceof Float64Array?h:new Float64Array(h),y=d instanceof Float64Array?d:new Float64Array(d),w=g.length,b=y.length,T=Math.min(w,b);if(w===0||w>20)throw i();if(g[0]===0)throw e();if(b===0||b>20)throw i();if(y[0]===0)throw e();if(g[0]!==1){for(let I=0;I<b;I+=1)y[I]/=g[0];for(let I=1;I<w;I+=1)g[I]/=g[0]}const v=n(r,p,a,a);v.channelCount=a,v.channelCountMode=c,v.channelInterpretation=u;const S=32,k=[],A=[],N=[];for(let I=0;I<a;I+=1){k.push(0);const j=new Float32Array(S),z=new Float32Array(S);j.fill(0),z.fill(0),A.push(j),N.push(z)}v.onaudioprocess=I=>{const j=I.inputBuffer,z=I.outputBuffer,W=j.numberOfChannels;for(let q=0;q<W;q+=1){const Z=j.getChannelData(q),te=z.getChannelData(q);k[q]=XS(g,w,y,b,T,A[q],N[q],k[q],S,Z,te)}};const R=r.sampleRate/2;return Ca({get bufferSize(){return p},get channelCount(){return v.channelCount},set channelCount(I){v.channelCount=I},get channelCountMode(){return v.channelCountMode},set channelCountMode(I){v.channelCountMode=I},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(I){v.channelInterpretation=I},get context(){return v.context},get inputs(){return[v]},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},addEventListener(...I){return v.addEventListener(I[0],I[1],I[2])},dispatchEvent(...I){return v.dispatchEvent(I[0])},getFrequencyResponse(I,j,z){if(I.length!==j.length||j.length!==z.length)throw t();const W=I.length;for(let q=0;q<W;q+=1){const Z=-Math.PI*(I[q]/R),te=[Math.cos(Z),Math.sin(Z)],ce=v1(y,te),re=v1(g,te),ne=QF(ce,re);j[q]=Math.sqrt(ne[0]*ne[0]+ne[1]*ne[1]),z[q]=Math.atan2(ne[1],ne[0])}},removeEventListener(...I){return v.removeEventListener(I[0],I[1],I[2])}},v)},ez=(t,e)=>t.createMediaElementSource(e.mediaElement),tz=(t,e)=>{const n=t.createMediaStreamDestination();return Rt(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},nz=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((s,a)=>s.id<a.id?-1:s.id>a.id?1:0);const i=n.slice(0,1),r=t.createMediaStreamSource(new MediaStream(i));return Object.defineProperty(r,"mediaStream",{value:e}),r},iz=(t,e)=>(n,{mediaStreamTrack:i})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(i);const r=new MediaStream([i]),s=n.createMediaStreamSource(r);if(i.kind!=="audio")throw t();if(e(n))throw new TypeError;return s},rz=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,sz=(t,e,n,i,r,s)=>(a,c)=>{const u=a.createOscillator();return Rt(u,c),gt(u,c,"detune"),gt(u,c,"frequency"),c.periodicWave!==void 0?u.setPeriodicWave(c.periodicWave):nt(u,c,"type"),e(n,()=>n(a))||_y(u),e(i,()=>i(a))||s(u,a),e(r,()=>r(a))||wy(u),t(a,u),u},oz=t=>(e,n)=>{const i=e.createPanner();return i.orientationX===void 0?t(e,n):(Rt(i,n),gt(i,n,"orientationX"),gt(i,n,"orientationY"),gt(i,n,"orientationZ"),gt(i,n,"positionX"),gt(i,n,"positionY"),gt(i,n,"positionZ"),nt(i,n,"coneInnerAngle"),nt(i,n,"coneOuterAngle"),nt(i,n,"coneOuterGain"),nt(i,n,"distanceModel"),nt(i,n,"maxDistance"),nt(i,n,"panningModel"),nt(i,n,"refDistance"),nt(i,n,"rolloffFactor"),i)},az=(t,e,n,i,r,s,a,c,u,h)=>(d,{coneInnerAngle:p,coneOuterAngle:g,coneOuterGain:y,distanceModel:w,maxDistance:b,orientationX:T,orientationY:v,orientationZ:S,panningModel:k,positionX:A,positionY:N,positionZ:R,refDistance:M,rolloffFactor:I,...j})=>{const z=d.createPanner();if(j.channelCount>2||j.channelCountMode==="max")throw a();Rt(z,j);const W={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},q=n(d,{...W,channelInterpretation:"speakers",numberOfInputs:6}),Z=i(d,{...j,gain:1}),te=i(d,{...W,gain:1}),ce=i(d,{...W,gain:0}),re=i(d,{...W,gain:0}),ne=i(d,{...W,gain:0}),$=i(d,{...W,gain:0}),Y=i(d,{...W,gain:0}),X=r(d,256,6,1),Q=s(d,{...W,curve:new Float32Array([1,1]),oversample:"none"});let pe=[T,v,S],St=[A,N,R];const st=new Float32Array(1);X.onaudioprocess=({inputBuffer:ae})=>{const In=[u(ae,st,0),u(ae,st,1),u(ae,st,2)];In.some((yi,vi)=>yi!==pe[vi])&&(z.setOrientation(...In),pe=In);const ir=[u(ae,st,3),u(ae,st,4),u(ae,st,5)];ir.some((yi,vi)=>yi!==St[vi])&&(z.setPosition(...ir),St=ir)},Object.defineProperty(ce.gain,"defaultValue",{get:()=>0}),Object.defineProperty(re.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ne.gain,"defaultValue",{get:()=>0}),Object.defineProperty($.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Y.gain,"defaultValue",{get:()=>0});const ge={get bufferSize(){},get channelCount(){return z.channelCount},set channelCount(ae){if(ae>2)throw a();Z.channelCount=ae,z.channelCount=ae},get channelCountMode(){return z.channelCountMode},set channelCountMode(ae){if(ae==="max")throw a();Z.channelCountMode=ae,z.channelCountMode=ae},get channelInterpretation(){return z.channelInterpretation},set channelInterpretation(ae){Z.channelInterpretation=ae,z.channelInterpretation=ae},get coneInnerAngle(){return z.coneInnerAngle},set coneInnerAngle(ae){z.coneInnerAngle=ae},get coneOuterAngle(){return z.coneOuterAngle},set coneOuterAngle(ae){z.coneOuterAngle=ae},get coneOuterGain(){return z.coneOuterGain},set coneOuterGain(ae){if(ae<0||ae>1)throw e();z.coneOuterGain=ae},get context(){return z.context},get distanceModel(){return z.distanceModel},set distanceModel(ae){z.distanceModel=ae},get inputs(){return[Z]},get maxDistance(){return z.maxDistance},set maxDistance(ae){if(ae<0)throw new RangeError;z.maxDistance=ae},get numberOfInputs(){return z.numberOfInputs},get numberOfOutputs(){return z.numberOfOutputs},get orientationX(){return te.gain},get orientationY(){return ce.gain},get orientationZ(){return re.gain},get panningModel(){return z.panningModel},set panningModel(ae){z.panningModel=ae},get positionX(){return ne.gain},get positionY(){return $.gain},get positionZ(){return Y.gain},get refDistance(){return z.refDistance},set refDistance(ae){if(ae<0)throw new RangeError;z.refDistance=ae},get rolloffFactor(){return z.rolloffFactor},set rolloffFactor(ae){if(ae<0)throw new RangeError;z.rolloffFactor=ae},addEventListener(...ae){return Z.addEventListener(ae[0],ae[1],ae[2])},dispatchEvent(...ae){return Z.dispatchEvent(ae[0])},removeEventListener(...ae){return Z.removeEventListener(ae[0],ae[1],ae[2])}};p!==ge.coneInnerAngle&&(ge.coneInnerAngle=p),g!==ge.coneOuterAngle&&(ge.coneOuterAngle=g),y!==ge.coneOuterGain&&(ge.coneOuterGain=y),w!==ge.distanceModel&&(ge.distanceModel=w),b!==ge.maxDistance&&(ge.maxDistance=b),T!==ge.orientationX.value&&(ge.orientationX.value=T),v!==ge.orientationY.value&&(ge.orientationY.value=v),S!==ge.orientationZ.value&&(ge.orientationZ.value=S),k!==ge.panningModel&&(ge.panningModel=k),A!==ge.positionX.value&&(ge.positionX.value=A),N!==ge.positionY.value&&(ge.positionY.value=N),R!==ge.positionZ.value&&(ge.positionZ.value=R),M!==ge.refDistance&&(ge.refDistance=M),I!==ge.rolloffFactor&&(ge.rolloffFactor=I),(pe[0]!==1||pe[1]!==0||pe[2]!==0)&&z.setOrientation(...pe),(St[0]!==0||St[1]!==0||St[2]!==0)&&z.setPosition(...St);const Te=()=>{Z.connect(z),t(Z,Q,0,0),Q.connect(te).connect(q,0,0),Q.connect(ce).connect(q,0,1),Q.connect(re).connect(q,0,2),Q.connect(ne).connect(q,0,3),Q.connect($).connect(q,0,4),Q.connect(Y).connect(q,0,5),q.connect(X).connect(d.destination)},dt=()=>{Z.disconnect(z),c(Z,Q,0,0),Q.disconnect(te),te.disconnect(q),Q.disconnect(ce),ce.disconnect(q),Q.disconnect(re),re.disconnect(q),Q.disconnect(ne),ne.disconnect(q),Q.disconnect($),$.disconnect(q),Q.disconnect(Y),Y.disconnect(q),q.disconnect(X),X.disconnect(d.destination)};return h(Ca(ge,z),Te,dt)},lz=t=>(e,{disableNormalization:n,imag:i,real:r})=>{const s=i instanceof Float32Array?i:new Float32Array(i),a=r instanceof Float32Array?r:new Float32Array(r),c=e.createPeriodicWave(a,s,{disableNormalization:n});if(Array.from(i).length<2)throw t();return c},nc=(t,e,n,i)=>t.createScriptProcessor(e,n,i),cz=(t,e)=>(n,i)=>{const r=i.channelCountMode;if(r==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,i);const s=n.createStereoPanner();return Rt(s,i),gt(s,i,"pan"),Object.defineProperty(s,"channelCountMode",{get:()=>r,set:a=>{if(a!==r)throw e()}}),s},uz=(t,e,n,i,r,s)=>{const c=new Float32Array([1,1]),u=Math.PI/2,h={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},d={...h,oversample:"none"},p=(w,b,T,v)=>{const S=new Float32Array(16385),k=new Float32Array(16385);for(let j=0;j<16385;j+=1){const z=j/16384*u;S[j]=Math.cos(z),k[j]=Math.sin(z)}const A=n(w,{...h,gain:0}),N=i(w,{...d,curve:S}),R=i(w,{...d,curve:c}),M=n(w,{...h,gain:0}),I=i(w,{...d,curve:k});return{connectGraph(){b.connect(A),b.connect(R.inputs===void 0?R:R.inputs[0]),b.connect(M),R.connect(T),T.connect(N.inputs===void 0?N:N.inputs[0]),T.connect(I.inputs===void 0?I:I.inputs[0]),N.connect(A.gain),I.connect(M.gain),A.connect(v,0,0),M.connect(v,0,1)},disconnectGraph(){b.disconnect(A),b.disconnect(R.inputs===void 0?R:R.inputs[0]),b.disconnect(M),R.disconnect(T),T.disconnect(N.inputs===void 0?N:N.inputs[0]),T.disconnect(I.inputs===void 0?I:I.inputs[0]),N.disconnect(A.gain),I.disconnect(M.gain),A.disconnect(v,0,0),M.disconnect(v,0,1)}}},g=(w,b,T,v)=>{const S=new Float32Array(16385),k=new Float32Array(16385),A=new Float32Array(16385),N=new Float32Array(16385),R=Math.floor(16385/2);for(let ne=0;ne<16385;ne+=1)if(ne>R){const $=(ne-R)/(16384-R)*u;S[ne]=Math.cos($),k[ne]=Math.sin($),A[ne]=0,N[ne]=1}else{const $=ne/(16384-R)*u;S[ne]=1,k[ne]=0,A[ne]=Math.cos($),N[ne]=Math.sin($)}const M=e(w,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),I=n(w,{...h,gain:0}),j=i(w,{...d,curve:S}),z=n(w,{...h,gain:0}),W=i(w,{...d,curve:k}),q=i(w,{...d,curve:c}),Z=n(w,{...h,gain:0}),te=i(w,{...d,curve:A}),ce=n(w,{...h,gain:0}),re=i(w,{...d,curve:N});return{connectGraph(){b.connect(M),b.connect(q.inputs===void 0?q:q.inputs[0]),M.connect(I,0),M.connect(z,0),M.connect(Z,1),M.connect(ce,1),q.connect(T),T.connect(j.inputs===void 0?j:j.inputs[0]),T.connect(W.inputs===void 0?W:W.inputs[0]),T.connect(te.inputs===void 0?te:te.inputs[0]),T.connect(re.inputs===void 0?re:re.inputs[0]),j.connect(I.gain),W.connect(z.gain),te.connect(Z.gain),re.connect(ce.gain),I.connect(v,0,0),Z.connect(v,0,0),z.connect(v,0,1),ce.connect(v,0,1)},disconnectGraph(){b.disconnect(M),b.disconnect(q.inputs===void 0?q:q.inputs[0]),M.disconnect(I,0),M.disconnect(z,0),M.disconnect(Z,1),M.disconnect(ce,1),q.disconnect(T),T.disconnect(j.inputs===void 0?j:j.inputs[0]),T.disconnect(W.inputs===void 0?W:W.inputs[0]),T.disconnect(te.inputs===void 0?te:te.inputs[0]),T.disconnect(re.inputs===void 0?re:re.inputs[0]),j.disconnect(I.gain),W.disconnect(z.gain),te.disconnect(Z.gain),re.disconnect(ce.gain),I.disconnect(v,0,0),Z.disconnect(v,0,0),z.disconnect(v,0,1),ce.disconnect(v,0,1)}}},y=(w,b,T,v,S)=>{if(b===1)return p(w,T,v,S);if(b===2)return g(w,T,v,S);throw r()};return(w,{channelCount:b,channelCountMode:T,pan:v,...S})=>{if(T==="max")throw r();const k=t(w,{...S,channelCount:1,channelCountMode:T,numberOfInputs:2}),A=n(w,{...S,channelCount:b,channelCountMode:T,gain:1}),N=n(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:v});let{connectGraph:R,disconnectGraph:M}=y(w,b,A,N,k);Object.defineProperty(N.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"maxValue",{get:()=>1}),Object.defineProperty(N.gain,"minValue",{get:()=>-1});const I={get bufferSize(){},get channelCount(){return A.channelCount},set channelCount(q){A.channelCount!==q&&(j&&M(),{connectGraph:R,disconnectGraph:M}=y(w,q,A,N,k),j&&R()),A.channelCount=q},get channelCountMode(){return A.channelCountMode},set channelCountMode(q){if(q==="clamped-max"||q==="max")throw r();A.channelCountMode=q},get channelInterpretation(){return A.channelInterpretation},set channelInterpretation(q){A.channelInterpretation=q},get context(){return A.context},get inputs(){return[A]},get numberOfInputs(){return A.numberOfInputs},get numberOfOutputs(){return A.numberOfOutputs},get pan(){return N.gain},addEventListener(...q){return A.addEventListener(q[0],q[1],q[2])},dispatchEvent(...q){return A.dispatchEvent(q[0])},removeEventListener(...q){return A.removeEventListener(q[0],q[1],q[2])}};let j=!1;const z=()=>{R(),j=!0},W=()=>{M(),j=!1};return s(Ca(I,k),z,W)}},hz=(t,e,n,i,r,s,a)=>(c,u)=>{const h=c.createWaveShaper();if(s!==null&&s.name==="webkitAudioContext"&&c.createGain().gain.automationRate===void 0)return n(c,u);Rt(h,u);const d=u.curve===null||u.curve instanceof Float32Array?u.curve:new Float32Array(u.curve);if(d!==null&&d.length<2)throw e();nt(h,{curve:d},"curve"),nt(h,u,"oversample");let p=null,g=!1;return a(h,"curve",b=>()=>b.call(h),b=>T=>(b.call(h,T),g&&(i(T)&&p===null?p=t(c,h):!i(T)&&p!==null&&(p(),p=null)),T)),r(h,()=>{g=!0,i(h.curve)&&(p=t(c,h))},()=>{g=!1,p!==null&&(p(),p=null)})},fz=(t,e,n,i,r)=>(s,{curve:a,oversample:c,...u})=>{const h=s.createWaveShaper(),d=s.createWaveShaper();Rt(h,u),Rt(d,u);const p=n(s,{...u,gain:1}),g=n(s,{...u,gain:-1}),y=n(s,{...u,gain:1}),w=n(s,{...u,gain:-1});let b=null,T=!1,v=null;const S={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(N){p.channelCount=N,g.channelCount=N,h.channelCount=N,y.channelCount=N,d.channelCount=N,w.channelCount=N},get channelCountMode(){return h.channelCountMode},set channelCountMode(N){p.channelCountMode=N,g.channelCountMode=N,h.channelCountMode=N,y.channelCountMode=N,d.channelCountMode=N,w.channelCountMode=N},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(N){p.channelInterpretation=N,g.channelInterpretation=N,h.channelInterpretation=N,y.channelInterpretation=N,d.channelInterpretation=N,w.channelInterpretation=N},get context(){return h.context},get curve(){return v},set curve(N){if(N!==null&&N.length<2)throw e();if(N===null)h.curve=N,d.curve=N;else{const R=N.length,M=new Float32Array(R+2-R%2),I=new Float32Array(R+2-R%2);M[0]=N[0],I[0]=-N[R-1];const j=Math.ceil((R+1)/2),z=(R+1)/2-1;for(let W=1;W<j;W+=1){const q=W/j*z,Z=Math.floor(q),te=Math.ceil(q);M[W]=Z===te?N[Z]:(1-(q-Z))*N[Z]+(1-(te-q))*N[te],I[W]=Z===te?-N[R-1-Z]:-((1-(q-Z))*N[R-1-Z])-(1-(te-q))*N[R-1-te]}M[j]=R%2===1?N[j-1]:(N[j-2]+N[j-1])/2,h.curve=M,d.curve=I}v=N,T&&(i(v)&&b===null?b=t(s,p):b!==null&&(b(),b=null))},get inputs(){return[p]},get numberOfInputs(){return h.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get oversample(){return h.oversample},set oversample(N){h.oversample=N,d.oversample=N},addEventListener(...N){return p.addEventListener(N[0],N[1],N[2])},dispatchEvent(...N){return p.dispatchEvent(N[0])},removeEventListener(...N){return p.removeEventListener(N[0],N[1],N[2])}};a!==null&&(S.curve=a instanceof Float32Array?a:new Float32Array(a)),c!==S.oversample&&(S.oversample=c);const k=()=>{p.connect(h).connect(y),p.connect(g).connect(d).connect(w).connect(y),T=!0,i(v)&&(b=t(s,p))},A=()=>{p.disconnect(h),h.disconnect(y),p.disconnect(g),g.disconnect(d),d.disconnect(w),w.disconnect(y),T=!1,b!==null&&(b(),b=null)};return r(Ca(S,y),k,A)},gn=()=>new DOMException("","NotSupportedError"),dz={numberOfChannels:1},pz=(t,e,n,i,r)=>class extends t{constructor(a,c,u){let h;if(typeof a=="number"&&c!==void 0&&u!==void 0)h={length:c,numberOfChannels:a,sampleRate:u};else if(typeof a=="object")h=a;else throw new Error("The given parameters are not valid.");const{length:d,numberOfChannels:p,sampleRate:g}={...dz,...h},y=i(p,d,g);e(jl,()=>jl(y))||y.addEventListener("statechange",(()=>{let w=0;const b=T=>{this._state==="running"&&(w>0?(y.removeEventListener("statechange",b),T.stopImmediatePropagation(),this._waitForThePromiseToSettle(T)):w+=1)};return b})()),super(y,p),this._length=d,this._nativeOfflineAudioContext=y,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,qS(this)}))}_waitForThePromiseToSettle(a){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(a):setTimeout(()=>this._waitForThePromiseToSettle(a))}},mz={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},gz=(t,e,n,i,r,s,a)=>class extends t{constructor(u,h){const d=r(u),p={...mz,...h},g=n(d,p),y=s(d),w=y?i():null,b=u.sampleRate/2;super(u,!1,g,w),this._detune=e(this,y,g.detune,153600,-153600),this._frequency=e(this,y,g.frequency,b,-b),this._nativeOscillatorNode=g,this._onended=null,this._oscillatorNodeRenderer=w,this._oscillatorNodeRenderer!==null&&p.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=p.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(u){const h=typeof u=="function"?a(this,u):null;this._nativeOscillatorNode.onended=h;const d=this._nativeOscillatorNode.onended;this._onended=d!==null&&d===h?u:d}get type(){return this._nativeOscillatorNode.type}set type(u){this._nativeOscillatorNode.type=u,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(u){this._nativeOscillatorNode.setPeriodicWave(u),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=u)}start(u=0){if(this._nativeOscillatorNode.start(u),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=u),this.context.state!=="closed"){ua(this);const h=()=>{this._nativeOscillatorNode.removeEventListener("ended",h),xr(this)&&Zl(this)};this._nativeOscillatorNode.addEventListener("ended",h)}}stop(u=0){this._nativeOscillatorNode.stop(u),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=u)}},yz=(t,e,n,i,r)=>()=>{const s=new WeakMap;let a=null,c=null,u=null;const h=async(d,p)=>{let g=n(d);const y=nn(g,p);if(!y){const w={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,detune:g.detune.value,frequency:g.frequency.value,periodicWave:a===null?void 0:a,type:g.type};g=e(p,w),c!==null&&g.start(c),u!==null&&g.stop(u)}return s.set(p,g),y?(await t(p,d.detune,g.detune),await t(p,d.frequency,g.frequency)):(await i(p,d.detune,g.detune),await i(p,d.frequency,g.frequency)),await r(d,p,g),g};return{set periodicWave(d){a=d},set start(d){c=d},set stop(d){u=d},render(d,p){const g=s.get(p);return g!==void 0?Promise.resolve(g):h(d,p)}}},vz={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},_z=(t,e,n,i,r,s,a)=>class extends t{constructor(u,h){const d=r(u),p={...vz,...h},g=n(d,p),y=s(d),w=y?i():null;super(u,!1,g,w),this._nativePannerNode=g,this._orientationX=e(this,y,g.orientationX,cn,Sn),this._orientationY=e(this,y,g.orientationY,cn,Sn),this._orientationZ=e(this,y,g.orientationZ,cn,Sn),this._positionX=e(this,y,g.positionX,cn,Sn),this._positionY=e(this,y,g.positionY,cn,Sn),this._positionZ=e(this,y,g.positionZ,cn,Sn),a(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(u){this._nativePannerNode.coneInnerAngle=u}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(u){this._nativePannerNode.coneOuterAngle=u}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(u){this._nativePannerNode.coneOuterGain=u}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(u){this._nativePannerNode.distanceModel=u}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(u){this._nativePannerNode.maxDistance=u}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(u){this._nativePannerNode.panningModel=u}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(u){this._nativePannerNode.refDistance=u}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(u){this._nativePannerNode.rolloffFactor=u}},wz=(t,e,n,i,r,s,a,c,u,h)=>()=>{const d=new WeakMap;let p=null;const g=async(y,w)=>{let b=null,T=s(y);const v={channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation},S={...v,coneInnerAngle:T.coneInnerAngle,coneOuterAngle:T.coneOuterAngle,coneOuterGain:T.coneOuterGain,distanceModel:T.distanceModel,maxDistance:T.maxDistance,panningModel:T.panningModel,refDistance:T.refDistance,rolloffFactor:T.rolloffFactor},k=nn(T,w);if("bufferSize"in T)b=i(w,{...v,gain:1});else if(!k){const A={...S,orientationX:T.orientationX.value,orientationY:T.orientationY.value,orientationZ:T.orientationZ.value,positionX:T.positionX.value,positionY:T.positionY.value,positionZ:T.positionZ.value};T=r(w,A)}if(d.set(w,b===null?T:b),b!==null){if(p===null){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const W=new a(6,y.context.length,w.sampleRate),q=e(W,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});q.connect(W.destination),p=(async()=>{const Z=await Promise.all([y.orientationX,y.orientationY,y.orientationZ,y.positionX,y.positionY,y.positionZ].map(async(te,ce)=>{const re=n(W,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ce===0?1:0});return await c(W,te,re.offset),re}));for(let te=0;te<6;te+=1)Z[te].connect(q,0,te),Z[te].start(0);return h(W)})()}const A=await p,N=i(w,{...v,gain:1});await u(y,w,N);const R=[];for(let W=0;W<A.numberOfChannels;W+=1)R.push(A.getChannelData(W));let M=[R[0][0],R[1][0],R[2][0]],I=[R[3][0],R[4][0],R[5][0]],j=i(w,{...v,gain:1}),z=r(w,{...S,orientationX:M[0],orientationY:M[1],orientationZ:M[2],positionX:I[0],positionY:I[1],positionZ:I[2]});N.connect(j).connect(z.inputs[0]),z.connect(b);for(let W=128;W<A.length;W+=128){const q=[R[0][W],R[1][W],R[2][W]],Z=[R[3][W],R[4][W],R[5][W]];if(q.some((te,ce)=>te!==M[ce])||Z.some((te,ce)=>te!==I[ce])){M=q,I=Z;const te=W/w.sampleRate;j.gain.setValueAtTime(0,te),j=i(w,{...v,gain:0}),z=r(w,{...S,orientationX:M[0],orientationY:M[1],orientationZ:M[2],positionX:I[0],positionY:I[1],positionZ:I[2]}),j.gain.setValueAtTime(1,te),N.connect(j).connect(z.inputs[0]),z.connect(b)}}return b}return k?(await t(w,y.orientationX,T.orientationX),await t(w,y.orientationY,T.orientationY),await t(w,y.orientationZ,T.orientationZ),await t(w,y.positionX,T.positionX),await t(w,y.positionY,T.positionY),await t(w,y.positionZ,T.positionZ)):(await c(w,y.orientationX,T.orientationX),await c(w,y.orientationY,T.orientationY),await c(w,y.orientationZ,T.orientationZ),await c(w,y.positionX,T.positionX),await c(w,y.positionY,T.positionY),await c(w,y.positionZ,T.positionZ)),ka(T)?await u(y,w,T.inputs[0]):await u(y,w,T),T};return{render(y,w){const b=d.get(w);return b!==void 0?Promise.resolve(b):g(y,w)}}},xz={disableNormalization:!1},bz=(t,e,n,i)=>class ek{constructor(s,a){const c=e(s),u=i({...xz,...a}),h=t(c,u);return n.add(h),h}static[Symbol.hasInstance](s){return s!==null&&typeof s=="object"&&Object.getPrototypeOf(s)===ek.prototype||n.has(s)}},Sz=(t,e)=>(n,i,r)=>(t(i).replay(r),e(i,n,r)),kz=(t,e,n)=>async(i,r,s)=>{const a=t(i);await Promise.all(a.activeInputs.map((c,u)=>Array.from(c).map(async([h,d])=>{const g=await e(h).render(h,r),y=i.context.destination;!n(h)&&(i!==y||!n(i))&&g.connect(s,d,u)})).reduce((c,u)=>[...c,...u],[]))},Cz=(t,e,n)=>async(i,r,s)=>{const a=e(i);await Promise.all(Array.from(a.activeInputs).map(async([c,u])=>{const d=await t(c).render(c,r);n(c)||d.connect(s,u)}))},Tz=(t,e,n,i)=>r=>t(jl,()=>jl(r))?Promise.resolve(t(i,i)).then(s=>{if(!s){const a=n(r,512,0,1);r.oncomplete=()=>{a.onaudioprocess=null,a.disconnect()},a.onaudioprocess=()=>r.currentTime,a.connect(r.destination)}return r.startRendering()}):new Promise(s=>{const a=e(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=c=>{a.disconnect(),s(c.renderedBuffer)},a.connect(r.destination),r.startRendering()}),Ez=t=>(e,n)=>{t.set(e,n)},Nz=t=>(e,n)=>t.set(e,n),Az=(t,e,n,i,r,s,a,c)=>(u,h)=>n(u).render(u,h).then(()=>Promise.all(Array.from(i(h)).map(d=>n(d).render(d,h)))).then(()=>r(h)).then(d=>(typeof d.copyFromChannel!="function"?(a(d),gy(d)):e(s,()=>s(d))||c(d),t.add(d),d)),Pz={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Iz=(t,e,n,i,r,s)=>class extends t{constructor(c,u){const h=r(c),d={...Pz,...u},p=n(h,d),g=s(h),y=g?i():null;super(c,!1,p,y),this._pan=e(this,g,p.pan)}get pan(){return this._pan}},Rz=(t,e,n,i,r)=>()=>{const s=new WeakMap,a=async(c,u)=>{let h=n(c);const d=nn(h,u);if(!d){const p={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,pan:h.pan.value};h=e(u,p)}return s.set(u,h),d?await t(u,c.pan,h.pan):await i(u,c.pan,h.pan),ka(h)?await r(c,u,h.inputs[0]):await r(c,u,h),h};return{render(c,u){const h=s.get(u);return h!==void 0?Promise.resolve(h):a(c,u)}}},Mz=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},Oz=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),i=new e(1,128,44100),r=URL.createObjectURL(n);let s=!1,a=!1;try{await i.audioWorklet.addModule(r);const c=new t(i,"a",{numberOfOutputs:0}),u=i.createOscillator();c.port.onmessage=()=>s=!0,c.onprocessorerror=()=>a=!0,u.connect(c),u.start(0),await i.startRendering(),await new Promise(h=>setTimeout(h))}catch{}finally{URL.revokeObjectURL(r)}return s&&!a},Dz=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),i=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(r=>{n.oncomplete=()=>{i.disconnect(),r(n.currentTime!==0)},n.startRendering()})},Lz=()=>new DOMException("","UnknownError"),Fz={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},zz=(t,e,n,i,r,s,a)=>class extends t{constructor(u,h){const d=r(u),p={...Fz,...h},g=n(d,p),w=s(d)?i():null;super(u,!0,g,w),this._isCurveNullified=!1,this._nativeWaveShaperNode=g,a(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(u){if(u===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(u.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=u}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(u){this._nativeWaveShaperNode.oversample=u}},jz=(t,e,n)=>()=>{const i=new WeakMap,r=async(s,a)=>{let c=e(s);if(!nn(c,a)){const h={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,curve:c.curve,oversample:c.oversample};c=t(a,h)}return i.set(a,c),ka(c)?await n(s,a,c.inputs[0]):await n(s,a,c),c};return{render(s,a){const c=i.get(a);return c!==void 0?Promise.resolve(c):r(s,a)}}},Bz=()=>typeof window>"u"?null:window,Wz=(t,e)=>n=>{n.copyFromChannel=(i,r,s=0)=>{const a=t(s),c=t(r);if(c>=n.numberOfChannels)throw e();const u=n.length,h=n.getChannelData(c),d=i.length;for(let p=a<0?-a:0;p+a<u&&p<d;p+=1)i[p]=h[p+a]},n.copyToChannel=(i,r,s=0)=>{const a=t(s),c=t(r);if(c>=n.numberOfChannels)throw e();const u=n.length,h=n.getChannelData(c),d=i.length;for(let p=a<0?-a:0;p+a<u&&p<d;p+=1)h[p+a]=i[p]}},Vz=t=>e=>{e.copyFromChannel=(n=>(i,r,s=0)=>{const a=t(s),c=t(r);if(a<e.length)return n.call(e,i,c,a)})(e.copyFromChannel),e.copyToChannel=(n=>(i,r,s=0)=>{const a=t(s),c=t(r);if(a<e.length)return n.call(e,i,c,a)})(e.copyToChannel)},Uz=t=>(e,n)=>{const i=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=i),t(e,"buffer",r=>()=>{const s=r.call(e);return s===i?null:s},r=>s=>r.call(e,s===null?i:s))},qz=(t,e)=>(n,i)=>{i.channelCount=1,i.channelCountMode="explicit",Object.defineProperty(i,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const r=n.createBufferSource();e(i,()=>{const c=i.numberOfInputs;for(let u=0;u<c;u+=1)r.connect(i,0,u)},()=>r.disconnect(i))},tk=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),nk=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},ic=(t,e,n,i)=>{let r=t;for(;!r.hasOwnProperty(e);)r=Object.getPrototypeOf(r);const{get:s,set:a}=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,{get:n(s),set:i(a)})},$z=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),Hz=t=>({...t,channelCount:t.numberOfOutputs}),Gz=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},ik=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(i){if(i.code!==9)throw i;ik(t,e,n+1e-7)}},Yz=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},Kz=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},Xz=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},xy=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},rk=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},by=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},Qz=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},Zz=t=>{t.start=(e=>(n=0,i=0,r)=>{const s=t.buffer,a=s===null?i:Math.min(s.duration,i);s!==null&&a>s.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,a,r)})(t.start)},sk=(t,e)=>{const n=e.createGain();t.connect(n);const i=(r=>()=>{r.call(t,n),t.removeEventListener("ended",i)})(t.disconnect);t.addEventListener("ended",i),Ca(t,n),t.stop=(r=>{let s=!1;return(a=0)=>{if(s)try{r.call(t,a)}catch{n.gain.setValueAtTime(0,a)}else r.call(t,a),s=!0}})(t.stop)},Ta=(t,e)=>n=>{const i={value:t};return Object.defineProperties(n,{currentTarget:i,target:i}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},Jz=_L(oo),ej=CL(oo),tj=F4(sf),ok=new WeakMap,nj=tF(ok),ji=d4(new Map,new WeakMap),Qi=Bz(),ak=IF(ji,Ji),Sy=eF(un),Ht=kz(un,Sy,Ys),ij=PL(ak,Je,Ht),Ge=rF(rf),Pr=rz(Qi),Ve=xF(Pr),lk=new WeakMap,ck=G4(Ta),rc=DF(Qi),ky=yF(rc),Cy=vF(Qi),uk=_F(Qi),Bl=FF(Qi),bt=t4(wL(FS),kL(Jz,ej,xh,tj,bh,un,nj,Ql,Je,oo,xr,Ys,Fu),ji,fF(Gm,bh,un,Je,zl,xr),Ji,of,gn,M4(xh,Gm,un,Je,zl,Ge,xr,Ve),B4(lk,un,Li),ck,Ge,ky,Cy,uk,Ve,Bl),rj=AL(bt,ij,Ji,ak,Ge,Ve),Ty=new WeakSet,_1=RF(Qi),hk=T4(new Uint32Array(1)),Ey=Wz(hk,Ji),Ny=Vz(hk),fk=RL(Ty,ji,gn,_1,Pr,Mz(_1),Ey,Ny),af=TL(Pn),dk=Cz(Sy,Jl,Ys),er=w4(dk),Ea=OF(af,ji,Yz,Kz,Xz,xy,rk,by,Zz,Uz(ic),sk),tr=Sz(nF(Jl),dk),sj=DL(er,Ea,Je,tr,Ht),Bi=n4(xL(zS),lk,my,i4,dL,pL,mL,gL,yL,qm,DS,rc,ik),oj=OL(bt,sj,Bi,Ft,Ea,Ge,Ve,Ta),aj=qL(bt,$L,Ji,Ft,LF(Pn,ic),Ge,Ve,Ht),lj=f4(er,ZS,Je,tr,Ht),ao=Nz(ok),cj=h4(bt,Bi,lj,of,ZS,Ge,Ve,ao),vs=AF(oo,Cy),uj=qz(Ft,vs),_s=qF(rc,uj),hj=g4(_s,Je,Ht),fj=m4(bt,hj,_s,Ge,Ve),dj=_4(tc,Je,Ht),pj=v4(bt,dj,tc,Ge,Ve,Hz),mj=GF(af,Ea,Pn,vs),Na=HF(af,ji,mj,xy,by),gj=C4(er,Na,Je,tr,Ht),yj=k4(bt,Bi,gj,Na,Ge,Ve,Ta),pk=YF(gn,ic),vj=A4(pk,Je,Ht),_j=N4(bt,vj,pk,Ge,Ve,ao),wj=L4(er,JS,Je,tr,Ht),xj=D4(bt,Bi,wj,JS,Ge,Ve,ao),mk=KF(gn),bj=q4(er,mk,Je,tr,Ht),Sj=U4(bt,Bi,bj,mk,gn,Ge,Ve,ao),kj=Z4(er,Pn,Je,tr,Ht),Cj=Q4(bt,Bi,kj,Pn,Ge,Ve),Tj=JF(of,Ft,nc,gn),lf=Tz(ji,Pn,nc,Dz(Pn,Pr)),Ej=hF(Ea,Je,Pr,Ht,lf),Nj=XF(Tj),Aj=cF(bt,Nj,Ej,Ge,Ve,ao),Pj=HL(Bi,_s,Na,nc,gn,tk,Ve,ic),gk=new WeakMap,Ij=NF(aj,Pj,ck,Ve,gk,Ta),yk=sz(af,ji,xy,rk,by,sk),Rj=yz(er,yk,Je,tr,Ht),Mj=gz(bt,Bi,yk,Rj,Ge,Ve,Ta),vk=b4(Ea),Oj=fz(vk,Ft,Pn,nk,vs),cf=hz(vk,Ft,Oj,nk,vs,rc,ic),Dj=az(xh,Ft,_s,Pn,nc,cf,gn,bh,tk,vs),_k=oz(Dj),Lj=wz(er,_s,Na,Pn,_k,Je,Pr,tr,Ht,lf),Fj=_z(bt,Bi,_k,Lj,Ge,Ve,ao),zj=lz(Ji),jj=bz(zj,Ge,new WeakSet,Gz),Bj=uz(_s,tc,Pn,cf,gn,vs),wk=cz(Bj,gn),Wj=Rz(er,wk,Je,tr,Ht),Vj=Iz(bt,Bi,wk,Wj,Ge,Ve),Uj=jz(cf,Je,Ht),qj=zz(bt,Ft,cf,Uj,Ge,Ve,ao),xk=bF(Qi),Ay=Y4(Qi),bk=new WeakMap,$j=sF(bk,Pr),Hj=xk?SL(ji,gn,H4(Qi),Ay,K4(vL),Ge,$j,Ve,Bl,new WeakMap,new WeakMap,Oz(Bl,Pr),Qi):void 0,Gj=wF(ky,Ve),Yj=R4(Ty,ji,I4,$4,new WeakSet,Ge,Gj,_h,jl,Ey,Ny),Sk=c4(Hj,rj,fk,oj,cj,fj,pj,yj,_j,Yj,xj,Sj,Cj,Aj,Ij,Mj,Fj,jj,Vj,qj),Kj=SF(bt,ez,Ge,Ve),Xj=CF(bt,tz,Ge,Ve),Qj=TF(bt,nz,Ge,Ve),Zj=iz(Ft,Ve),Jj=EF(bt,Zj,Ge),e6=UL(Sk,Ft,gn,Lz,Kj,Xj,Qj,Jj,rc),Py=oF(gk),t6=EL(Py),kk=x4(Ji),n6=z4(Py),Ck=W4(Ji),Tk=new WeakMap,i6=J4(Tk,Li),r6=UF(kk,Ji,Ft,_s,tc,Na,Pn,nc,gn,Ck,Ay,i6,vs),s6=jF(Ft,r6,Pn,gn,vs),o6=l4(er,kk,Ea,_s,tc,Na,Pn,n6,Ck,Ay,Je,Bl,Pr,tr,Ht,lf),a6=iF(bk),l6=Ez(Tk),w1=xk?s4(t6,bt,Bi,o6,s6,un,a6,Ge,Ve,Bl,$z,l6,Qz,Ta):void 0,c6=P4(gn,Pr),u6=Az(Ty,ji,Sy,Py,lf,_h,Ey,Ny),h6=pz(Sk,ji,Ft,c6,u6),f6=dF(rf,ky),d6=pF(py,Cy),p6=mF(my,uk),m6=gF(rf,Ve);function fi(t){return t===void 0}function Pe(t){return t!==void 0}function g6(t){return typeof t=="function"}function Ks(t){return typeof t=="number"}function Bs(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function y6(t){return typeof t=="boolean"}function Ii(t){return Array.isArray(t)}function Nr(t){return typeof t=="string"}function wu(t){return Nr(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function be(t,e){if(!t)throw new Error(e)}function Zi(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function Ek(t){!t.isOffline&&t.state!=="running"&&Iy('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Nk=!1,x1=!1;function b1(t){Nk=t}function v6(t){fi(t)&&Nk&&!x1&&(x1=!0,Iy("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Ak=console;function _6(...t){Ak.log(...t)}function Iy(...t){Ak.warn(...t)}function w6(t){return new e6(t)}function x6(t,e,n){return new h6(t,e,n)}const Wn=typeof self=="object"?self:null,b6=Wn&&(Wn.hasOwnProperty("AudioContext")||Wn.hasOwnProperty("webkitAudioContext"));function S6(t,e,n){return be(Pe(w1),"AudioWorkletNode only works in a secure context (https or localhost)"),new(t instanceof(Wn==null?void 0:Wn.BaseAudioContext)?Wn==null?void 0:Wn.AudioWorkletNode:w1)(t,e,n)}function Wi(t,e,n,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(s=(r<3?a(s):r>3?a(e,n,s):a(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s}function wt(t,e,n,i){function r(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(d){try{h(i.next(d))}catch(p){a(p)}}function u(d){try{h(i.throw(d))}catch(p){a(p)}}function h(d){d.done?s(d.value):r(d.value).then(c,u)}h((i=i.apply(t,e||[])).next())})}class k6{constructor(e,n,i,r){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(r||44100),.001),this.updateInterval=i,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),i=new Worker(n);i.onmessage=this._callback.bind(this),this._worker=i}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Xs(t){return p6(t)}function cs(t){return d6(t)}function zu(t){return m6(t)}function No(t){return f6(t)}function C6(t){return t instanceof fk}function T6(t,e){return t==="value"||Xs(e)||cs(e)||C6(e)}function ea(t,...e){if(!e.length)return t;const n=e.shift();if(Bs(t)&&Bs(n))for(const i in n)T6(i,n[i])?t[i]=n[i]:Bs(n[i])?(t[i]||Object.assign(t,{[i]:{}}),ea(t[i],n[i])):Object.assign(t,{[i]:n[i]});return ea(t,...e)}function E6(t,e){return t.length===e.length&&t.every((n,i)=>e[i]===n)}function ye(t,e,n=[],i){const r={},s=Array.from(e);if(Bs(s[0])&&i&&!Reflect.has(s[0],i)&&(Object.keys(s[0]).some(c=>Reflect.has(t,c))||(ea(r,{[i]:s[0]}),n.splice(n.indexOf(i),1),s.shift())),s.length===1&&Bs(s[0]))ea(r,s[0]);else for(let a=0;a<n.length;a++)Pe(s[a])&&(r[n[a]]=s[a]);return ea(t,r)}function N6(t){return t.constructor.getDefaults()}function ta(t,e){return fi(t)?e:t}function S1(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Ir{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||Wn&&this.toString()===Wn.TONE_DEBUG_CLASS)&&_6(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Ir.version=OS;const Ry=1e-6;function ha(t,e){return t>e+Ry}function Zm(t,e){return ha(t,e)||Ei(t,e)}function Th(t,e){return t+Ry<e}function Ei(t,e){return Math.abs(t-e)<Ry}function A6(t,e,n){return Math.max(Math.min(t,n),e)}class di extends Ir{constructor(){super(),this.name="Timeline",this._timeline=[];const e=ye(di.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(be(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];be(Zm(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const i=this._search(e,n);return i!==-1?this._timeline[i]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const i=this._search(e,n);return i+1<this._timeline.length?this._timeline[i+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const i=this._search(e);return i-1>=0?this._timeline[i-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(Ei(this._timeline[n].time,e)){for(let i=n;i>=0&&Ei(this._timeline[i].time,e);i--)n=i;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Zm(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let i=0;const r=this._timeline.length;let s=r;if(r>0&&this._timeline[r-1][n]<=e)return r-1;for(;i<s;){let a=Math.floor(i+(s-i)/2);const c=this._timeline[a],u=this._timeline[a+1];if(Ei(c[n],e)){for(let h=a;h<this._timeline.length;h++){const d=this._timeline[h];if(Ei(d[n],e))a=h;else break}return a}else{if(Th(c[n],e)&&ha(u[n],e))return a;ha(c[n],e)?s=a:i=a+1}}return-1}_iterate(e,n=0,i=this._timeline.length-1){this._timeline.slice(n,i+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const i=this._search(e);return i!==-1&&this._iterate(n,0,i),this}forEachAfter(e,n){const i=this._search(e);return this._iterate(n,i+1),this}forEachBetween(e,n,i){let r=this._search(e),s=this._search(n);return r!==-1&&s!==-1?(this._timeline[r].time!==e&&(r+=1),this._timeline[s].time===n&&(s-=1),this._iterate(i,r,s)):r===-1&&this._iterate(i,0,s),this}forEachFrom(e,n){let i=this._search(e);for(;i>=0&&this._timeline[i].time>=e;)i--;return this._iterate(n,i+1),this}forEachAtTime(e,n){const i=this._search(e);if(i!==-1&&Ei(this._timeline[i].time,e)){let r=i;for(let s=i;s>=0&&Ei(this._timeline[s].time,e);s--)r=s;this._iterate(s=>{n(s)},r,i)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Pk=[];function uf(t){Pk.push(t)}function P6(t){Pk.forEach(e=>e(t))}const Ik=[];function hf(t){Ik.push(t)}function I6(t){Ik.forEach(e=>e(t))}class sc extends Ir{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(r=>{fi(this._events)&&(this._events={}),this._events.hasOwnProperty(r)||(this._events[r]=[]),this._events[r].push(n)}),this}once(e,n){const i=(...r)=>{n(...r),this.off(e,i)};return this.on(e,i),this}off(e,n){return e.split(/\W+/).forEach(r=>{if(fi(this._events)&&(this._events={}),this._events.hasOwnProperty(r))if(fi(n))this._events[r]=[];else{const s=this._events[r];for(let a=s.length-1;a>=0;a--)s[a]===n&&s.splice(a,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const i=this._events[e].slice(0);for(let r=0,s=i.length;r<s;r++)i[r].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const i=Object.getOwnPropertyDescriptor(sc.prototype,n);Object.defineProperty(e.prototype,n,i)})}dispose(){return super.dispose(),this._events=void 0,this}}class Rk extends sc{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class oc extends Rk{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new di,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const i=ye(oc.getDefaults(),arguments,["context"]);i.context?(this._context=i.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=w6({latencyHint:i.latencyHint}),this._latencyHint=i.latencyHint),this._ticker=new k6(this.emit.bind(this,"tick"),i.clockSource,i.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=i.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(P6(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,i){return this._context.createBuffer(e,n,i)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,i){return this._context.createPeriodicWave(e,n,i)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return be(No(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return be(No(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return be(No(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){be(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){be(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){be(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){be(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return S6(this.rawContext,e,n)}addAudioWorkletModule(e){return wt(this,void 0,void 0,function*(){be(Pe(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return wt(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return No(this._context)?this._context.resume():Promise.resolve()}close(){return wt(this,void 0,void 0,function*(){No(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&I6(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),i=n.getChannelData(0);for(let s=0;s<i.length;s++)i[s]=e;const r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=n,r.loop=!0,r.start(0),this._constants.set(e,r),r}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const i=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:i+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const i=++this._timeoutIds,r=()=>{const s=this.now();this._timeouts.add({callback:()=>{e(),r()},id:i,time:s+n})};return r(),i}}class R6 extends Rk{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,i){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,i){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return wt(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function rt(t,e){Ii(e)?e.forEach(n=>rt(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Mk(t,e){Ii(e)?e.forEach(n=>Mk(t,n)):Object.defineProperty(t,e,{writable:!0})}const ze=()=>{};class We extends Ir{constructor(){super(),this.name="ToneAudioBuffer",this.onload=ze;const e=ye(We.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,Nr(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:ze,onload:ze,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:ui().sampleRate}set(e){return e instanceof We?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return wt(this,void 0,void 0,function*(){const n=We.load(e).then(i=>{this.set(i),this.onload(this)});We.downloads.push(n);try{yield n}finally{const i=We.downloads.indexOf(n);We.downloads.splice(i,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=Ii(e)&&e[0].length>0,i=n?e.length:1,r=n?e[0].length:e.length,s=ui(),a=s.createBuffer(i,r,s.sampleRate),c=!n&&i===1?[e]:e;for(let u=0;u<i;u++)a.copyToChannel(c[u],u);return this._buffer=a,this}toMono(e){if(Ks(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const i=this.numberOfChannels;for(let r=0;r<i;r++){const s=this.toArray(r);for(let a=0;a<s.length;a++)n[a]+=s[a]}n=n.map(r=>r/i),this.fromArray(n)}return this}toArray(e){if(Ks(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let i=0;i<this.numberOfChannels;i++)n[i]=this.getChannelData(i);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){be(this.loaded,"Buffer is not loaded");const i=Math.floor(e*this.sampleRate),r=Math.floor(n*this.sampleRate);be(i<r,"The start time must be less than the end time");const s=r-i,a=ui().createBuffer(this.numberOfChannels,s,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)a.copyToChannel(this.getChannelData(c).subarray(i,r),c);return new We(a)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new We().fromArray(e)}static fromUrl(e){return wt(this,void 0,void 0,function*(){return yield new We().load(e)})}static load(e){return wt(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const u=n[1].split("|");let h=u[0];for(const d of u)if(We.supportsType(d)){h=d;break}e=e.replace(n[0],h)}const i=We.baseUrl===""||We.baseUrl.endsWith("/")?We.baseUrl:We.baseUrl+"/",r=document.createElement("a");r.href=i+e,r.pathname=(r.pathname+r.hash).split("/").map(encodeURIComponent).join("/");const s=yield fetch(r.href);if(!s.ok)throw new Error(`could not load url: ${e}`);const a=yield s.arrayBuffer();return yield ui().decodeAudioData(a)})}static supportsType(e){const n=e.split("."),i=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+i)!==""}static loaded(){return wt(this,void 0,void 0,function*(){for(yield Promise.resolve();We.downloads.length;)yield We.downloads[0]})}}We.baseUrl="";We.downloads=[];class ff extends oc{constructor(){super({clockSource:"offline",context:zu(arguments[0])?arguments[0]:x6(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:zu(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=zu(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return wt(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const i=Math.floor(this.sampleRate/128);e&&n%i===0&&(yield new Promise(r=>setTimeout(r,1)))}})}render(){return wt(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new We(n)})}close(){return Promise.resolve()}}const Ok=new R6;let Fs=Ok;function ui(){return Fs===Ok&&b6&&M6(new oc),Fs}function M6(t,e=!1){e&&Fs.dispose(),No(t)?Fs=new oc(t):zu(t)?Fs=new ff(t):Fs=t}function O6(){return Fs.resume()}if(Wn&&!Wn.TONE_SILENCE_LOGGING){const e=` * Tone.js v${OS} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function D6(t){return Math.pow(10,t/20)}function L6(t){return 20*(Math.log(t)/Math.LN10)}function Dk(t){return Math.pow(2,t/12)}let df=440;function F6(){return df}function z6(t){df=t}function Jm(t){return Math.round(Lk(t))}function Lk(t){return 69+12*Math.log2(t/df)}function j6(t){return df*Math.pow(2,(t-69)/12)}class My extends Ir{constructor(e,n,i){super(),this.defaultUnits="s",this._val=n,this._units=i,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const i=parseInt(e,10),r=n==="."?1.5:1;return i===1?this._beatsToUnits(this._getTimeSignature())*r:this._beatsToUnits(4/i)*r},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,i)=>{let r=0;return e&&e!=="0"&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(r+=this._beatsToUnits(parseFloat(n))),i&&i!=="0"&&(r+=this._beatsToUnits(parseFloat(i)/4)),r},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof My&&this.fromType(this._val),fi(this._val))return this._noArg();if(Nr(this._val)&&fi(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Bs(this._val)){let e=0;for(const n in this._val)if(Pe(this._val[n])){const i=this._val[n],r=new this.constructor(this.context,n).valueOf()*i;e+=r}return e}if(Pe(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return Nr(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Ni extends My{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new Ni(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const i=new this.constructor(this.context,e).valueOf(),r=this.valueOf(),c=Math.round(r/i)*i-r;return r+c*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let s=1;s<9;s++){const a=Math.pow(2,s);n.push(a+"n."),n.push(a+"n"),n.push(a+"t")}n.push("0");let i=n[0],r=new Ni(this.context,n[0]).toSeconds();return n.forEach(s=>{const a=new Ni(this.context,s).toSeconds();Math.abs(a-e)<Math.abs(r-e)&&(i=s,r=a)}),i}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const i=Math.floor(n/this._getTimeSignature());let r=n%1*4;n=Math.floor(n)%this._getTimeSignature();const s=r.toString();return s.length>3&&(r=parseFloat(parseFloat(s).toFixed(3))),[i,n,r].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Jm(this.toFrequency())}_now(){return this.context.now()}}class Un extends Ni{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return F6()}static set A4(e){z6(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Un.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const r=B6[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?r:Un.mtof(r)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,i){let r=1;return e&&e!=="0"&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(r*=this._beatsToUnits(parseFloat(n))),i&&i!=="0"&&(r*=this._beatsToUnits(parseFloat(i)/4)),r}}})}transpose(e){return new Un(this.context,this.valueOf()*Dk(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return Jm(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/Un.A4);let i=Math.round(12*n)+57;const r=Math.floor(i/12);return r<0&&(i+=-12*r),W6[i%12]+r.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return j6(e)}static ftom(e){return Jm(e)}}const B6={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},W6=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function Fk(t,e){return new Un(ui(),t,e)}class ml extends Ni{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class An extends Ir{constructor(){super();const e=ye(An.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:ui()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return v6(e),new Ni(this.context,e).toSeconds()}toFrequency(e){return new Un(this.context,e).toFrequency()}toTicks(e){return new ml(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(i=>{fi(e[i])&&delete n[i]}),n}get(){const e=N6(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const i=this[n];Pe(i)&&Pe(i.value)&&Pe(i.setValueAtTime)?e[n]=i.value:i instanceof An?e[n]=i._getPartialProperties(e[n]):Ii(i)||Ks(i)||Nr(i)||y6(i)?e[n]=i:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&Pe(this[n])&&(this[n]&&Pe(this[n].value)&&Pe(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof An?this[n].set(e[n]):this[n]=e[n])}),this}}class Oy extends di{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,i){return Zi(n,0),this.add(Object.assign({},i,{state:e,time:n})),this}getLastState(e,n){const i=this._search(n);for(let r=i;r>=0;r--){const s=this._timeline[r];if(s.state===e)return s}}getNextState(e,n){const i=this._search(n);if(i!==-1)for(let r=i;r<this._timeline.length;r++){const s=this._timeline[r];if(s.state===e)return s}}}class lt extends An{constructor(){const e=ye(lt.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,be(Pe(e.param)&&(Xs(e.param)||e.param instanceof lt),"param must be an AudioParam");!Xs(e.param);)e.param=e.param._param;this._swappable=Pe(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new di(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Pe(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(An.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Pe(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Pe(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return Pe(this.maxValue)&&Pe(this.minValue)&&Zi(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?D6(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?L6(e):e}setValueAtTime(e,n){const i=this.toSeconds(n),r=this._fromType(e);return be(isFinite(r)&&isFinite(i),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this.log(this.units,"setValueAtTime",e,i),this._events.add({time:i,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,i),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),i=this._events.getAfter(n),r=this._events.get(n);let s=this._initialValue;if(r===null)s=this._initialValue;else if(r.type==="setTargetAtTime"&&(i===null||i.type==="setValueAtTime")){const a=this._events.getBefore(r.time);let c;a===null?c=this._initialValue:c=a.value,r.type==="setTargetAtTime"&&(s=this._exponentialApproach(r.time,c,r.value,r.constant,n))}else if(i===null)s=r.value;else if(i.type==="linearRampToValueAtTime"||i.type==="exponentialRampToValueAtTime"){let a=r.value;if(r.type==="setTargetAtTime"){const c=this._events.getBefore(r.time);c===null?a=this._initialValue:a=c.value}i.type==="linearRampToValueAtTime"?s=this._linearInterpolate(r.time,a,i.time,i.value,n):s=this._exponentialInterpolate(r.time,a,i.time,i.value,n)}else s=r.value;return this._toType(s)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const i=this._fromType(e),r=this.toSeconds(n);return be(isFinite(i)&&isFinite(r),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(i),this._events.add({time:r,type:"linearRampToValueAtTime",value:i}),this.log(this.units,"linearRampToValueAtTime",e,r),this._param.linearRampToValueAtTime(i,r),this}exponentialRampToValueAtTime(e,n){let i=this._fromType(e);i=Ei(i,0)?this._minOutput:i,this._assertRange(i);const r=this.toSeconds(n);return be(isFinite(i)&&isFinite(r),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:r,type:"exponentialRampToValueAtTime",value:i}),this.log(this.units,"exponentialRampToValueAtTime",e,r),this._param.exponentialRampToValueAtTime(i,r),this}exponentialRampTo(e,n,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialRampToValueAtTime(e,i+this.toSeconds(n)),this}linearRampTo(e,n,i){return i=this.toSeconds(i),this.setRampPoint(i),this.linearRampToValueAtTime(e,i+this.toSeconds(n)),this}targetRampTo(e,n,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialApproachValueAtTime(e,i,n),this}exponentialApproachValueAtTime(e,n,i){n=this.toSeconds(n),i=this.toSeconds(i);const r=Math.log(i+1)/Math.log(200);return this.setTargetAtTime(e,n,r),this.cancelAndHoldAtTime(n+i*.9),this.linearRampToValueAtTime(e,n+i),this}setTargetAtTime(e,n,i){const r=this._fromType(e);be(isFinite(i)&&i>0,"timeConstant must be a number greater than 0");const s=this.toSeconds(n);return this._assertRange(r),be(isFinite(r)&&isFinite(s),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:i,time:s,type:"setTargetAtTime",value:r}),this.log(this.units,"setTargetAtTime",e,s,i),this._param.setTargetAtTime(r,s,i),this}setValueCurveAtTime(e,n,i,r=1){i=this.toSeconds(i),n=this.toSeconds(n);const s=this._fromType(e[0])*r;this.setValueAtTime(this._toType(s),n);const a=i/(e.length-1);for(let c=1;c<e.length;c++){const u=this._fromType(e[c])*r;this.linearRampToValueAtTime(this._toType(u),n+c*a)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return be(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),i=this._fromType(this.getValueAtTime(n));be(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+i);const r=this._events.get(n),s=this._events.getAfter(n);return r&&Ei(r.time,n)?s?(this._param.cancelScheduledValues(s.time),this._events.cancel(s.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):s&&(this._param.cancelScheduledValues(s.time),this._events.cancel(s.time),s.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(i),n):s.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(i),n)),this._events.add({time:n,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,n),this}rampTo(e,n=.1,i){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,i):this.linearRampTo(e,n,i),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const i=this._events.get(n);if(i&&i.type==="setTargetAtTime"){const r=this._events.getAfter(i.time),s=r?r.time:n+2,a=(s-n)/10;for(let c=n;c<s;c+=a)e.linearRampToValueAtTime(this.getValueAtTime(c),c)}return this._events.forEachAfter(this.context.currentTime,r=>{r.type==="cancelScheduledValues"?e.cancelScheduledValues(r.time):r.type==="setTargetAtTime"?e.setTargetAtTime(r.value,r.time,r.constant):e[r.type](r.value,r.time)}),this}setParam(e){be(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,i,r,s){return i+(n-i)*Math.exp(-(s-e)/r)}_linearInterpolate(e,n,i,r,s){return n+(r-n)*((s-e)/(i-e))}_exponentialInterpolate(e,n,i,r,s){return n*Math.pow(r/n,(s-e)/(i-e))}}class we extends An{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Pe(this.input)?Xs(this.input)||this.input instanceof lt?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Pe(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Pe(e)&&(e instanceof we||cs(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(i=>{i.channelCount=e.channelCount,i.channelCountMode=e.channelCountMode,i.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();be(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,i=0){return ds(this,e,n,i),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Iy("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,i=0){return V6(this,e,n,i),this}chain(...e){return eg(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),Pe(this.input)&&(this.input instanceof we?this.input.dispose():cs(this.input)&&this.input.disconnect()),Pe(this.output)&&(this.output instanceof we?this.output.dispose():cs(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function eg(...t){const e=t.shift();t.reduce((n,i)=>(n instanceof we?n.connect(i):cs(n)&&ds(n,i),i),e)}function ds(t,e,n=0,i=0){for(be(Pe(t),"Cannot connect from undefined node"),be(Pe(e),"Cannot connect to undefined node"),(e instanceof we||cs(e))&&be(e.numberOfInputs>0,"Cannot connect to node with no inputs"),be(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof we||e instanceof lt;)Pe(e.input)&&(e=e.input);for(;t instanceof we;)Pe(t.output)&&(t=t.output);Xs(e)?t.connect(e,n):t.connect(e,n,i)}function V6(t,e,n=0,i=0){if(Pe(e))for(;e instanceof we;)e=e.input;for(;!cs(t);)Pe(t.output)&&(t=t.output);Xs(e)?t.disconnect(e,n):cs(e)?t.disconnect(e,n,i):t.disconnect()}class ht extends we{constructor(){const e=ye(ht.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new lt({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),rt(this,"gain")}static getDefaults(){return Object.assign(we.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class fa extends we{constructor(e){super(e),this.onended=ze,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new ht({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const i=this.toSeconds(n);return this._startTime!==-1&&i>=this._startTime&&(this._stopTime===-1||i<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(we.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:ze})}_startGain(e,n=1){be(this._startTime===-1,"Source cannot be started more than once");const i=this.toSeconds(this._fadeIn);return this._startTime=e+i,this._startTime=Math.max(this._startTime,this.context.currentTime),i>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+i):this._gainNode.gain.exponentialApproachValueAtTime(n,e,i)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){be(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const i=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+i),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==ze&&(this.onended(this),this.onended=ze,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),be(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=ze,this}}class Dy extends fa{constructor(){const e=ye(Dy.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),ds(this._source,this._gainNode),this.offset=new lt({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(fa.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Mt extends we{constructor(){const e=ye(Mt.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new Dy({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(we.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,i=0){return Ly(this,e,n,i),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,i){return this._param.exponentialRampTo(e,n,i),this}linearRampTo(e,n,i){return this._param.linearRampTo(e,n,i),this}targetRampTo(e,n,i){return this._param.targetRampTo(e,n,i),this}exponentialApproachValueAtTime(e,n,i){return this._param.exponentialApproachValueAtTime(e,n,i),this}setTargetAtTime(e,n,i){return this._param.setTargetAtTime(e,n,i),this}setValueCurveAtTime(e,n,i,r){return this._param.setValueCurveAtTime(e,n,i,r),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,i){return this._param.rampTo(e,n,i),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Ly(t,e,n,i){(e instanceof lt||Xs(e)||e instanceof Mt&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Mt&&(e.overridden=!0)),ds(t,e,n,i)}class Fy extends lt{constructor(){const e=ye(Fy.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new di(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(lt.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,i){n=this.toSeconds(n),this.setRampPoint(n);const r=this._fromType(e),s=this._events.get(n),a=Math.round(Math.max(1/i,1));for(let c=0;c<=a;c++){const u=i*c+n,h=this._exponentialApproach(s.time,s.value,r,i,u);this.linearRampToValueAtTime(this._toType(h),u)}return this}setValueAtTime(e,n){const i=this.toSeconds(n);super.setValueAtTime(e,n);const r=this._events.get(i),s=this._events.previousEvent(r),a=this._getTicksUntilEvent(s,i);return r.ticks=Math.max(a,0),this}linearRampToValueAtTime(e,n){const i=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const r=this._events.get(i),s=this._events.previousEvent(r),a=this._getTicksUntilEvent(s,i);return r.ticks=Math.max(a,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const i=this._fromType(e),r=this._events.get(n),s=Math.round(Math.max((n-r.time)*10,1)),a=(n-r.time)/s;for(let c=0;c<=s;c++){const u=a*c+r.time,h=this._exponentialInterpolate(r.time,r.value,n,i,u);this.linearRampToValueAtTime(this._toType(h),u)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(fi(e.ticks)){const a=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(a,e.time)}const i=this._fromType(this.getValueAtTime(e.time));let r=this._fromType(this.getValueAtTime(n));const s=this._events.get(n);return s&&s.time===n&&s.type==="setValueAtTime"&&(r=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(i+r)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),i=this._events.get(n);return Math.max(this._getTicksUntilEvent(i,n),0)}getDurationOfTicks(e,n){const i=this.toSeconds(n),r=this.getTicksAtTime(n);return this.getTimeOfTick(r+e)-i}getTimeOfTick(e){const n=this._events.get(e,"ticks"),i=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&i&&i.type==="linearRampToValueAtTime"&&n.value!==i.value){const r=this._fromType(this.getValueAtTime(n.time)),a=(this._fromType(this.getValueAtTime(i.time))-r)/(i.time-n.time),c=Math.sqrt(Math.pow(r,2)-2*a*(n.ticks-e)),u=(-r+c)/a,h=(-r-c)/a;return(u>0?u:h)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const i=this.toSeconds(n),r=this.toSeconds(e),s=this.getTicksAtTime(i);return this.getTicksAtTime(i+r)-s}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class zy extends Mt{constructor(){const e=ye(zy.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new Fy({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Mt.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class jy extends An{constructor(){const e=ye(jy.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new Oy,this._tickOffset=new di,this._ticksAtTime=new di,this._secondsAtTime=new di,this.frequency=new zy({context:this.context,units:e.units,value:e.frequency}),rt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},An.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const i=this.toSeconds(e);return this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),Pe(n)&&this.setTicksAtTime(n,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const i=this._state.get(n);i&&i.time>0&&(this._tickOffset.cancel(i.time),this._state.cancel(i.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),i=this._state.getLastState("stopped",n),r=this._ticksAtTime.get(n),s={state:"paused",time:n};this._state.add(s);let a=r||i,c=r?r.ticks:0,u=null;return this._state.forEachBetween(a.time,n+this.sampleTime,h=>{let d=a.time;const p=this._tickOffset.get(h.time);p&&p.time>=a.time&&(c=p.ticks,d=p.time),a.state==="started"&&h.state!=="started"&&(c+=this.frequency.getTicksAtTime(h.time)-this.frequency.getTicksAtTime(d),h.time!==s.time&&(u={state:h.state,time:h.time,ticks:c})),a=h}),this._state.remove(s),u&&this._ticksAtTime.add(u),c}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),i=this.frequency.timeToTicks(e,n);this.setTicksAtTime(i,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),i={state:"paused",time:e};this._state.add(i);const r=this._secondsAtTime.get(e);let s=r||n,a=r?r.seconds:0,c=null;return this._state.forEachBetween(s.time,e+this.sampleTime,u=>{let h=s.time;const d=this._tickOffset.get(u.time);d&&d.time>=s.time&&(a=d.seconds,h=d.time),s.state==="started"&&u.state!=="started"&&(a+=u.time-h,u.time!==i.time&&(c={state:u.state,time:u.time,seconds:a})),s=u}),this._state.remove(i),c&&this._secondsAtTime.add(c),a}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const i=this._tickOffset.get(n),r=this._state.get(n),s=Math.max(i.time,r.time),a=this.frequency.getTicksAtTime(s)+e-i.ticks;return this.frequency.getTimeOfTick(a)}forEachTickBetween(e,n,i){let r=this._state.get(e);this._state.forEachBetween(e,n,a=>{r&&r.state==="started"&&a.state!=="started"&&this.forEachTickBetween(Math.max(r.time,e),a.time-this.sampleTime,i),r=a});let s=null;if(r&&r.state==="started"){const a=Math.max(r.time,e),c=this.frequency.getTicksAtTime(a),u=this.frequency.getTicksAtTime(r.time),h=c-u;let d=Math.ceil(h)-h;d=Ei(d,1)?0:d;let p=this.frequency.getTimeOfTick(c+d);for(;p<n;){try{i(p,Math.round(this.getTicksAtTime(p)))}catch(g){s=g;break}p+=this.frequency.getDurationOfTicks(1,p)}}if(s)throw s;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class pf extends An{constructor(){const e=ye(pf.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=ze,this._lastUpdate=0,this._state=new Oy("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new jy({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,rt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(An.getDefaults(),{callback:ze,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){Ek(this.context);const i=this.toSeconds(e);return this.log("start",i),this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),this._tickSource.start(i,n),i<this._lastUpdate&&this.emit("start",i,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const i=this.toSeconds(n),r=this.getTicksAtTime(i);return this._tickSource.getTimeOfTick(r+e,i)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,i=>{switch(i.state){case"started":const r=this._tickSource.getTicksAtTime(i.time);this.emit("start",i.time,r);break;case"stopped":i.time!==0&&this.emit("stop",i.time);break;case"paused":this.emit("pause",i.time);break}}),this._tickSource.forEachTickBetween(e,n,(i,r)=>{this.callback(i,r)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}sc.mixin(pf);class Aa extends we{constructor(){const e=ye(Aa.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new ht({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,rt(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(we.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class By extends we{constructor(){const e=ye(By.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Aa({context:this.context}),this.output=new ht({context:this.context}),this.volume=this.input.volume,eg(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(we.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),eg(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}uf(t=>{t.destination=new By({context:t})});hf(t=>{t.destination.dispose()});class U6 extends we{constructor(){super(...arguments),this.name="Listener",this.positionX=new lt({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new lt({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new lt({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new lt({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new lt({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new lt({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new lt({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new lt({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new lt({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(we.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}uf(t=>{t.listener=new U6({context:t})});hf(t=>{t.listener.dispose()});class Wy extends Ir{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=ye(Wy.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const i=e.urls[n];this.add(n,i,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:ze,onload:ze,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return be(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,i=ze,r=ze){return Nr(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new We(this.baseUrl+n,i,r))):this._buffers.set(e.toString(),new We(n,i,r)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Vo extends ml{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class q6 extends An{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new di,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}uf(t=>{t.draw=new q6({context:t})});hf(t=>{t.draw.dispose()});class $6 extends Ir{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){be(Pe(e.time),"Events must have a time property"),be(Pe(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new H6(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const i of n)if(i.event===e){this._removeNode(i),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let i,r=null;if(n>0)if(e.left.right===null)i=e.left,i.right=e.right,r=i;else{for(i=e.left.right;i.right!==null;)i=i.right;i.parent&&(i.parent.right=i.left,r=i.parent,i.left=e.left,i.right=e.right)}else if(e.right.left===null)i=e.right,i.left=e.left,r=i;else{for(i=e.right.left;i.left!==null;)i=i.left;i.parent&&(i.parent.left=i.right,r=i.parent,i.left=e.left,i.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=i:e.parent.right=i:this._setRoot(i),r&&this._rebalance(r)}e.dispose()}_rotateLeft(e){const n=e.parent,i=e.isLeftChild(),r=e.right;r&&(e.right=r.left,r.left=e),n!==null?i?n.left=r:n.right=r:this._setRoot(r)}_rotateRight(e){const n=e.parent,i=e.isLeftChild(),r=e.left;r&&(e.left=r.right,r.right=e),n!==null?i?n.left=r:n.right=r:this._setRoot(r)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let i=n[0];for(let r=1;r<n.length;r++)n[r].low>i.low&&(i=n[r]);return i.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(i=>n.push(i)),n.forEach(i=>{i.event&&e(i.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const i=[];this._root.search(e,i),i.forEach(r=>{r.event&&n(r.event)})}return this}forEachFrom(e,n){if(this._root!==null){const i=[];this._root.searchAfter(e,i),i.forEach(r=>{r.event&&n(r.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class H6{constructor(e,n,i){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=i,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class G6 extends Ir{constructor(e){super(),this.name="TimelineValue",this._timeline=new di({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class Qs extends we{constructor(){super(ye(Qs.getDefaults(),arguments,["context"]))}connect(e,n=0,i=0){return Ly(this,e,n,i),this}}class Pa extends Qs{constructor(){const e=ye(Pa.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Ii(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):g6(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Mt.getDefaults(),{length:1024})}setMap(e,n=1024){const i=new Float32Array(n);for(let r=0,s=n;r<s;r++){const a=r/(s-1)*2-1;i[r]=e(a,r)}return this.curve=i,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(i=>i.includes(e));be(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Vy extends Qs{constructor(){const e=ye(Vy.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new Pa({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Qs.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class ps{constructor(e,n){this.id=ps._eventId++,this._remainderTime=0;const i=Object.assign(ps.getDefaults(),n);this.transport=e,this.callback=i.callback,this._once=i.once,this.time=Math.floor(i.time),this._remainderTime=i.time-this.time}static getDefaults(){return{callback:ze,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}ps._eventId=0;class Uy extends ps{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const i=Object.assign(Uy.getDefaults(),n);this.duration=i.duration,this._interval=i.interval,this._nextTick=i.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},ps.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Th(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Vo(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Th(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Vo(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);ha(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class mf extends An{constructor(){const e=ye(mf.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new G6(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new di,this._repeatedEvents=new $6,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new pf({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),rt(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(An.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const i=n%(this._swingTicks*2)/(this._swingTicks*2),r=Math.sin(i*Math.PI)*this._swingAmount;e+=new Vo(this.context,this._swingTicks*2/3).toSeconds()*r}b1(!0),this._timeline.forEachAtTime(n,i=>i.invoke(e)),b1(!1)}schedule(e,n){const i=new ps(this,{callback:e,time:new ml(this.context,n).toTicks()});return this._addEvent(i,this._timeline)}scheduleRepeat(e,n,i,r=1/0){const s=new Uy(this,{callback:e,duration:new Ni(this.context,r).toTicks(),interval:new Ni(this.context,n).toTicks(),time:new ml(this.context,i).toTicks()});return this._addEvent(s,this._repeatedEvents)}scheduleOnce(e,n){const i=new ps(this,{callback:e,once:!0,time:new ml(this.context,n).toTicks()});return this._addEvent(i,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,i=>this.clear(i.id)),this._repeatedEvents.forEachFrom(n,i=>this.clear(i.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new Vo(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let i;return Pe(n)&&(i=this.toTicks(n)),this._clock.start(e,i),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Ii(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Ni(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Ni(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Vo(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new Vo(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),i=this._clock.frequency.timeToTicks(e,n);this.ticks=i}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const i=this._clock.getTicksAtTime(n),r=this._clock.frequency.getDurationOfTicks(Math.ceil(i)-i,n),s=n+r;this.emit("stop",s),this._clock.setTicksAtTime(e,s),this.emit("start",s,this._clock.getSecondsAtTime(s))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),i=this.getTicksAtTime(n),r=e-i%e;return this._clock.nextTickTime(r,n)}}syncSignal(e,n){const i=this.now();let r=this.bpm,s=1/(60/r.getValueAtTime(i)/this.PPQ),a=[];if(e.units==="time"){const u=.015625/s,h=new ht(u),d=new Vy(-1),p=new ht(u);r.chain(h,d,p),r=p,s=1/s,a=[h,d,p]}n||(e.getValueAtTime(i)!==0?n=e.getValueAtTime(i)/s:n=0);const c=new ht(n);return r.connect(c),c.connect(e._param),a.push(c),this._syncedSignals.push({initial:e.value,nodes:a,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const i=this._syncedSignals[n];i.signal===e&&(i.nodes.forEach(r=>r.dispose()),i.signal.value=i.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Mk(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}sc.mixin(mf);uf(t=>{t.transport=new mf({context:t})});hf(t=>{t.transport.dispose()});class dn extends we{constructor(e){super(e),this.input=void 0,this._state=new Oy("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=ze,this._syncedStop=ze,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Aa({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,rt(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(we.getDefaults(),{mute:!1,onstop:ze,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,i){let r=fi(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(r=this._clampToCurrentTime(r),!this._synced&&this._state.getValueAtTime(r)==="started")be(ha(r,this._state.get(r).time),"Start time must be strictly greater than previous start time"),this._state.cancel(r),this._state.setStateAtTime("started",r),this.log("restart",r),this.restart(r,n,i);else if(this.log("start",r),this._state.setStateAtTime("started",r),this._synced){const s=this._state.get(r);s&&(s.offset=this.toSeconds(ta(n,0)),s.duration=i?this.toSeconds(i):void 0);const a=this.context.transport.schedule(c=>{this._start(c,n,i)},r);this._scheduled.push(a),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>r&&this._syncedStart(this.now(),this.context.transport.seconds)}else Ek(this.context),this._start(r,n,i);return this}stop(e){let n=fi(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||Pe(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const i=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(i)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,i){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,i)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(ha(n,0)){const i=this._state.get(n);if(i&&i.state==="started"&&i.time!==n){const r=n-this.toSeconds(i.time);let s;i.duration&&(s=this.toSeconds(i.duration)-r),this._start(e,this.toSeconds(i.offset)+r,s)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=ze,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class ac extends fa{constructor(){const e=ye(ac.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,ds(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new lt({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new We(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(fa.getDefaults(),{url:new We,loop:!1,loopEnd:0,loopStart:0,onload:ze,onerror:ze,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,i,r=1){be(this.buffer.loaded,"buffer is either not set or not loaded");const s=this.toSeconds(e);this._startGain(s,r),this.loop?n=ta(n,this.loopStart):n=ta(n,0);let a=Math.max(this.toSeconds(n),0);if(this.loop){const c=this.toSeconds(this.loopEnd)||this.buffer.duration,u=this.toSeconds(this.loopStart),h=c-u;Zm(a,c)&&(a=(a-u)%h+u),Ei(a,this.buffer.duration)&&(a=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Th(a,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(s,a)),Pe(i)){let c=this.toSeconds(i);c=Math.max(c,0),this.stop(s+c)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class Eh extends dn{constructor(){const e=ye(Eh.getDefaults(),arguments,["type"]);super(e),this.name="Noise",this._source=null,this._playbackRate=e.playbackRate,this.type=e.type,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(dn.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(e){if(be(e in k1,"Noise: invalid type: "+e),this._type!==e&&(this._type=e,this.state==="started")){const n=this.now();this._stop(n),this._start(n)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._source&&(this._source.playbackRate.value=e)}_start(e){const n=k1[this._type];this._source=new ac({url:n,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(e),Math.random()*(n.duration-.001))}_stop(e){this._source&&(this._source.stop(this.toSeconds(e)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(e){this._stop(e),this._start(e)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const To=44100*5,kp=2,dr={brown:null,pink:null,white:null},k1={get brown(){if(!dr.brown){const t=[];for(let e=0;e<kp;e++){const n=new Float32Array(To);t[e]=n;let i=0;for(let r=0;r<To;r++){const s=Math.random()*2-1;n[r]=(i+.02*s)/1.02,i=n[r],n[r]*=3.5}}dr.brown=new We().fromArray(t)}return dr.brown},get pink(){if(!dr.pink){const t=[];for(let e=0;e<kp;e++){const n=new Float32Array(To);t[e]=n;let i,r,s,a,c,u,h;i=r=s=a=c=u=h=0;for(let d=0;d<To;d++){const p=Math.random()*2-1;i=.99886*i+p*.0555179,r=.99332*r+p*.0750759,s=.969*s+p*.153852,a=.8665*a+p*.3104856,c=.55*c+p*.5329522,u=-.7616*u-p*.016898,n[d]=i+r+s+a+c+u+h+p*.5362,n[d]*=.11,h=p*.115926}}dr.pink=new We().fromArray(t)}return dr.pink},get white(){if(!dr.white){const t=[];for(let e=0;e<kp;e++){const n=new Float32Array(To);t[e]=n;for(let i=0;i<To;i++)n[i]=Math.random()*2-1}dr.white=new We().fromArray(t)}return dr.white}};function lo(t,e){return wt(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,i=new ff(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:i})).toDestination().start(0),(yield i.render()).getChannelData(0)})}class qy extends fa{constructor(){const e=ye(qy.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],ds(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new lt({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new lt({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),rt(this,["frequency","detune"])}static getDefaults(){return Object.assign(fa.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Ct extends dn{constructor(){const e=ye(Ct.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new Mt({context:this.context,units:"frequency",value:e.frequency}),rt(this,"frequency"),this.detune=new Mt({context:this.context,units:"cents",value:e.detune}),rt(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(dn.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),i=new qy({context:this.context,onended:()=>this.onstop(this)});this._oscillator=i,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Ct._periodicWaveCache.find(n=>n.phase===this._phase&&E6(n.partials,this._partials));{const e=Ct._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const i=this._getCachedPeriodicWave();if(Pe(i)){const{partials:r,wave:s}=i;this._wave=s,this._partials=r,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[r,s]=this._getRealImaginary(e,this._phase),a=this.context.createPeriodicWave(r,s);this._wave=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Ct._periodicWaveCache.push({imag:s,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:r,type:this._type,wave:this._wave}),Ct._periodicWaveCache.length>100&&Ct._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Zi(e,0);let n=this._type;const i=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(i&&(n=i[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const r=new Float32Array(e);this._partials.forEach((s,a)=>r[a]=s),this._partials=Array.from(r),this.type=this._type}}_getRealImaginary(e,n){let r=2048;const s=new Float32Array(r),a=new Float32Array(r);let c=1;if(e==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,r=c,this._partials.length===0)return[s,a]}else{const u=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);u?(c=parseInt(u[2],10)+1,this._partialCount=parseInt(u[2],10),e=u[1],c=Math.max(c,2),r=c):this._partialCount=0,this._partials=[]}for(let u=1;u<r;++u){const h=2/(u*Math.PI);let d;switch(e){case"sine":d=u<=c?1:0,this._partials[u-1]=d;break;case"square":d=u&1?2*h:0,this._partials[u-1]=d;break;case"sawtooth":d=h*(u&1?1:-1),this._partials[u-1]=d;break;case"triangle":u&1?d=2*(h*h)*(u-1>>1&1?-1:1):d=0,this._partials[u-1]=d;break;case"custom":d=this._partials[u-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}d!==0?(s[u]=-d*Math.sin(n*u),a[u]=d*Math.cos(n*u)):(s[u]=0,a[u]=0)}return[s,a]}_inverseFFT(e,n,i){let r=0;const s=e.length;for(let a=0;a<s;a++)r+=e[a]*Math.cos(a*i)+n[a]*Math.sin(a*i);return r}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let i=0;const r=Math.PI*2,s=32;for(let a=0;a<s;a++)i=Math.max(this._inverseFFT(e,n,a/s*r),i);return A6(-this._inverseFFT(e,n,this._phase)/i,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return wt(this,arguments,void 0,function*(e=1024){return lo(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Ct._periodicWaveCache=[];class Y6 extends Qs{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Pa({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class da extends Mt{constructor(){const e=ye(da.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new ht({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Mt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class gf extends dn{constructor(){const e=ye(gf.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new Y6({context:this.context}),this._modulationNode=new ht({context:this.context}),this._carrier=new Ct({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Ct({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new da({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),rt(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ct.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return wt(this,arguments,void 0,function*(e=1024){return lo(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class yf extends dn{constructor(){const e=ye(yf.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new ht({context:this.context,gain:0}),this._carrier=new Ct({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Mt({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Ct({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new da({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new da({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),rt(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ct.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return wt(this,arguments,void 0,function*(e=1024){return lo(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class lc extends dn{constructor(){const e=ye(lc.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new ht({context:this.context,gain:0}),this._thresh=new Pa({context:this.context,mapping:n=>n<=0?-1:1}),this.width=new Mt({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Ct({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),rt(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(dn.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return wt(this,arguments,void 0,function*(e=1024){return lo(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class vf extends dn{constructor(){const e=ye(vf.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new Mt({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Mt({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,rt(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ct.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,i=e/(this._oscillators.length-1);this._forEach((r,s)=>r.detune.value=n+i*s)}}get count(){return this._oscillators.length}set count(e){if(Zi(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const i=new Ct({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):ze});this.type==="custom"&&(i.partials=this._partials),this.frequency.connect(i.frequency),this.detune.connect(i.detune),i.detune.overridden=!1,i.connect(this.output),this._oscillators[n]=i}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,i)=>n.phase=this._phase+i/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(){return wt(this,arguments,void 0,function*(e=1024){return lo(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class _f extends dn{constructor(){const e=ye(_f.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new da({context:this.context,value:2}),this._pulse=new lc({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Ct({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),rt(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(dn.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return wt(this,arguments,void 0,function*(e=1024){return lo(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const C1={am:gf,fat:vf,fm:yf,oscillator:Ct,pulse:lc,pwm:_f};class Nh extends dn{constructor(){const e=ye(Nh.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new Mt({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Mt({context:this.context,units:"cents",value:e.detune}),rt(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Ct.getDefaults(),yf.getDefaults(),gf.getDefaults(),vf.getDefaults(),lc.getDefaults(),_f.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=C1[e],i=this.now();if(this._oscillator){const r=this._oscillator;r.stop(i),this.context.setTimeout(()=>r.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(i)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof C1[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Ks(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Ks(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Nr(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return wt(this,arguments,void 0,function*(e=1024){return lo(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function zk(t,e=1/0){const n=new WeakMap;return function(i,r){Reflect.defineProperty(i,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){Zi(s,t,e),n.set(this,s)}})}}function Rr(t,e=1/0){const n=new WeakMap;return function(i,r){Reflect.defineProperty(i,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){Zi(this.toSeconds(s),t,e),n.set(this,s)}})}}class wf extends dn{constructor(){const e=ye(wf.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new We({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(dn.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:ze,onerror:ze,playbackRate:1,reverse:!1})}load(e){return wt(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=ze){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,i){return super.start(e,n,i),this}_start(e,n,i){this._loop?n=ta(n,this._loopStart):n=ta(n,0);const r=this.toSeconds(n),s=i;i=ta(i,Math.max(this._buffer.duration-r,0));let a=this.toSeconds(i);a=a/this._playbackRate,e=this.toSeconds(e);const c=new ac({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+a),this._state.setStateAtTime("stopped",e+a,{implicitEnd:!0})),this._activeSources.add(c),this._loop&&fi(s)?c.start(e,r):c.start(e,r,a-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(i=>i.stop(n))}restart(e,n,i){return super.restart(e,n,i),this}_restart(e,n,i){var r;(r=[...this._activeSources].pop())===null||r===void 0||r.stop(e),this._start(e,n,i)}seek(e,n){const i=this.toSeconds(n);if(this._state.getValueAtTime(i)==="started"){const r=this.toSeconds(e);this._stop(i),this._start(i,r)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Zi(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Zi(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),i=this._state.getNextState("stopped",n);i&&i.implicitEnd&&(this._state.cancel(i.time),this._activeSources.forEach(r=>r.cancelStop())),this._activeSources.forEach(r=>{r.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Wi([Rr(0)],wf.prototype,"fadeIn",void 0);Wi([Rr(0)],wf.prototype,"fadeOut",void 0);class K6 extends Qs{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Pa({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class ws extends we{constructor(){const e=ye(ws.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new Mt({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(we.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(Nr(e))return e;{let i;for(i in xu)if(xu[i][n]===e)return i;return e}}_setCurve(e,n,i){if(Nr(i)&&Reflect.has(xu,i)){const r=xu[i];Bs(r)?e!=="_decayCurve"&&(this[e]=r[n]):this[e]=r}else if(Ii(i)&&e!=="_decayCurve")this[e]=i;else throw new Error("Envelope: invalid curve: "+i)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let r=this.toSeconds(this.attack);const s=this.toSeconds(this.decay),a=this.getValueAtTime(e);if(a>0){const c=1/r;r=(1-a)/c}if(r<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,r,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,r,e);else{this._sig.cancelAndHoldAtTime(e);let c=this._attackCurve;for(let u=1;u<c.length;u++)if(c[u-1]<=a&&a<=c[u]){c=this._attackCurve.slice(u),c[0]=a;break}this._sig.setValueCurveAtTime(c,e,r,n)}if(s&&this.sustain<1){const c=n*this.sustain,u=e+r;this.log("decay",u),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(c,s+u):this._sig.exponentialApproachValueAtTime(c,u,s)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const i=this.toSeconds(this.release);i<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,i,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,i,e):(be(Ii(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,i,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,i=1){return n=this.toSeconds(n),this.triggerAttack(n,i),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,i=0){return Ly(this,e,n,i),this}asArray(){return wt(this,arguments,void 0,function*(e=1024){const n=e/this.context.sampleRate,i=new ff(1,n,this.context.sampleRate),r=this.toSeconds(this.attack)+this.toSeconds(this.decay),s=r+this.toSeconds(this.release),a=s*.1,c=s+a,u=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/c,decay:n*this.toSeconds(this.decay)/c,release:n*this.toSeconds(this.release)/c,context:i}));return u._sig.toDestination(),u.triggerAttackRelease(n*(r+a)/c,0),(yield i.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Wi([Rr(0)],ws.prototype,"attack",void 0);Wi([Rr(0)],ws.prototype,"decay",void 0);Wi([zk(0,1)],ws.prototype,"sustain",void 0);Wi([Rr(0)],ws.prototype,"release",void 0);const xu=(()=>{let e,n;const i=[];for(e=0;e<128;e++)i[e]=Math.sin(e/127*(Math.PI/2));const r=[],s=6.4;for(e=0;e<127;e++){n=e/127;const g=Math.sin(n*(Math.PI*2)*s-Math.PI/2)+1;r[e]=g/10+n*.83}r[127]=1;const a=[],c=5;for(e=0;e<128;e++)a[e]=Math.ceil(e/127*c)/c;const u=[];for(e=0;e<128;e++)n=e/127,u[e]=.5*(1-Math.cos(Math.PI*n));const h=[];for(e=0;e<128;e++){n=e/127;const g=Math.pow(n,3)*4+.2,y=Math.cos(g*Math.PI*2*n);h[e]=Math.abs(y*(1-n))}function d(g){const y=new Array(g.length);for(let w=0;w<g.length;w++)y[w]=1-g[w];return y}function p(g){return g.slice(0).reverse()}return{bounce:{In:d(h),Out:h},cosine:{In:i,Out:p(i)},exponential:"exponential",linear:"linear",ripple:{In:r,Out:d(r)},sine:{In:u,Out:d(u)},step:{In:a,Out:d(a)}}})();class pa extends we{constructor(){const e=ye(pa.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n),this._volume=this.output=new Aa({context:this.context,volume:e.volume}),this.volume=this._volume.volume,rt(this,"volume")}static getDefaults(){return Object.assign(we.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const i=this["_original_"+e]=this[e];this[e]=(...r)=>{const s=r[n],a=this.context.transport.schedule(c=>{r[n]=c,i.apply(this,r)},s);this._scheduledEvents.push(a)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,i,r){const s=this.toSeconds(i),a=this.toSeconds(n);return this.triggerAttack(e,s,r),this.triggerRelease(s+a),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class ma extends pa{constructor(){const e=ye(ma.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(pa.getDefaults(),{detune:0,onsilence:ze,portamento:0})}triggerAttack(e,n,i=1){this.log("triggerAttack",e,n,i);const r=this.toSeconds(n);return this._triggerEnvelopeAttack(r,i),this.setNote(e,r),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const i=this.toSeconds(n),r=e instanceof Un?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(i)>.05){const s=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(r,s,i)}else this.frequency.setValueAtTime(r,i);return this}}Wi([Rr(0)],ma.prototype,"portamento",void 0);class $y extends ws{constructor(){super(ye($y.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new ht({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Wl extends ma{constructor(){const e=ye(Wl.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new Nh(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new $y(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),rt(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(ma.getDefaults(),{envelope:Object.assign(S1(ws.getDefaults(),Object.keys(we.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(S1(Nh.getDefaults(),[...Object.keys(dn.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const i=this.toSeconds(this.envelope.attack),r=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+i+r)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class xf extends Wl{constructor(){const e=ye(xf.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,rt(this,["oscillator","envelope"])}static getDefaults(){return ea(ma.getDefaults(),Wl.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const i=this.toSeconds(n),r=this.toFrequency(e instanceof Un?e.toFrequency():e),s=r*this.octaves;return this.oscillator.frequency.setValueAtTime(s,i),this.oscillator.frequency.exponentialRampToValueAtTime(r,i+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Wi([zk(0)],xf.prototype,"octaves",void 0);Wi([Rr(0)],xf.prototype,"pitchDecay",void 0);const jk=new Set;function Hy(t){jk.add(t)}function Bk(t,e){const n=`registerProcessor("${t}", ${e})`;jk.add(n)}const X6=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Hy(X6);const Q6=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Hy(Q6);const Z6=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Hy(Z6);const J6="feedback-comb-filter",eB=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Bk(J6,eB);class cc extends pa{constructor(){const e=ye(cc.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const n={};Object.keys(e.urls).forEach(i=>{const r=parseInt(i,10);if(be(wu(i)||Ks(r)&&isFinite(r),`url key is neither a note or midi pitch: ${i}`),wu(i)){const s=new Un(this.context,i).toMidi();n[s]=e.urls[i]}else Ks(r)&&isFinite(r)&&(n[r]=e.urls[r])}),this._buffers=new Wy({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(pa.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:ze,onerror:ze,release:.1,urls:{}})}_findClosest(e){let i=0;for(;i<96;){if(this._buffers.has(e+i))return-i;if(this._buffers.has(e-i))return i;i++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,i=1){return this.log("triggerAttack",e,n,i),Array.isArray(e)||(e=[e]),e.forEach(r=>{const s=Lk(new Un(this.context,r).toFrequency()),a=Math.round(s),c=s-a,u=this._findClosest(a),h=a-u,d=this._buffers.get(h),p=Dk(u+c),g=new ac({url:d,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:p}).connect(this.output);g.start(n,0,d.duration/p,i),Ii(this._activeSources.get(a))||this._activeSources.set(a,[]),this._activeSources.get(a).push(g),g.onended=()=>{if(this._activeSources&&this._activeSources.has(a)){const y=this._activeSources.get(a),w=y.indexOf(g);w!==-1&&y.splice(w,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(i=>{const r=new Un(this.context,i).toMidi();if(this._activeSources.has(r)&&this._activeSources.get(r).length){const s=this._activeSources.get(r);n=this.toSeconds(n),s.forEach(a=>{a.stop(n)}),this._activeSources.set(r,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(i=>{for(;i.length;)i.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,i,r=1){const s=this.toSeconds(i);return this.triggerAttack(e,s,r),Ii(n)?(be(Ii(e),"notes must be an array when duration is array"),e.forEach((a,c)=>{const u=n[Math.min(c,n.length-1)];this.triggerRelease(a,s+this.toSeconds(u))})):this.triggerRelease(e,s+this.toSeconds(n)),this}add(e,n,i){if(be(wu(e)||isFinite(e),`note must be a pitch or midi: ${e}`),wu(e)){const r=new Un(this.context,e).toMidi();this._buffers.add(r,n,i)}else this._buffers.add(e,n,i);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}Wi([Rr(0)],cc.prototype,"attack",void 0);Wi([Rr(0)],cc.prototype,"release",void 0);class Gy extends we{constructor(){const e=ye(Gy.getDefaults(),arguments,["fade"]);super(e),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new K6({context:this.context}),this.a=new ht({context:this.context,gain:0}),this.b=new ht({context:this.context,gain:0}),this.output=new ht({context:this.context}),this._internalChannels=[this.a,this.b],this.fade=new Mt({context:this.context,units:"normalRange",value:e.fade}),rt(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",ds(this._split,this.a.gain,0),ds(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(we.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class T1 extends we{constructor(e){super(e),this.name="Effect",this._dryWet=new Gy({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new ht({context:this.context}),this.effectReturn=new ht({context:this.context}),this.input=new ht({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],rt(this,"wet")}static getDefaults(){return Object.assign(we.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Yy extends we{constructor(){const e=ye(Yy.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new lt({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",rt(this,"pan")}static getDefaults(){return Object.assign(we.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const tB="bit-crusher",nB=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Bk(tB,nB);class Ky extends we{constructor(){const e=ye(Ky.getDefaults(),arguments,["channels"]);super(e),this.name="Merge",this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(we.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class bf extends T1{constructor(){const e=ye(bf.getDefaults(),arguments,["decay"]);super(e),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve(),this._decay=e.decay,this._preDelay=e.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(T1.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(e){e=this.toSeconds(e),Zi(e,.001),this._decay=e,this.generate()}get preDelay(){return this._preDelay}set preDelay(e){e=this.toSeconds(e),Zi(e,0),this._preDelay=e,this.generate()}generate(){return wt(this,void 0,void 0,function*(){const e=this.ready,n=new ff(2,this._decay+this._preDelay,this.context.sampleRate),i=new Eh({context:n}),r=new Eh({context:n}),s=new Ky({context:n});i.connect(s,0,0),r.connect(s,0,1);const a=new ht({context:n}).toDestination();s.connect(a),i.start(0),r.start(0),a.gain.setValueAtTime(0,0),a.gain.setValueAtTime(1,this._preDelay),a.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const c=n.render();return this.ready=c.then(ze),yield e,this._convolver.buffer=(yield c).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class kt extends we{constructor(){const e=ye(kt.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new ht({context:this.context}),kt._allSolos.has(this.context)||kt._allSolos.set(this.context,new Set),kt._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(we.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),kt._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){kt._soloed.has(this.context)||kt._soloed.set(this.context,new Set),kt._soloed.get(this.context).add(this)}_removeSolo(){kt._soloed.has(this.context)&&kt._soloed.get(this.context).delete(this)}_isSoloed(){return kt._soloed.has(this.context)&&kt._soloed.get(this.context).has(this)}_noSolos(){return!kt._soloed.has(this.context)||kt._soloed.has(this.context)&&kt._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),kt._allSolos.get(this.context).delete(this),this._removeSolo(),this}}kt._allSolos=new Map;kt._soloed=new Map;class Xy extends we{constructor(){const e=ye(Xy.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new Yy({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Aa({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,rt(this,["pan","volume"])}static getDefaults(){return Object.assign(we.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Uo extends we{constructor(){const e=ye(Uo.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new kt({solo:e.solo,context:this.context}),this._panVol=this.output=new Xy({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),rt(this,["pan","volume"])}static getDefaults(){return Object.assign(we.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Uo.buses.has(e)||Uo.buses.set(e,new ht({context:this.context})),Uo.buses.get(e)}send(e,n=0){const i=this._getBus(e),r=new ht({context:this.context,units:"decibels",gain:n});return this.connect(r),r.connect(i),r}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Uo.buses=new Map;ui().transport;ui().destination;ui().destination;ui().listener;ui().draw;const iB=ui(),rB="/assets/48-BCFtMywQ.mp3",sB="/assets/49-Ddj0yoG9.mp3",oB="/assets/50-yX7PQD9-.mp3",aB="/assets/51-CWSKD_s-.mp3",lB="/assets/52-CBTlJzSz.mp3",cB="/assets/53-DncwOVTB.mp3",uB="/assets/54-wU7utt3W.mp3",hB="/assets/55-C6g_sqg6.mp3",fB="/assets/56-D5_hl9lv.mp3",dB="/assets/57-pDJ-TcXA.mp3",pB="/assets/58-D3AA6Vst.mp3",mB="/assets/59-DaI1LKuE.mp3",gB="/assets/60-iKc6rjSa.mp3",yB="/assets/61-Bq-r0B-h.mp3",vB="/assets/62-Bc3S1hqb.mp3",_B="/assets/63-CdQQIe30.mp3",wB="/assets/64-DeB1dNXj.mp3",xB="/assets/65-BgyKyc4z.mp3",bB="/assets/66-CDWwedI0.mp3",SB="/assets/67-C5YbFyuv.mp3",kB="/assets/68-BBrvigg3.mp3",CB="/assets/69-5FMyyTRj.mp3",TB="/assets/70-Dxdw9Mr7.mp3",EB="/assets/71-CqDV8zfn.mp3",NB="/assets/72-CMpv1cZt.mp3",AB="/assets/73-VOd4_lL-.mp3",PB="/assets/74-yApYZ4Sk.mp3",IB="/assets/75-DIgxrJLW.mp3",RB="/assets/76-D9VwCfdt.mp3",MB="/assets/77-xWVOSVuG.mp3",OB="/assets/78-Bg4Z-rCF.mp3",DB="/assets/79-CvYdSTJS.mp3",LB="/assets/80-BAmOP_9Q.mp3",FB="/assets/81-aGwW0pvG.mp3",zB="/assets/82-Df9biZtn.mp3",jB="/assets/83-DikVXMSX.mp3",tg={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]};function ng(t,e,n,i=!1){const r=String(e),s=(u,h)=>`\x1B[${h[0]}m${u}\x1B[${h[1]}m`,a=(u,h)=>h!=null&&typeof h=="string"?s(u,tg[h]):h!=null&&Array.isArray(h)?h.reduce((d,p)=>a(d,p),u):h!=null&&h[u.trim()]!=null?a(u,h[u.trim()]):h!=null&&h["*"]!=null?a(u,h["*"]):u,c=null;return r.replace(/{{(.+?)}}/g,(u,h)=>{var p;const d=n[h]!=null?String(n[h]):i?"":u;return t.stylePrettyLogs?a(d,((p=t==null?void 0:t.prettyLogStyles)==null?void 0:p[h])??c)+s("",tg.reset):d})}function ri(t,e=2,n=0){return t!=null&&isNaN(t)?"":(t=t!=null?t+n:t,e===2?t==null?"--":t<10?"0"+t:t.toString():t==null?"---":t<10?"00"+t:t<100?"0"+t:t.toString())}function BB(t){return{href:t.href,protocol:t.protocol,username:t.username,password:t.password,host:t.host,hostname:t.hostname,port:t.port,pathname:t.pathname,search:t.search,searchParams:[...t.searchParams].map(([e,n])=>({key:e,value:n})),hash:t.hash,origin:t.origin}}function Wk(t){const e=new Set;return JSON.stringify(t,(n,i)=>{if(typeof i=="object"&&i!==null){if(e.has(i))return"[Circular]";e.add(i)}return typeof i=="bigint"?`${i}`:i})}function Qt(t,e){const n={seen:[],stylize:Vk};return e!=null&&Hk(n,e),qo(n.showHidden)&&(n.showHidden=!1),qo(n.depth)&&(n.depth=2),qo(n.colors)&&(n.colors=!0),qo(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=VB),Ah(n,t,n.depth)}Qt.colors=tg;Qt.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function WB(t){return typeof t=="boolean"}function qo(t){return t===void 0}function Vk(t){return t}function VB(t,e){var i,r,s,a;const n=Qt.styles[e];return n!=null&&((r=(i=Qt==null?void 0:Qt.colors)==null?void 0:i[n])==null?void 0:r[0])!=null&&((a=(s=Qt==null?void 0:Qt.colors)==null?void 0:s[n])==null?void 0:a[1])!=null?"\x1B["+Qt.colors[n][0]+"m"+t+"\x1B["+Qt.colors[n][1]+"m":t}function bu(t){return typeof t=="function"}function Uk(t){return typeof t=="string"}function UB(t){return typeof t=="number"}function qk(t){return t===null}function $k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Cp(t){return Sf(t)&&Qy(t)==="[object RegExp]"}function Sf(t){return typeof t=="object"&&t!==null}function Tp(t){return Sf(t)&&(Qy(t)==="[object Error]"||t instanceof Error)}function E1(t){return Sf(t)&&Qy(t)==="[object Date]"}function Qy(t){return Object.prototype.toString.call(t)}function qB(t){const e={};return t.forEach(n=>{e[n]=!0}),e}function $B(t,e,n,i,r){const s=[];for(let a=0,c=e.length;a<c;++a)$k(e,String(a))?s.push(ig(t,e,n,i,String(a),!0)):s.push("");return r.forEach(a=>{a.match(/^\d+$/)||s.push(ig(t,e,n,i,a,!0))}),s}function Ep(t){return"["+Error.prototype.toString.call(t)+"]"}function Ah(t,e,n=0){if(t.customInspect&&e!=null&&bu(e)&&(e==null?void 0:e.inspect)!==Qt&&!(e!=null&&e.constructor&&(e==null?void 0:e.constructor.prototype)===e)){if(typeof e.inspect!="function"&&e.toString!=null)return e.toString();let d=e==null?void 0:e.inspect(n,t);return Uk(d)||(d=Ah(t,d,n)),d}const i=qr(t,e);if(i)return i;let r=Object.keys(e);const s=qB(r);try{t.showHidden&&Object.getOwnPropertyNames&&(r=Object.getOwnPropertyNames(e))}catch{}if(Tp(e)&&(r.indexOf("message")>=0||r.indexOf("description")>=0))return Ep(e);if(r.length===0)if(bu(t.stylize)){if(bu(e)){const d=e.name?": "+e.name:"";return t.stylize("[Function"+d+"]","special")}if(Cp(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(E1(e))return t.stylize(Date.prototype.toISOString.call(e),"date");if(Tp(e))return Ep(e)}else return e;let a="",c=!1,u=[`{
`,`
}`];if(Array.isArray(e)&&(c=!0,u=[`[
`,`
]`]),bu(e)&&(a=" [Function"+(e.name?": "+e.name:"")+"]"),Cp(e)&&(a=" "+RegExp.prototype.toString.call(e)),E1(e)&&(a=" "+Date.prototype.toUTCString.call(e)),Tp(e)&&(a=" "+Ep(e)),r.length===0&&(!c||e.length==0))return u[0]+a+u[1];if(n<0)return Cp(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);let h;return c?h=$B(t,e,n,s,r):h=r.map(d=>ig(t,e,n,s,d,c)),t.seen.pop(),HB(h,a,u)}function ig(t,e,n,i,r,s){let a,c,u={value:void 0};try{u.value=e[r]}catch{}try{Object.getOwnPropertyDescriptor&&(u=Object.getOwnPropertyDescriptor(e,r)||u)}catch{}if(u.get?u.set?c=t.stylize("[Getter/Setter]","special"):c=t.stylize("[Getter]","special"):u.set&&(c=t.stylize("[Setter]","special")),$k(i,r)||(a="["+r+"]"),c||(t.seen.indexOf(u.value)<0?(qk(n)?c=Ah(t,u.value,void 0):c=Ah(t,u.value,n-1),c.indexOf(`
`)>-1&&(s?c=c.split(`
`).map(h=>"  "+h).join(`
`).substr(2):c=`
`+c.split(`
`).map(h=>"   "+h).join(`
`))):c=t.stylize("[Circular]","special")),qo(a)){if(s&&r.match(/^\d+$/))return c;a=JSON.stringify(""+r),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,"\\'").replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+c}function qr(t,e){if(qo(e))return t.stylize("undefined","undefined");if(Uk(e)){const n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,"\\'")+"'";return t.stylize(n,"string")}if(UB(e))return t.stylize(""+e,"number");if(WB(e))return t.stylize(""+e,"boolean");if(qk(e))return t.stylize("null","null")}function HB(t,e,n){return n[0]+(e===""?"":e+`
`)+"  "+t.join(`,
  `)+" "+n[1]}function Hk(t,e){const n={...t};if(!e||!Sf(e))return t;const i={...e},r=Object.keys(e);let s=r.length;for(;s--;)n[r[s]]=i[r[s]];return n}function GB(t,...e){const n={seen:[],stylize:Vk};t!=null&&Hk(n,t);const i=e[0];let r=0,s="",a="";if(typeof i=="string"){if(e.length===1)return i;let c,u=0;for(let h=0;h<i.length-1;h++)if(i.charCodeAt(h)===37){const d=i.charCodeAt(++h);if(r+1!==e.length){switch(d){case 115:{const p=e[++r];typeof p=="number"||typeof p=="bigint"?c=qr(n,p):typeof p!="object"||p===null?c=String(p):c=Qt(p,{...t,compact:3,colors:!1,depth:0});break}case 106:c=Wk(e[++r]);break;case 100:{const p=e[++r];typeof p=="bigint"?c=qr(n,p):typeof p=="symbol"?c="NaN":c=qr(n,p);break}case 79:c=Qt(e[++r],t);break;case 111:c=Qt(e[++r],{...t,showHidden:!0,showProxy:!0,depth:4});break;case 105:{const p=e[++r];typeof p=="bigint"?c=qr(n,p):typeof p=="symbol"?c="NaN":c=qr(n,parseInt(c));break}case 102:{const p=e[++r];typeof p=="symbol"?c="NaN":c=qr(n,parseInt(p));break}case 99:r+=1,c="";break;case 37:s+=i.slice(u,h),u=h+1;continue;default:continue}u!==h-1&&(s+=i.slice(u,h-1)),s+=c,u=h+1}else d===37&&(s+=i.slice(u,h),u=h+1)}u!==0&&(r++,a=" ",u<i.length&&(s+=i.slice(u)))}for(;r<e.length;){const c=e[r];s+=a,s+=typeof c!="string"?Qt(c,t):c,a=" ",r++}return s}const YB={getCallerStackFrame:Gk,getErrorTrace:Yk,getMeta:QB,transportJSON:e5,transportFormatted:JB,isBuffer:t5,isError:Xk,prettyFormatLogObj:ZB,prettyFormatErrorObj:Qk};var Z1;const KB={runtime:[typeof window,typeof document].includes("undefined")?"Generic":"Browser",browser:(Z1=globalThis==null?void 0:globalThis.navigator)==null?void 0:Z1.userAgent},XB=/(?:(?:file|https?|global code|[^@]+)@)?(?:file:)?((?:\/[^:/]+){2,})(?::(\d+))?(?::(\d+))?/;function QB(t,e,n,i,r,s){return Object.assign({},KB,{name:r,parentNames:s,date:new Date,logLevelId:t,logLevelName:e,path:i?void 0:Gk(n)})}function Gk(t,e=Error()){var n,i,r;return Kk((r=(i=(n=e==null?void 0:e.stack)==null?void 0:n.split(`
`))==null?void 0:i.filter(s=>!s.includes("Error: ")))==null?void 0:r[t])}function Yk(t){var e,n,i;return(i=(n=((e=t==null?void 0:t.stack)==null?void 0:e.split(`
`))??[])==null?void 0:n.filter(r=>!r.includes("Error: ")))==null?void 0:i.reduce((r,s)=>(r.push(Kk(s)),r),[])}function Kk(t){var i;const e=(i=globalThis==null?void 0:globalThis.location)==null?void 0:i.origin,n={fullFilePath:void 0,fileName:void 0,fileNameWithLine:void 0,fileColumn:void 0,fileLine:void 0,filePath:void 0,filePathWithLine:void 0,method:void 0};if(t!=null){const r=t.match(XB);if(r){n.filePath=r[1].replace(/\?.*$/,""),n.fullFilePath=`${e}${n.filePath}`;const s=n.filePath.split("/");n.fileName=s[s.length-1],n.fileLine=r[2],n.fileColumn=r[3],n.filePathWithLine=`${n.filePath}:${n.fileLine}`,n.fileNameWithLine=`${n.fileName}:${n.fileLine}`}}return n}function Xk(t){return t instanceof Error}function ZB(t,e){return t.reduce((n,i)=>(Xk(i)?n.errors.push(Qk(i,e)):n.args.push(i),n),{args:[],errors:[]})}function Qk(t,e){const n=Yk(t).map(r=>ng(e,e.prettyErrorStackTemplate,{...r},!0)),i={errorName:` ${t.name} `,errorMessage:Object.getOwnPropertyNames(t).reduce((r,s)=>(s!=="stack"&&r.push(t[s]),r),[]).join(", "),errorStack:n.join(`
`)};return ng(e,e.prettyErrorTemplate,i)}function JB(t,e,n,i){const r=(n.length>0&&e.length>0?`
`:"")+n.join(`
`);i.prettyInspectOptions.colors=i.stylePrettyLogs,console.log(t+GB(i.prettyInspectOptions,...e)+r)}function e5(t){console.log(Wk(t))}function t5(t){return!1}class n5{constructor(e,n,i=4){var r,s,a,c,u,h,d,p;this.logObj=n,this.stackDepthLevel=i,this.runtime=YB,this.settings={type:(e==null?void 0:e.type)??"pretty",name:e==null?void 0:e.name,parentNames:e==null?void 0:e.parentNames,minLevel:(e==null?void 0:e.minLevel)??0,argumentsArrayName:e==null?void 0:e.argumentsArrayName,hideLogPositionForProduction:(e==null?void 0:e.hideLogPositionForProduction)??!1,prettyLogTemplate:(e==null?void 0:e.prettyLogTemplate)??"{{yyyy}}.{{mm}}.{{dd}} {{hh}}:{{MM}}:{{ss}}:{{ms}}	{{logLevelName}}	{{filePathWithLine}}{{nameWithDelimiterPrefix}}	",prettyErrorTemplate:(e==null?void 0:e.prettyErrorTemplate)??`
{{errorName}} {{errorMessage}}
error stack:
{{errorStack}}`,prettyErrorStackTemplate:(e==null?void 0:e.prettyErrorStackTemplate)??`   {{fileName}}	{{method}}
	{{filePathWithLine}}`,prettyErrorParentNamesSeparator:(e==null?void 0:e.prettyErrorParentNamesSeparator)??":",prettyErrorLoggerNameDelimiter:(e==null?void 0:e.prettyErrorLoggerNameDelimiter)??"	",stylePrettyLogs:(e==null?void 0:e.stylePrettyLogs)??!0,prettyLogTimeZone:(e==null?void 0:e.prettyLogTimeZone)??"UTC",prettyLogStyles:(e==null?void 0:e.prettyLogStyles)??{logLevelName:{"*":["bold","black","bgWhiteBright","dim"],SILLY:["bold","white"],TRACE:["bold","whiteBright"],DEBUG:["bold","green"],INFO:["bold","blue"],WARN:["bold","yellow"],ERROR:["bold","red"],FATAL:["bold","redBright"]},dateIsoStr:"white",filePathWithLine:"white",name:["white","bold"],nameWithDelimiterPrefix:["white","bold"],nameWithDelimiterSuffix:["white","bold"],errorName:["bold","bgRedBright","whiteBright"],fileName:["yellow"],fileNameWithLine:"white"},prettyInspectOptions:(e==null?void 0:e.prettyInspectOptions)??{colors:!0,compact:!1,depth:1/0},metaProperty:(e==null?void 0:e.metaProperty)??"_meta",maskPlaceholder:(e==null?void 0:e.maskPlaceholder)??"[***]",maskValuesOfKeys:(e==null?void 0:e.maskValuesOfKeys)??["password"],maskValuesOfKeysCaseInsensitive:(e==null?void 0:e.maskValuesOfKeysCaseInsensitive)??!1,maskValuesRegEx:e==null?void 0:e.maskValuesRegEx,prefix:[...(e==null?void 0:e.prefix)??[]],attachedTransports:[...(e==null?void 0:e.attachedTransports)??[]],overwrite:{mask:(r=e==null?void 0:e.overwrite)==null?void 0:r.mask,toLogObj:(s=e==null?void 0:e.overwrite)==null?void 0:s.toLogObj,addMeta:(a=e==null?void 0:e.overwrite)==null?void 0:a.addMeta,addPlaceholders:(c=e==null?void 0:e.overwrite)==null?void 0:c.addPlaceholders,formatMeta:(u=e==null?void 0:e.overwrite)==null?void 0:u.formatMeta,formatLogObj:(h=e==null?void 0:e.overwrite)==null?void 0:h.formatLogObj,transportFormatted:(d=e==null?void 0:e.overwrite)==null?void 0:d.transportFormatted,transportJSON:(p=e==null?void 0:e.overwrite)==null?void 0:p.transportJSON}}}log(e,n,...i){var p,g,y,w,b,T,v,S,k,A,N,R,M,I;if(e<this.settings.minLevel)return;const r=[...this.settings.prefix,...i],s=((p=this.settings.overwrite)==null?void 0:p.mask)!=null?(g=this.settings.overwrite)==null?void 0:g.mask(r):this.settings.maskValuesOfKeys!=null&&this.settings.maskValuesOfKeys.length>0?this._mask(r):r,a=this.logObj!=null?this._recursiveCloneAndExecuteFunctions(this.logObj):void 0,c=((y=this.settings.overwrite)==null?void 0:y.toLogObj)!=null?(w=this.settings.overwrite)==null?void 0:w.toLogObj(s,a):this._toLogObj(s,a),u=((b=this.settings.overwrite)==null?void 0:b.addMeta)!=null?(T=this.settings.overwrite)==null?void 0:T.addMeta(c,e,n):this._addMetaToLogObj(c,e,n);let h,d;return((v=this.settings.overwrite)==null?void 0:v.formatMeta)!=null&&(h=(S=this.settings.overwrite)==null?void 0:S.formatMeta(u==null?void 0:u[this.settings.metaProperty])),((k=this.settings.overwrite)==null?void 0:k.formatLogObj)!=null&&(d=(A=this.settings.overwrite)==null?void 0:A.formatLogObj(s,this.settings)),this.settings.type==="pretty"&&(h=h??this._prettyFormatLogObjMeta(u==null?void 0:u[this.settings.metaProperty]),d=d??this.runtime.prettyFormatLogObj(s,this.settings)),h!=null&&d!=null?((N=this.settings.overwrite)==null?void 0:N.transportFormatted)!=null?(R=this.settings.overwrite)==null||R.transportFormatted(h,d.args,d.errors,this.settings):this.runtime.transportFormatted(h,d.args,d.errors,this.settings):((M=this.settings.overwrite)==null?void 0:M.transportJSON)!=null?(I=this.settings.overwrite)==null||I.transportJSON(u):this.settings.type!=="hidden"&&this.runtime.transportJSON(u),this.settings.attachedTransports!=null&&this.settings.attachedTransports.length>0&&this.settings.attachedTransports.forEach(j=>{j(u)}),u}attachTransport(e){this.settings.attachedTransports.push(e)}getSubLogger(e,n){var s,a,c;const i={...this.settings,...e,parentNames:((s=this.settings)==null?void 0:s.parentNames)!=null&&((a=this.settings)==null?void 0:a.name)!=null?[...this.settings.parentNames,this.settings.name]:((c=this.settings)==null?void 0:c.name)!=null?[this.settings.name]:void 0,prefix:[...this.settings.prefix,...(e==null?void 0:e.prefix)??[]]};return new this.constructor(i,n??this.logObj,this.stackDepthLevel)}_mask(e){const n=this.settings.maskValuesOfKeysCaseInsensitive!==!0?this.settings.maskValuesOfKeys:this.settings.maskValuesOfKeys.map(i=>i.toLowerCase());return e==null?void 0:e.map(i=>this._recursiveCloneAndMaskValuesOfKeys(i,n))}_recursiveCloneAndMaskValuesOfKeys(e,n,i=[]){var r,s;if(i.includes(e))return{...e};if(typeof e=="object"&&e!==null&&i.push(e),this.runtime.isError(e)||this.runtime.isBuffer(e))return e;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(Array.isArray(e))return e.map(a=>this._recursiveCloneAndMaskValuesOfKeys(a,n,i));if(e instanceof Date)return new Date(e.getTime());if(e instanceof URL)return BB(e);if(e!==null&&typeof e=="object"){const a=this.runtime.isError(e)?this._cloneError(e):Object.create(Object.getPrototypeOf(e));return Object.getOwnPropertyNames(e).reduce((c,u)=>{var h;return c[u]=n.includes(((h=this.settings)==null?void 0:h.maskValuesOfKeysCaseInsensitive)!==!0?u:u.toLowerCase())?this.settings.maskPlaceholder:(()=>{try{return this._recursiveCloneAndMaskValuesOfKeys(e[u],n,i)}catch{return null}})(),c},a)}else{if(typeof e=="string"){let a=e;for(const c of((r=this.settings)==null?void 0:r.maskValuesRegEx)||[])a=a.replace(c,((s=this.settings)==null?void 0:s.maskPlaceholder)||"");return a}return e}}_recursiveCloneAndExecuteFunctions(e,n=[]){return this.isObjectOrArray(e)&&n.includes(e)?this.shallowCopy(e):(this.isObjectOrArray(e)&&n.push(e),Array.isArray(e)?e.map(i=>this._recursiveCloneAndExecuteFunctions(i,n)):e instanceof Date?new Date(e.getTime()):this.isObject(e)?Object.getOwnPropertyNames(e).reduce((i,r)=>{const s=Object.getOwnPropertyDescriptor(e,r);if(s){Object.defineProperty(i,r,s);const a=e[r];i[r]=typeof a=="function"?a():this._recursiveCloneAndExecuteFunctions(a,n)}return i},Object.create(Object.getPrototypeOf(e))):e)}isObjectOrArray(e){return typeof e=="object"&&e!==null}isObject(e){return typeof e=="object"&&!Array.isArray(e)&&e!==null}shallowCopy(e){return Array.isArray(e)?[...e]:{...e}}_toLogObj(e,n={}){return e=e==null?void 0:e.map(i=>this.runtime.isError(i)?this._toErrorObject(i):i),this.settings.argumentsArrayName==null?e.length===1&&!Array.isArray(e[0])&&this.runtime.isBuffer(e[0])!==!0&&!(e[0]instanceof Date)?n=typeof e[0]=="object"&&e[0]!=null?{...e[0],...n}:{0:e[0],...n}:n={...n,...e}:n={...n,[this.settings.argumentsArrayName]:e},n}_cloneError(e){const n=new e.constructor;return Object.getOwnPropertyNames(e).forEach(i=>{n[i]=e[i]}),n}_toErrorObject(e){return{nativeError:e,name:e.name??"Error",message:e.message,stack:this.runtime.getErrorTrace(e)}}_addMetaToLogObj(e,n,i){return{...e,[this.settings.metaProperty]:this.runtime.getMeta(n,i,this.stackDepthLevel,this.settings.hideLogPositionForProduction,this.settings.name,this.settings.parentNames)}}_prettyFormatLogObjMeta(e){var a,c,u,h,d,p,g,y,w,b,T,v,S,k,A,N,R,M,I,j,z,W;if(e==null)return"";let n=this.settings.prettyLogTemplate;const i={};n.includes("{{yyyy}}.{{mm}}.{{dd}} {{hh}}:{{MM}}:{{ss}}:{{ms}}")?n=n.replace("{{yyyy}}.{{mm}}.{{dd}} {{hh}}:{{MM}}:{{ss}}:{{ms}}","{{dateIsoStr}}"):this.settings.prettyLogTimeZone==="UTC"?(i.yyyy=((a=e==null?void 0:e.date)==null?void 0:a.getUTCFullYear())??"----",i.mm=ri((c=e==null?void 0:e.date)==null?void 0:c.getUTCMonth(),2,1),i.dd=ri((u=e==null?void 0:e.date)==null?void 0:u.getUTCDate(),2),i.hh=ri((h=e==null?void 0:e.date)==null?void 0:h.getUTCHours(),2),i.MM=ri((d=e==null?void 0:e.date)==null?void 0:d.getUTCMinutes(),2),i.ss=ri((p=e==null?void 0:e.date)==null?void 0:p.getUTCSeconds(),2),i.ms=ri((g=e==null?void 0:e.date)==null?void 0:g.getUTCMilliseconds(),3)):(i.yyyy=((y=e==null?void 0:e.date)==null?void 0:y.getFullYear())??"----",i.mm=ri((w=e==null?void 0:e.date)==null?void 0:w.getMonth(),2,1),i.dd=ri((b=e==null?void 0:e.date)==null?void 0:b.getDate(),2),i.hh=ri((T=e==null?void 0:e.date)==null?void 0:T.getHours(),2),i.MM=ri((v=e==null?void 0:e.date)==null?void 0:v.getMinutes(),2),i.ss=ri((S=e==null?void 0:e.date)==null?void 0:S.getSeconds(),2),i.ms=ri((k=e==null?void 0:e.date)==null?void 0:k.getMilliseconds(),3));const r=this.settings.prettyLogTimeZone==="UTC"?e==null?void 0:e.date:new Date(((A=e==null?void 0:e.date)==null?void 0:A.getTime())-((N=e==null?void 0:e.date)==null?void 0:N.getTimezoneOffset())*6e4);i.rawIsoStr=r==null?void 0:r.toISOString(),i.dateIsoStr=r==null?void 0:r.toISOString().replace("T"," ").replace("Z",""),i.logLevelName=e==null?void 0:e.logLevelName,i.fileNameWithLine=((R=e==null?void 0:e.path)==null?void 0:R.fileNameWithLine)??"",i.filePathWithLine=((M=e==null?void 0:e.path)==null?void 0:M.filePathWithLine)??"",i.fullFilePath=((I=e==null?void 0:e.path)==null?void 0:I.fullFilePath)??"";let s=(j=this.settings.parentNames)==null?void 0:j.join(this.settings.prettyErrorParentNamesSeparator);return s=s!=null&&(e==null?void 0:e.name)!=null?s+this.settings.prettyErrorParentNamesSeparator:void 0,i.name=(e==null?void 0:e.name)!=null||s!=null?(s??"")+(e==null?void 0:e.name):"",i.nameWithDelimiterPrefix=i.name.length>0?this.settings.prettyErrorLoggerNameDelimiter+i.name:"",i.nameWithDelimiterSuffix=i.name.length>0?i.name+this.settings.prettyErrorLoggerNameDelimiter:"",((z=this.settings.overwrite)==null?void 0:z.addPlaceholders)!=null&&((W=this.settings.overwrite)==null||W.addPlaceholders(e,i)),ng(this.settings,n,i)}}class i5 extends n5{constructor(e,n){const i=typeof window<"u"&&typeof document<"u",r=i?window.chrome!==void 0&&window.CSS!==void 0&&window.CSS.supports("color","green"):!1,s=i?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1;e=e||{},e.stylePrettyLogs=e.stylePrettyLogs&&i&&!r?!1:e.stylePrettyLogs,super(e,n,s?4:5)}log(e,n,...i){return super.log(e,n,...i)}silly(...e){return super.log(0,"SILLY",...e)}trace(...e){return super.log(1,"TRACE",...e)}debug(...e){return super.log(2,"DEBUG",...e)}info(...e){return super.log(3,"INFO",...e)}warn(...e){return super.log(4,"WARN",...e)}error(...e){return super.log(5,"ERROR",...e)}fatal(...e){return super.log(6,"FATAL",...e)}getSubLogger(e,n){return super.getSubLogger(e,n)}}const N1=new i5({name:"-",minLevel:2}),r5={48:rB,49:sB,50:oB,51:aB,52:lB,53:cB,54:uB,55:hB,56:fB,57:dB,58:pB,59:mB,60:gB,61:yB,62:vB,63:_B,64:wB,65:xB,66:bB,67:SB,68:kB,69:CB,70:TB,71:EB,72:NB,73:AB,74:PB,75:IB,76:RB,77:MB,78:OB,79:DB,80:LB,81:FB,82:zB,83:jB},s5=new bf({decay:5,preDelay:.01,wet:.8}).toDestination(),Zy=new cc({urls:r5,release:.5,onload:()=>{N1.debug("All samples loaded successfully")},onerror:t=>{N1.warn("Error loading sample:",t)}}).connect(s5);Zy.volume.value=16;const o5=async()=>{iB.state!=="running"&&await O6()},a5=async t=>{await o5();const e=Fk(t,"midi").toNote();Zy.triggerAttack(e)},l5=t=>{const e=Fk(t,"midi").toNote();Zy.triggerRelease(e)};function c5(t){return["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"][t%12].includes("#")}function u5(t,e,n){let i=t,r=0,s=[];for(;r<n.length&&i<=e;){const a=n[r];c5(i)?s.push({key:a.flat,midiNumber:i}):(s.push({key:a.natural,midiNumber:i}),r+=1),i+=1}return s}const Zk=[{natural:"z",flat:"a",sharp:"s"},{natural:"x",flat:"s",sharp:"d"},{natural:"c",flat:"d",sharp:"v"},{natural:"v",flat:"c",sharp:"1"},{natural:"q",flat:"1",sharp:"2"},{natural:"w",flat:"2",sharp:"3"},{natural:"e",flat:"3",sharp:"4"},{natural:"r",flat:"4",sharp:"5"},{natural:"t",flat:"5",sharp:"6"},{natural:"y",flat:"6",sharp:"7"},{natural:"u",flat:"7",sharp:"8"},{natural:"i",flat:"8",sharp:"9"},{natural:"o",flat:"9",sharp:"0"},{natural:"p",flat:"0",sharp:"-"},{natural:"[",flat:"-",sharp:"="},{natural:"]",flat:"=",sharp:"Backspace"},{natural:"\\",flat:"Backspace",sharp:""},{natural:"m",flat:"\\",sharp:"k"},{natural:",",flat:"k",sharp:"l"},{natural:".",flat:"l",sharp:";"},{natural:"/",flat:";",sharp:"'"}],$o={instrumentName:"acoustic_grand_piano",noteRange:{first:48,last:83},keyboardShortcutOffset:0};function h5(){return u5($o.noteRange.first+$o.keyboardShortcutOffset,$o.noteRange.last+$o.keyboardShortcutOffset,Zk)}const f5=({width:t=window.innerWidth,visibleThres:e=window.innerWidth*.5,isVisible:n=!0})=>{G.useEffect(()=>{const r=()=>{};return window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}},[e]);const i=h5();return _.jsx("div",{className:"piano-holder",style:{height:.15*t,textAlign:"center",color:"black"},children:n&&_.jsxs(_.Fragment,{children:[_.jsx(MS,{noteRange:$o.noteRange,width:t,keyboardShortcuts:i,keyboardShortcutOffset:$o.keyboardShortcutOffset,playNote:a5,stopNote:l5}),_.jsxs("span",{style:{fontSize:.009*t},children:["Powered by"," ",_.jsx("a",{href:"https://github.com/kevinsqi/react-piano/tree/master",target:"_blank",rel:"noopener noreferrer",children:"react-piano"})]})]})})},d5="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7%2010L12%2015L17%2010'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";function p5(){const[t,e]=G.useState(window.innerHeight<document.body.scrollHeight),[n,i]=G.useState(!0),r=()=>{e(window.innerHeight<document.body.scrollHeight)},s=()=>{i(window.scrollY<=0)};return G.useEffect(()=>(r(),window.addEventListener("resize",r),window.addEventListener("scroll",s),()=>{window.removeEventListener("resize",r),window.removeEventListener("scroll",s)}),[]),_.jsx("div",{className:`scroll-arrow ${n?"":"hidden"}`,children:t&&_.jsx("img",{src:d5,style:{width:"100%"}})})}const A1=["C4","D4","E4","F4","G4","A4","B4","C5"],m5=new bf({decay:5,preDelay:.01,wet:1}).toDestination(),P1=new Wl().connect(m5),g5=()=>{const t=A1[Math.floor(Math.random()*A1.length)],e=P1.envelope;e.attack=.01,e.decay=.1,e.sustain=.1,e.release=.1,P1.triggerAttackRelease(t,"8n")};function I1(t,e){return t.x2*1.1+e}function y5(t,e){const n=t.x2,i=.1*n,r=e,s=.48*n+r,a=.79*n+r,c=.63*n+r,u=.93*n+r,h=u+.187*n,d=0;return{baseCurve:`
            M ${d} ${h}
            L ${d} ${i}
            Q ${d} 1 
              ${.22*n+d} 1
            Q ${.58*n+d} 1 
              ${.62*n+d} ${i}

            L ${.67*n+d} ${s} 

            C ${.72*n+d} ${a} 
              ${.98*n+d} ${c}
              ${n+d} ${u}
            
            V ${h}
            `}}function Jk(t){return t.x2/6}function v5(){console.log("Test test"),g5()}const uc=({primaryColor:t="#333333",maxScrollThres:e=window.innerWidth/3,children:n,title:i,id:r,disableSection:s=!1,disablePiano:a=!1,sectionVisibleThres:c=0+screen.availHeight*.2})=>{const u=xa(),h=y5(u,e);return _.jsxs("div",{className:"piano-frame",id:r,style:{height:I1(u,e),paddingTop:0},children:[i&&_.jsxs("div",{className:"title",children:[_.jsx("p",{style:{paddingTop:Jk(u),fontSize:.04*u.x2,color:"black"},children:_.jsx("span",{children:i})}),_.jsx("hr",{style:{width:"50%",margin:"0 auto"}})]}),_.jsx(p5,{}),_.jsxs("svg",{className:"full-size",onClick:v5,style:{},children:[_.jsxs("defs",{children:[_.jsxs("linearGradient",{id:"elegantGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[_.jsx("stop",{offset:"0%",stopColor:t,stopOpacity:"0.4"}),_.jsx("stop",{offset:"50%",stopColor:"#248753a4",stopOpacity:"0.8"}),_.jsx("stop",{offset:"100%",stopColor:t,stopOpacity:"0.4"})]}),_.jsxs("filter",{id:"mainGlow",children:[_.jsx("feGaussianBlur",{stdDeviation:3,result:"coloredBlur"}),_.jsxs("feMerge",{children:[_.jsx("feMergeNode",{in:"coloredBlur"}),_.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),_.jsxs("filter",{id:"subtleGlow",x:"-100%",y:"-100%",width:"300%",height:"300%",children:[_.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:8,result:"blur"}),_.jsx("feColorMatrix",{in:"blur",type:"matrix",values:`
                1 0 0 0 0
                0 1 0 0 0
                0 0 1 0 0
                0 0 0 15 -7
              `})]})]}),_.jsx("path",{d:h.baseCurve,fill:"none",stroke:t,strokeWidth:"12",strokeOpacity:"0.05",filter:"url(#subtleGlow)"}),_.jsxs("g",{className:"transition-all duration-300 ease-out",children:[_.jsx("path",{d:h.baseCurve,fill:"none",stroke:"url(#elegantGradient)",strokeWidth:"3",filter:"url(#mainGlow)"}),_.jsx("path",{d:h.baseCurve,fill:"none",stroke:"url(#shimmerGradient)",strokeWidth:"3",opacity:"0.3"})]})]}),!s&&_.jsx(UD,{visibleThres:c,scrollThres:e+u.x2*.4,width:u.x2}),_.jsx(f5,{width:u.x2,visibleThres:I1(u,e)-u.y2,isVisible:!a}),n]})},_5="/assets/photo_life_circle-BmJsoaFJ.png",w5=()=>{const t=xa();return _.jsxs(_.Fragment,{children:[_.jsx("img",{src:_5,style:{width:t.x2/6,left:t.x2/4.5,top:t.x2/10,borderWidth:t.x2/300},className:"profile-img"}),_.jsx("p",{className:"bio",style:{left:t.x2/3,top:t.x2/2.7,fontSize:t.x2/70,width:t.x2/2},children:"My name is Linzan Ye. I hold dual bachelor's degrees in Data Science and Music from the University of Rochester. As a music enthusiast, I am fascinated by how music helps us communicate our emotions and connect with others. My goal is to contribute to the development of AI companions that help minimize the barriers to self-expression."}),_.jsx(uc,{id:"aboutframe",maxScrollThres:0})]})},x5=({twitterUrl:t,githubUrl:e,emailAddress:n})=>_.jsxs("div",{className:"flex space-x-4 items-center justify-center my-4",children:[_.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"relative z-10 text-blue-500 hover:text-blue-600 transition-colors transform hover:scale-110 active:scale-95","aria-label":"Twitter Profile",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:_.jsx("path",{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H1.474l8.6-9.83L0 1.154h7.594l5.243 6.932L18.901 1.153zm-1.473 19.347h2.034L5.657 3.227H3.474L17.428 20.5z"})})}),_.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"relative z-10 text-gray-800 hover:text-gray-700 transition-colors transform hover:scale-110 active:scale-95","aria-label":"GitHub Profile",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:_.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})}),_.jsx("a",{href:`mailto:${n}`,className:"relative z-10 text-red-500 hover:text-red-600 transition-colors transform hover:scale-110 active:scale-95","aria-label":"Email",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:_.jsx("path",{d:"M0 3v18h24v-18h-24zm6.623 7.929l-4.623 5.712v-9.458l4.623 3.746zm-4.141-5.929h19.035l-9.517 7.713-9.518-7.713zm5.694 7.188l3.824 3.099 3.833-3.1 5.682 6.812h-19.169l5.83-6.811zm9.412-1.189l4.646-3.778v9.342l-4.646-5.564z"})})})]}),b5=()=>{const t=xa();return _.jsxs("div",{style:{position:"absolute",width:t.x2/2,top:Jk(t),left:t.x2/15,textAlign:"center"},children:[_.jsxs("p",{style:{paddingTop:0,fontSize:.04*t.x2,color:"black"},children:[_.jsx("span",{children:"Linzan"}),"",_.jsx("span",{style:{fontWeight:"lighter"},children:"Ye"})]}),_.jsxs("p",{className:"pb-5",style:{color:"black",paddingTop:t.x2*.1,paddingLeft:.06*t.x2,paddingRight:.06*t.x2,display:"grid"},children:[_.jsx("span",{style:{fontSize:.012*t.x2},children:"Hello! I'm Linzan."}),_.jsx("span",{style:{fontSize:.013*t.x2},children:"I am obsessed about music."}),_.jsx("span",{style:{fontSize:.015*t.x2},children:"I am also an engineer and researcher."}),_.jsx("span",{style:{fontSize:.017*t.x2},children:_.jsx("i",{children:'"Music as moments of transcendence"'})})]}),_.jsx(x5,{twitterUrl:"https://x.com/0Kurono_0",githubUrl:"https://github.com/lynnzye/",emailAddress:"kurono_s@outlook.com"})]})},S5=()=>_.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-gray-50",children:_.jsxs("div",{className:"max-w-md text-center space-y-6",children:[_.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Linzan Ye"}),_.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg space-y-4",children:[_.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:" Mobile Version in Development"}),_.jsx("p",{className:"text-gray-600",children:"The mobile version is currently being optimized for the best experience. Please visit on a desktop device for the full experience."}),_.jsxs("div",{className:"pt-4 space-y-3",children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Quick Links:"}),_.jsxs("div",{className:"flex flex-col space-y-2",children:[_.jsx(ci,{to:"/about",className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"About"}),_.jsx(ci,{to:"/projects",className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Projects"}),_.jsx(ci,{to:"/music",className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Music"}),_.jsx("a",{href:"mailto:kurono_s@outlook.com",className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Contact"})]})]})]}),_.jsx("div",{className:"mt-6 text-gray-600",children:_.jsx("i",{children:'"Music as moments of transcendence"'})})]})});function R1(){const[t,e]=G.useState("desktop");return G.useEffect(()=>{const n=()=>{const i=window.innerWidth;i<780?e("mobile"):i<1024?e("tablet"):e("desktop")};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),_.jsxs(_.Fragment,{children:[(t==="desktop"||t==="tablet")&&_.jsxs(_.Fragment,{children:[_.jsx(bS,{}),_.jsx(b5,{}),_.jsx(uc,{maxScrollThres:0,id:"homeframe"})]}),t==="mobile"&&_.jsx(S5,{})]})}const k5=({music:t})=>{const e=xa(),[n,i]=G.useState("all"),[r,s]=G.useState(t),a=G.useRef(null),c=G.useRef(null),[u,h]=G.useState(0),[d,p]=G.useState(0);return G.useEffect(()=>{s(n==="all"?t:t.filter(g=>g.type===n))},[n,t]),G.useEffect(()=>{const g=()=>{if(a.current){const w=a.current.offsetWidth;h(w*.04)}},y=()=>{if(c.current){const w=c.current.offsetHeight;p(w)}};return g(),y(),window.addEventListener("resize",g),window.addEventListener("resize",y),()=>{window.removeEventListener("resize",g),window.removeEventListener("resize",y)}},[]),_.jsxs(uc,{maxScrollThres:d,title:"Music",id:"proj_frame",sectionVisibleThres:d/1.8,children:[_.jsxs("div",{className:"filter-bar",style:{top:e.x2/4,left:e.x2/3.3},children:[_.jsx("div",{className:`filter-item ${n==="all"?"active":""}`,style:{fontSize:e.x2/60},onClick:()=>i("all"),children:"All"}),_.jsx("div",{className:`filter-item ${n==="composition"?"active":""}`,style:{fontSize:e.x2/60},onClick:()=>i("composition"),children:"Compositions"}),_.jsx("div",{className:`filter-item ${n==="performance"?"active":""}`,style:{fontSize:e.x2/60},onClick:()=>i("performance"),children:"Performances"}),_.jsx("div",{className:`filter-item ${n==="improvisation"?"active":""}`,style:{fontSize:e.x2/60},onClick:()=>i("improvisation"),children:"Improvisations"})]}),_.jsx("div",{className:"music-container",ref:c,style:{top:e.x2*.3},children:r.map(g=>_.jsx(ci,{to:g.link,target:"_blank",rel:"noopener noreferrer",children:_.jsxs("div",{className:"music-card",ref:a,children:[_.jsx("img",{src:g.img,alt:g.title}),_.jsxs("div",{className:"music-card-content",children:[_.jsx("h2",{children:g.title}),_.jsx("p",{style:{fontSize:u},children:g.brief})]})]})},g.id))})]})},C5=({projects:t})=>{const e=G.useRef(null),[n,i]=G.useState(0),r=G.useRef(null),[s,a]=G.useState(0),c=xa();return G.useEffect(()=>{const u=()=>{if(e.current){const d=e.current.offsetWidth;i(d*.05)}},h=()=>{if(r.current){const d=r.current.offsetHeight;a(d)}};return u(),h(),window.addEventListener("resize",u),window.addEventListener("resize",h),()=>{window.removeEventListener("resize",u),window.removeEventListener("resize",h)}},[]),_.jsx(uc,{maxScrollThres:s,title:"Projects",id:"proj_frame",sectionVisibleThres:s/1.7,children:_.jsx("div",{className:"project-container",ref:r,style:{top:c.x2*.3},children:t.map(u=>_.jsx(ci,{to:u.link,target:"_blank",rel:"noopener noreferrer",children:_.jsxs("div",{className:"project-card",ref:e,children:[_.jsx("img",{src:u.img}),_.jsxs("div",{className:"project-card-content",children:[_.jsx("h2",{children:u.title}),_.jsx("p",{style:{fontSize:n},children:u.brief})]})]})},u.id))})})},T5="/assets/maskexp-Bs6oM8-q.png",E5="/assets/dpf-ZN1X9ZlK.jpeg",N5="/assets/et-SJlu2i1h.png",A5="/assets/chordsense-DXI9nJQB.png",P5="/assets/pico-atQXsqkd.webp",I5="/assets/rhymatcher-BU221E6i.jpg",R5={id:1,img:I5,title:"Rhythmic Matcher",brief:`... is an intuitive transcriber.
 Match touch signals to a musical score. 
(In progress)`,link:"/proj/rhymatcher"},M5={id:1,img:T5,title:"Masked Expressiveness",brief:"Infilling piano key striking velocity based on surrounding expressive parameters",link:"/proj/maskexp"},O5={id:2,img:A5,title:"Chord Sense",brief:"Embark on a harmonic journey towards a certain chord progression by interacting with transformers",link:"/proj/chordsense"},D5={id:3,img:P5,title:"Piano Conductor",brief:"Create artful piano performances by touch signals. Unleash your creative potential with minimal technical distractions.",link:"/proj/pico"},L5={id:3,img:N5,title:"Extraterrestrial Vistor",brief:`Algorithmic composition using Nyquist for programming 
 Collaborator: Tinke Zhang`,link:"/proj/etvisitor"},F5={id:3,img:E5,title:"Vnomics - DPF Failure Prediction",brief:`We used autoencoder's reconstruction loss to differentiate between working and failing filters to predict DPF failure. 
I was responsible for the model setup and hyperparameter tuning.`,link:"https://github.com/mtaruno/vnomics"},z5=[R5,M5,O5,D5,L5,F5],j5="/assets/concerto-BHqP3Okw.png",B5="/assets/scherzo-CnVt0wbW.png",W5="/assets/kzn-BHZ7pVy_.png",V5="/assets/in_search_of_beauty-D8ftDSQL.jpg",U5="/assets/being_towards_death-jIuGAnJ1.png",q5="/assets/imp9-B0iRoiJS.jpg",$5="/assets/imp8-CuXmRx_m.jpg",H5="/assets/imp4-BilIEu_R.png",G5="/assets/ymnark-BLF4XVrW.jpg",Y5="/assets/oblivion-BxmvMR6i.jpg",K5="/assets/mtyi-Bq6k47oX.webp",X5="/assets/brokenhearted-DgQ-Em3M.webp",Q5="/assets/highschool-7SD101V_.jpg",Z5="/assets/departure-B3HFOxty.jpg",J5="/assets/tmtkfnz-BINcpBRL.jpg",eW="/assets/bassoon-RFB07wKD.jpg",tW="/assets/knjnhy-jQzhPilW.webp",nW={id:"p1",img:j5,title:"John Field - Piano Concerto No.2 in Ab Major",brief:"Performed at the Strong Auditorium with URCO (start from 15:15)",link:"https://livestream.com/accounts/1852707/events/4879399/videos/202198649",type:"performance"},iW={id:"p2",img:B5,title:"Chopin - Scherzo No.2 in Bb Minor",brief:"Performed at the Kilbourn Hall",link:"https://www.youtube.com/watch?v=FFK-qEqqhxo&ab_channel=EastmanCommunityMusicSchool",type:"performance"},rW={id:"p3",img:W5,title:"Marasy - ",brief:"Performed at the company I worked for",link:"https://youtu.be/hZdDiOWDOqY",type:"performance"},sW={id:"i1",img:V5,title:"In Search of Beauty",brief:"Improvised on Roland A49 with Logic Pro",link:"https://www.bilibili.com/video/BV1Lp4y1T79x/",type:"improvisation"},oW={id:"i2",img:U5,title:"Being Towards Death",brief:"Improvised on Roland A49 with GarageBand. This improvisation summarizes my college years and a brief gap after my graduation.",link:"https://youtu.be/ds_4NweQ4LU",type:"improvisation"},aW={id:"i3",img:q5,title:"Improvisation No.9",brief:"Improvised on Roland A49 with GarageBand",link:"https://www.bilibili.com/video/BV1H34y1Q7B9/",type:"improvisation"},lW={id:"i4",img:$5,title:"Improvisation No.8",brief:"Improvised on Roland A49 with GarageBand",link:"https://www.bilibili.com/video/BV1rL411H7AD/",type:"improvisation"},cW={id:"i5",img:H5,title:"Improvisation No.4",brief:"Improvised in the piano practice room at Strong Auditorium",link:"https://youtu.be/Qs8XFUVJUFE",type:"improvisation"},uW={id:"i6",img:G5,title:"",brief:"Improvised on Lagrima Digital Piano",link:"https://www.bilibili.com/video/BV1fi4y1P77d/",type:"improvisation"},hW={id:"c1",img:Y5,title:"Oblivion",brief:"Draft in 2018 fall, completed in 2021 spring. This is an orchestral piece inspired by my ambivalence about the conflict between following my passion and meeting career demands.",link:"https://www.bilibili.com/video/BV1Fh411h7n3/",type:"composition"},fW={id:"c2",img:K5,title:"",brief:"Composed in 2021 spring. Piano solo. This piece serves as an obscure illustration of the concept of 'waiting'.",link:"https://www.bilibili.com/video/BV1g64y167eX/",type:"composition"},dW={id:"c3",img:X5,title:"Gentleness",brief:"Composed in 2020 fall. I was sad.",link:"https://youtu.be/RfDBy4V73so",type:"composition"},pW={id:"c4",img:Q5,title:"The High School Me and the Distant Light",brief:"Composed in 2020 fall. It captures the nostalgia and memories of my high school years.",link:"https://www.bilibili.com/video/BV1L64y1F7m9/",type:"composition"},mW={id:"c5",img:Z5,title:"Departure",brief:"A tiny composition created in 2020 summer. It portrays both the excitement and the confusion that come with becoming an adult.",link:"https://www.bilibili.com/video/BV1QZ4y1u7rj/",type:"composition"},gW={id:"c6",img:J5,title:"Cold breezes in MidSummer",brief:"Composed in 2020 summer. Cold winds sometimes blow through the midsummer air of Rochester. This contrast feels poetic and deeply inspiring.",link:"https://www.bilibili.com/video/BV1At4y1X7WJ/",type:"composition"},yW={id:"c7",img:eW,title:"Pieces for clarinet, bassoon, and harp",brief:"Composed in 2020 summer. I fell in love with the sound of bassoon during that time, and was inspired to explore this sound in my composition.",link:"https://www.bilibili.com/video/BV1Ep4y1S7GD/",type:"composition"},vW={id:"c8",img:tW,title:"",brief:"Composed in 2016, when I was in high school, this piece was inspired by the Monogatari Series. I aimed to capture the unique atmosphere of a closed, intimate living space.",link:"https://www.bilibili.com/video/BV1yt4y1Q7ke/",type:"composition"},_W=[hW,fW,dW,pW,mW,gW,yW,vW,sW,oW,aW,lW,cW,uW,nW,iW,rW],gl="generated",wW="pointerdown",xW="pointerup",rg="pointerleave",bW="pointerout",Zs="pointermove",SW="touchstart",M1="touchend",kW="touchmove",CW="touchcancel",TW="resize",EW="visibilitychange",gi="tsParticles - Error";class jn{constructor(e,n,i){if(this._updateFromAngle=(r,s)=>{this.x=Math.cos(r)*s,this.y=Math.sin(r)*s},!Mi(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:0}else if(e!==void 0&&n!==void 0)this.x=e,this.y=n,this.z=i??0;else throw new Error(`${gi} Vector3d not initialized correctly`)}static get origin(){return jn.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return jn.create(e.x,e.y,e.z)}static create(e,n,i){return new jn(e,n,i)}add(e){return jn.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return jn.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return jn.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return jn.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return jn.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:0}sub(e){return jn.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class zt extends jn{constructor(e,n){super(e,n,0)}static get origin(){return zt.create(0,0)}static clone(e){return zt.create(e.x,e.y)}static create(e,n){return new zt(e,n)}}let NW=Math.random;const sg=new Map;function Np(t,e){sg.get(t)||sg.set(t,e)}function eC(t){return sg.get(t)||(e=>e)}function Ze(){return Fi(NW(),0,1-1e-16)}function Fi(t,e,n){return Math.min(Math.max(t,e),n)}function Ap(t,e,n,i){return Math.floor((t*n+e*i)/(n+i))}function Cn(t){const e=Jr(t);let n=Jy(t);return e===n&&(n=0),Ze()*(e-n)+n}function he(t){return Mi(t)?t:Cn(t)}function Jy(t){return Mi(t)?t:t.min}function Jr(t){return Mi(t)?t:t.max}function ke(t,e){if(t===e||e===void 0&&Mi(t))return t;const n=Jy(t),i=Jr(t);return e!==void 0?{min:Math.min(n,e),max:Math.max(i,e)}:ke(n,i)}function Js(t){const e=t.random,{enable:n,minimumValue:i}=us(e)?{enable:e,minimumValue:0}:e;return he(n?ke(t.value,i):t.value)}function fn(t,e){const n=t.x-e.x,i=t.y-e.y;return{dx:n,dy:i,distance:Math.sqrt(n**2+i**2)}}function $n(t,e){return fn(t,e).distance}function AW(t,e,n){if(Mi(t))return t*Math.PI/180;switch(t){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(n.y-e.y,n.x-e.x);case"outside":return Math.atan2(e.y-n.y,e.x-n.x);default:return Ze()*Math.PI*2}}function PW(t){const e=zt.origin;return e.length=1,e.angle=t,e}function O1(t,e,n,i){return zt.create(t.x*(n-i)/(n+i)+e.x*2*i/(n+i),t.y)}function IW(t){var e,n;return{x:((e=t.position)==null?void 0:e.x)??Ze()*t.size.width,y:((n=t.position)==null?void 0:n.y)??Ze()*t.size.height}}function tC(t){return t?t.endsWith("%")?parseFloat(t)/100:parseFloat(t):1}const RW={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function eo(){return RW}function D1(t){const e={bounced:!1},{pSide:n,pOtherSide:i,rectSide:r,rectOtherSide:s,velocity:a,factor:c}=t;return i.min<s.min||i.min>s.max||i.max<s.min||i.max>s.max||(n.max>=r.min&&n.max<=(r.max+r.min)/2&&a>0||n.min<=r.max&&n.min>(r.max+r.min)/2&&a<0)&&(e.velocity=a*-c,e.bounced=!0),e}function MW(t,e){const n=jt(e,i=>t.matches(i));return Hn(n)?n.some(i=>i):n}function ga(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function OW(){return!ga()&&typeof matchMedia<"u"}function nC(t){if(OW())return matchMedia(t)}function DW(t){if(!(ga()||typeof MutationObserver>"u"))return new MutationObserver(t)}function xt(t,e){return t===e||Hn(e)&&e.indexOf(t)>-1}async function LW(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function FW(t){return Math.floor(Ze()*t.length)}function kf(t,e,n=!0){return t[e!==void 0&&n?e%t.length:FW(t)]}function ev(t,e,n,i,r){return zW(hc(t,i??0),e,n,r)}function zW(t,e,n,i){let r=!0;return(!i||i==="bottom")&&(r=t.top<e.height+n.x),r&&(!i||i==="left")&&(r=t.right>n.x),r&&(!i||i==="right")&&(r=t.left<e.width+n.y),r&&(!i||i==="top")&&(r=t.bottom>n.y),r}function hc(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function Jt(t,...e){for(const n of e){if(n==null)continue;if(!Ho(n)){t=n;continue}const i=Array.isArray(n);i&&(Ho(t)||!t||!Array.isArray(t))?t=[]:!i&&(Ho(t)||!t||Array.isArray(t))&&(t={});for(const r in n){if(r==="__proto__")continue;const s=n,a=s[r],c=t;c[r]=Ho(a)&&Array.isArray(a)?a.map(u=>Jt(c[r],u)):Jt(c[r],a)}}return t}function tv(t,e){return!!sC(e,n=>n.enable&&xt(t,n.mode))}function nv(t,e,n){jt(e,i=>{const r=i.mode;i.enable&&xt(t,r)&&jW(i,n)})}function jW(t,e){const n=t.selectors;jt(n,i=>{e(i,t)})}function iC(t,e){if(!(!e||!t))return sC(t,n=>MW(e,n.selectors))}function og(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:zt.create(Js(t.options.bounce.horizontal),Js(t.options.bounce.vertical))}}function rC(t,e){const{x:n,y:i}=t.velocity.sub(e.velocity),[r,s]=[t.position,e.position],{dx:a,dy:c}=fn(s,r);if(n*a+i*c<0)return;const u=-Math.atan2(c,a),h=t.mass,d=e.mass,p=t.velocity.rotate(u),g=e.velocity.rotate(u),y=O1(p,g,h,d),w=O1(g,p,h,d),b=y.rotate(-u),T=w.rotate(-u);t.velocity.x=b.x*t.factor.x,t.velocity.y=b.y*t.factor.y,e.velocity.x=T.x*e.factor.x,e.velocity.y=T.y*e.factor.y}function BW(t,e){const n=t.getPosition(),i=t.getRadius(),r=hc(n,i),s=D1({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:t.velocity.x,factor:Js(t.options.bounce.horizontal)});s.bounced&&(s.velocity!==void 0&&(t.velocity.x=s.velocity),s.position!==void 0&&(t.position.x=s.position));const a=D1({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:t.velocity.y,factor:Js(t.options.bounce.vertical)});a.bounced&&(a.velocity!==void 0&&(t.velocity.y=a.velocity),a.position!==void 0&&(t.position.y=a.position))}function jt(t,e){return Hn(t)?t.map((n,i)=>e(n,i)):e(t,0)}function br(t,e,n){return Hn(t)?kf(t,e,n):t}function sC(t,e){return Hn(t)?t.find((n,i)=>e(n,i)):e(t,0)?t:void 0}function oC(t,e){const n=t.value,i=t.animation,r={delayTime:he(i.delay)*1e3,enable:i.enable,value:he(t.value)*e,max:Jr(n)*e,min:Jy(n)*e,loops:0,maxLoops:he(i.count),time:0};if(i.enable){switch(r.decay=1-he(i.decay),i.mode){case"increase":r.status="increasing";break;case"decrease":r.status="decreasing";break;case"random":r.status=Ze()>=.5?"increasing":"decreasing";break}const s=i.mode==="auto";switch(i.startValue){case"min":r.value=r.min,s&&(r.status="increasing");break;case"max":r.value=r.max,s&&(r.status="decreasing");break;case"random":default:r.value=Cn(r),s&&(r.status=Ze()>=.5?"increasing":"decreasing");break}}return r.initialValue=r.value,r}function WW(t,e){if(!(t.mode==="percent")){const{mode:r,...s}=t;return s}return"x"in t?{x:t.x/100*e.width,y:t.y/100*e.height}:{width:t.width/100*e.width,height:t.height/100*e.height}}function aC(t,e){return WW(t,e)}function us(t){return typeof t=="boolean"}function Ri(t){return typeof t=="string"}function Mi(t){return typeof t=="number"}function lC(t){return typeof t=="function"}function Ho(t){return typeof t=="object"&&t!==null}function Hn(t){return Array.isArray(t)}const Ph="random",ju="mid",Cf=new Map;function L1(t){Cf.set(t.key,t)}function Pp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function VW(t){for(const[,s]of Cf)if(t.startsWith(s.stringPrefix))return s.parseString(t);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,n=t.replace(e,(s,a,c,u,h)=>a+a+c+c+u+u+(h!==void 0?h+h:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,r=i.exec(n);return r?{a:r[4]!==void 0?parseInt(r[4],16)/255:1,b:parseInt(r[3],16),g:parseInt(r[2],16),r:parseInt(r[1],16)}:void 0}function Oi(t,e,n=!0){if(!t)return;const i=Ri(t)?{value:t}:t;if(Ri(i.value))return cC(i.value,e,n);if(Hn(i.value))return Oi({value:kf(i.value,e,n)});for(const[,r]of Cf){const s=r.handleRangeColor(i);if(s)return s}}function cC(t,e,n=!0){if(!t)return;const i=Ri(t)?{value:t}:t;if(Ri(i.value))return i.value===Ph?hC():UW(i.value);if(Hn(i.value))return cC({value:kf(i.value,e,n)});for(const[,r]of Cf){const s=r.handleColor(i);if(s)return s}}function Vl(t,e,n=!0){const i=Oi(t,e,n);return i?uC(i):void 0}function uC(t){const e=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(e,n,i),s=Math.min(e,n,i),a={h:0,l:(r+s)/2,s:0};return r!==s&&(a.s=a.l<.5?(r-s)/(r+s):(r-s)/(2-r-s),a.h=e===r?(n-i)/(r-s):a.h=n===r?2+(i-e)/(r-s):4+(e-n)/(r-s)),a.l*=100,a.s*=100,a.h*=60,a.h<0&&(a.h+=360),a.h>=360&&(a.h-=360),a}function UW(t){return VW(t)}function ya(t){const e={b:0,g:0,r:0},n={h:t.h/360,l:t.l/100,s:t.s/100};if(!n.s)e.r=e.g=e.b=n.l;else{const i=n.l<.5?n.l*(1+n.s):n.l+n.s-n.l*n.s,r=2*n.l-i;e.r=Pp(r,i,n.h+1/3),e.g=Pp(r,i,n.h),e.b=Pp(r,i,n.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function qW(t){const e=ya(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function hC(t){return{b:Math.floor(Cn(ke(0,256))),g:Math.floor(Cn(ke(0,256))),r:Math.floor(Cn(ke(0,256)))}}function Sr(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??1})`}function Ul(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??1})`}function iv(t,e,n,i){let r=t,s=e;return r.r===void 0&&(r=ya(t)),s.r===void 0&&(s=ya(e)),{b:Ap(r.b,s.b,n,i),g:Ap(r.g,s.g,n,i),r:Ap(r.r,s.r,n,i)}}function ag(t,e,n){if(n===Ph)return hC();if(n===ju){const i=t.getFillColor()??t.getStrokeColor(),r=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(i&&r&&e)return iv(i,r,t.getRadius(),e.getRadius());{const s=i??r;if(s)return ya(s)}}else return n}function fC(t,e,n){const i=Ri(t)?t:t.value;return i===Ph?n?Oi({value:i}):e?Ph:ju:i===ju?ju:Oi({value:i})}function F1(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function dC(t,e,n){const i={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(Ip(i.h,e.h,n),Ip(i.s,e.s,n),Ip(i.l,e.l,n)),i}function Ip(t,e,n){t.enable=e.enable,t.enable?(t.velocity=he(e.speed)/100*n,t.decay=1-he(e.decay),t.status="increasing",t.loops=0,t.maxLoops=he(e.count),t.time=0,t.delayTime=he(e.delay)*1e3,e.sync||(t.velocity*=Ze(),t.value*=Ze()),t.initialValue=t.value):t.velocity=0}function yl(t,e,n){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.closePath()}function $W(t,e,n,i){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(i.x,i.y),t.closePath()}function HW(t,e,n){t.fillStyle=n??"rgba(0,0,0,0)",t.fillRect(0,0,e.width,e.height)}function GW(t,e,n,i){n&&(t.globalAlpha=i,t.drawImage(n,0,0,e.width,e.height),t.globalAlpha=1)}function Rp(t,e){t.clearRect(0,0,e.width,e.height)}function YW(t){const{container:e,context:n,particle:i,delta:r,colorStyles:s,backgroundMask:a,composite:c,radius:u,opacity:h,shadow:d,transform:p}=t,g=i.getPosition(),y=i.rotation+(i.pathRotation?i.velocity.angle:0),w={sin:Math.sin(y),cos:Math.cos(y)},b={a:w.cos*(p.a??1),b:w.sin*(p.b??1),c:-w.sin*(p.c??1),d:w.cos*(p.d??1)};n.setTransform(b.a,b.b,b.c,b.d,g.x,g.y),n.beginPath(),a&&(n.globalCompositeOperation=c);const T=i.shadowColor;d.enable&&T&&(n.shadowBlur=d.blur,n.shadowColor=Sr(T),n.shadowOffsetX=d.offset.x,n.shadowOffsetY=d.offset.y),s.fill&&(n.fillStyle=s.fill);const v=i.strokeWidth??0;n.lineWidth=v,s.stroke&&(n.strokeStyle=s.stroke),KW(e,n,i,u,h,r),v>0&&n.stroke(),i.close&&n.closePath(),i.fill&&n.fill(),XW(e,n,i,u,h,r),n.globalCompositeOperation="source-over",n.setTransform(1,0,0,1,0,0)}function KW(t,e,n,i,r,s){if(!n.shape)return;const a=t.drawers.get(n.shape);a&&a.draw(e,n,i,r,s,t.retina.pixelRatio)}function XW(t,e,n,i,r,s){if(!n.shape)return;const a=t.drawers.get(n.shape);!a||!a.afterEffect||a.afterEffect(e,n,i,r,s,t.retina.pixelRatio)}function QW(t,e,n){e.draw&&e.draw(t,n)}function ZW(t,e,n,i){e.drawParticle&&e.drawParticle(t,n,i)}function JW(t,e,n){return{h:t.h,s:t.s,l:t.l+(e==="darken"?-1:1)*n}}function e8(t,e,n){const i=e[n];i!==void 0&&(t[n]=(t[n]??1)*i)}class t8{constructor(e){this.container=e,this._applyPostDrawUpdaters=n=>{for(const i of this._postDrawUpdaters)i.afterDraw&&i.afterDraw(n)},this._applyPreDrawUpdaters=(n,i,r,s,a,c)=>{for(const u of this._preDrawUpdaters){if(u.getColorStyles){const{fill:h,stroke:d}=u.getColorStyles(i,n,r,s);h&&(a.fill=h),d&&(a.stroke=d)}if(u.getTransformValues){const h=u.getTransformValues(i);for(const d in h)e8(c,h,d)}u.beforeDraw&&u.beforeDraw(i)}},this._applyResizePlugins=()=>{for(const n of this._resizePlugins)n.resize&&n.resize()},this._getPluginParticleColors=n=>{let i,r;for(const s of this._colorPlugins)if(!i&&s.particleFillColor&&(i=Vl(s.particleFillColor(n))),!r&&s.particleStrokeColor&&(r=Vl(s.particleStrokeColor(n))),i&&r)break;return[i,r]},this._initCover=()=>{const n=this.container.actualOptions,i=n.backgroundMask.cover,r=i.color,s=Oi(r);if(s){const a={...s,a:i.opacity};this._coverColorStyle=Sr(a,a.a)}},this._initStyle=()=>{const n=this.element,i=this.container.actualOptions;if(n){this._fullScreen?(this._originalStyle=Jt({},n.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const r in i.style){if(!r||!i.style)continue;const s=i.style[r];s&&n.style.setProperty(r,s,"important")}}},this._initTrail=async()=>{const n=this.container.actualOptions,i=n.particles.move.trail,r=i.fill;if(i.enable)if(r.color){const s=Oi(r.color);if(!s)return;const a=n.particles.move.trail;this._trailFill={color:{...s},opacity:1/a.length}}else await new Promise((s,a)=>{if(!r.image)return;const c=document.createElement("img");c.addEventListener("load",()=>{this._trailFill={image:c,opacity:1/i.length},s()}),c.addEventListener("error",u=>{a(u.error)}),c.src=r.image})},this._paintBase=n=>{this.draw(i=>HW(i,this.size,n))},this._paintImage=(n,i)=>{this.draw(r=>GW(r,this.size,n,i))},this._repairStyle=()=>{const n=this.element;n&&(this._safeMutationObserver(i=>i.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(i=>i.observe(n,{attributes:!0})))},this._resetOriginalStyle=()=>{const n=this.element,i=this._originalStyle;if(!(n&&i))return;const r=n.style;r.position=i.position,r.zIndex=i.zIndex,r.top=i.top,r.left=i.left,r.width=i.width,r.height=i.height},this._safeMutationObserver=n=>{this._mutationObserver&&n(this._mutationObserver)},this._setFullScreenStyle=()=>{const n=this.element;if(!n)return;const i="important",r=n.style;r.setProperty("position","fixed",i),r.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),i),r.setProperty("top","0",i),r.setProperty("left","0",i),r.setProperty("width","100%",i),r.setProperty("height","100%",i)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,n=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():n.enable&&n.length>0&&i?i.color?this._paintBase(Sr(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):this.draw(r=>{Rp(r,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const n=this._context;if(n)return e(n)}drawParticle(e,n){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const r=e.getFillColor(),s=e.getStrokeColor()??r;let[a,c]=this._getPluginParticleColors(e);a||(a=r),c||(c=s),!(!a&&!c)&&this.draw(u=>{var k;const h=this.container,d=h.actualOptions,p=e.options.zIndex,g=(1-e.zIndexFactor)**p.opacityRate,y=e.bubble.opacity??((k=e.opacity)==null?void 0:k.value)??1,w=e.strokeOpacity??y,b=y*g,T=w*g,v={},S={fill:a?Ul(a,b):void 0};S.stroke=c?Ul(c,T):S.fill,this._applyPreDrawUpdaters(u,e,i,b,S,v),YW({container:h,context:u,particle:e,delta:n,colorStyles:S,backgroundMask:d.backgroundMask.enable,composite:d.backgroundMask.composite,radius:i*(1-e.zIndexFactor)**p.sizeRate,opacity:b,shadow:e.options.shadow,transform:v}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,n,i){this.draw(r=>ZW(r,e,n,i))}drawPlugin(e,n){this.draw(i=>QW(i,e,n))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=DW(e=>{for(const n of e)n.type==="attributes"&&n.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){eo().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,n=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(n.color){const s=Oi(n.color);r.backgroundColor=s?Sr(s,n.opacity):""}else r.backgroundColor="";r.backgroundImage=n.image||"",r.backgroundPosition=n.position||"",r.backgroundRepeat=n.repeat||"",r.backgroundSize=n.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&gl in e.dataset?e.dataset[gl]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=Jt({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(n=>{this.element&&n.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(n=>{e.backgroundMask.enable&&e.backgroundMask.cover?(Rp(n,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,n=e.retina.pixelRatio,i=e.canvas.size,r={width:this.element.offsetWidth*n,height:this.element.offsetHeight*n};if(r.height===i.height&&r.width===i.width&&r.height===this.element.height&&r.width===this.element.width)return!1;const s={...i};return this.element.width=i.width=this.element.offsetWidth*n,this.element.height=i.height=this.element.offsetHeight*n,this.container.started&&(this.resizeFactor={width:i.width/s.width,height:i.height/s.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>Rp(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,n=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),n&&await e.refresh()}}function si(t,e,n,i,r){if(i){let s={passive:!0};us(r)?s.capture=r:r!==void 0&&(s=r),t.addEventListener(e,n,s)}else{const s=r;t.removeEventListener(e,n,s)}}class n8{constructor(e){this.container=e,this._doMouseTouchClick=n=>{const i=this.container,r=i.actualOptions;if(this._canPush){const s=i.interactivity.mouse,a=s.position;if(!a)return;s.clickPosition={...a},s.clickTime=new Date().getTime();const c=r.interactivity.events.onClick;jt(c.mode,u=>this.container.handleClickMode(u))}n.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=n=>{const i=n,r=this.container,s=r.options,a=s.defaultThemes,c=i.matches?a.dark:a.light,u=s.themes.find(h=>h.name===c);u&&u.default.auto&&r.loadTheme(c)},this._handleVisibilityChange=()=>{const n=this.container,i=n.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document&&document.hidden?(n.pageHidden=!0,n.pause()):(n.pageHidden=!1,n.getAnimationStatus()?n.play(!0):n.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const n=this.container.canvas;n&&await n.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(n,i)=>{const r=this._handlers,s=this.container,a=s.actualOptions,c=s.interactivity.element;if(!c)return;const u=c,h=s.canvas.element;h&&(h.style.pointerEvents=u===h?"initial":"none"),(a.interactivity.events.onHover.enable||a.interactivity.events.onClick.enable)&&(si(c,Zs,r.mouseMove,i),si(c,SW,r.touchStart,i),si(c,kW,r.touchMove,i),a.interactivity.events.onClick.enable?(si(c,M1,r.touchEndClick,i),si(c,xW,r.mouseUp,i),si(c,wW,r.mouseDown,i)):si(c,M1,r.touchEnd,i),si(c,n,r.mouseLeave,i),si(c,CW,r.touchCancel,i))},this._manageListeners=n=>{const i=this._handlers,r=this.container,s=r.actualOptions,a=s.interactivity.detectsOn,c=r.canvas.element;let u=rg;a==="window"?(r.interactivity.element=window,u=bW):a==="parent"&&c?r.interactivity.element=c.parentElement??c.parentNode:r.interactivity.element=c,this._manageMediaMatch(n),this._manageResize(n),this._manageInteractivityListeners(u,n),document&&si(document,EW,i.visibilityChange,n,!1)},this._manageMediaMatch=n=>{const i=this._handlers,r=nC("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){si(r,"change",i.themeChange,n);return}r.addListener!==void 0&&(n?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=n=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){si(window,TW,i.resize,n);return}const a=r.canvas.element;this._resizeObserver&&!n?(a&&this._resizeObserver.unobserve(a),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&n&&a&&(this._resizeObserver=new ResizeObserver(async c=>{c.find(h=>h.target===a)&&await this._handleWindowResize()}),this._resizeObserver.observe(a))},this._mouseDown=()=>{const{interactivity:n}=this.container;if(!n)return;const{mouse:i}=n;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=n=>{const i=this.container,r=i.actualOptions,{mouse:s}=i.interactivity;s.inside=!0;let a=!1;const c=s.position;if(!(!c||!r.interactivity.events.onClick.enable)){for(const[,u]of i.plugins)if(u.clickPositionValid&&(a=u.clickPositionValid(c),a))break;a||this._doMouseTouchClick(n),s.clicking=!1}},this._mouseTouchFinish=()=>{const n=this.container.interactivity;if(!n)return;const i=n.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,n.status=rg,i.inside=!1,i.clicking=!1},this._mouseTouchMove=n=>{const i=this.container,r=i.actualOptions,s=i.interactivity,a=i.canvas.element;if(!s||!s.element)return;s.mouse.inside=!0;let c;if(n.type.startsWith("pointer")){this._canPush=!0;const h=n;if(s.element===window){if(a){const d=a.getBoundingClientRect();c={x:h.clientX-d.left,y:h.clientY-d.top}}}else if(r.interactivity.detectsOn==="parent"){const d=h.target,p=h.currentTarget;if(d&&p&&a){const g=d.getBoundingClientRect(),y=p.getBoundingClientRect(),w=a.getBoundingClientRect();c={x:h.offsetX+2*g.left-(y.left+w.left),y:h.offsetY+2*g.top-(y.top+w.top)}}else c={x:h.offsetX??h.clientX,y:h.offsetY??h.clientY}}else h.target===a&&(c={x:h.offsetX??h.clientX,y:h.offsetY??h.clientY})}else if(this._canPush=n.type!=="touchmove",a){const h=n,d=h.touches[h.touches.length-1],p=a.getBoundingClientRect();c={x:d.clientX-(p.left??0),y:d.clientY-(p.top??0)}}const u=i.retina.pixelRatio;c&&(c.x*=u,c.y*=u),s.mouse.position=c,s.status=Zs},this._touchEnd=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchFinish()},this._touchEndClick=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchClick(n)},this._touchStart=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.set(s.identifier,performance.now());this._mouseTouchMove(n)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:n=>this._mouseTouchMove(n),mouseUp:n=>this._mouseTouchClick(n),touchStart:n=>this._touchStart(n),touchMove:n=>this._mouseTouchMove(n),touchEnd:n=>this._touchEnd(n),touchCancel:n=>this._touchEnd(n),touchEndClick:n=>this._touchEndClick(n),visibilityChange:()=>this._handleVisibilityChange(),themeChange:n=>this._handleThemeChange(n),oldThemeChange:n=>this._handleThemeChange(n),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class $t{constructor(){this.value=""}static create(e,n){const i=new $t;return i.load(e),n!==void 0&&(Ri(n)||Hn(n)?i.load({value:n}):i.load(n)),i}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}}class i8{constructor(){this.color=new $t,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=$t.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class r8{constructor(){this.color=new $t,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=$t.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class s8{constructor(){this.composite="destination-out",this.cover=new r8,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const n=e.cover,i=Ri(e.cover)?{color:e.cover}:e.cover;this.cover.load(n.color!==void 0?n:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class o8{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class a8{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class z1{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return jt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=jt(e,n=>`#${n}`)}load(e){if(!e)return;const n=e.ids??e.elementId??e.el;n!==void 0&&(this.ids=n),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class l8{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class c8{constructor(){this.enable=!1,this.mode=[],this.parallax=new l8}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class u8{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class h8{constructor(){this.onClick=new a8,this.onDiv=new z1,this.onHover=new c8,this.resize=new u8}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const n=e.onDiv??e.ondiv;n!==void 0&&(this.onDiv=jt(n,i=>{const r=new z1;return r.load(i),r})),this.onHover.load(e.onHover??e.onhover),us(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}}class f8{constructor(e,n){this._engine=e,this._container=n}load(e){if(!e||!this._container)return;const n=this._engine.plugins.interactors.get(this._container);if(n)for(const i of n)i.loadModeOptions&&i.loadModeOptions(this,e)}}class pC{constructor(e,n){this.detectsOn="window",this.events=new h8,this.modes=new f8(e,n)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const n=e.detectsOn??e.detect_on;n!==void 0&&(this.detectsOn=n),this.events.load(e.events),this.modes.load(e.modes)}}class d8{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=Jt({},e.options)))}}class p8{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=Jt({},e.options)))}}class m8{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class g8{constructor(){this.name="",this.default=new m8}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=Jt({},e.options)))}}class Mp{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=ke(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=ke(e.offset)),e.speed!==void 0&&(this.speed=ke(e.speed)),e.decay!==void 0&&(this.decay=ke(e.decay)),e.delay!==void 0&&(this.delay=ke(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class y8{constructor(){this.h=new Mp,this.s=new Mp,this.l=new Mp}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class ql extends $t{constructor(){super(),this.animation=new y8}static create(e,n){const i=new ql;return i.load(e),n!==void 0&&(Ri(n)||Hn(n)?i.load({value:n}):i.load(n)),i}load(e){if(super.load(e),!e)return;const n=e.animation;n!==void 0&&(n.enable!==void 0?this.animation.h.load(n):this.animation.load(e.animation))}}class v8{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class _8{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class w8{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=ke(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ke(e.speed)),e.decay!==void 0&&(this.decay=ke(e.decay)),e.delay!==void 0&&(this.delay=ke(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class mC extends w8{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class x8{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class xs{constructor(){this.random=new x8,this.value=0}load(e){e&&(us(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=ke(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class j1 extends xs{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class gC{constructor(){this.horizontal=new j1,this.vertical=new j1}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class b8{constructor(){this.absorb=new v8,this.bounce=new gC,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new _8}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=ke(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class S8{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=ke(e.offset)),e.value!==void 0&&(this.value=ke(e.value)))}}class k8{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var r,s;if(!e)return;e.distance!==void 0&&(this.distance=ke(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const n=((r=e.rotate)==null?void 0:r.x)??e.rotateX;n!==void 0&&(this.rotate.x=n);const i=((s=e.rotate)==null?void 0:s.y)??e.rotateY;i!==void 0&&(this.rotate.y=i)}}class C8{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class T8{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=ke(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=ke(e.maxSpeed)))}}class E8{constructor(){this.clamp=!0,this.delay=new xs,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Jt(this.options,e.options)))}}class N8{load(e){e&&(e.color!==void 0&&(this.color=$t.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class A8{constructor(){this.enable=!1,this.length=10,this.fill=new N8}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class P8{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class I8{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=ke(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=Jt({},e.position)))}}class R8{constructor(){this.angle=new S8,this.attract=new k8,this.center=new C8,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new T8,this.path=new E8,this.outModes=new P8,this.random=!1,this.size=!1,this.speed=2,this.spin=new I8,this.straight=!1,this.trail=new A8,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(Mi(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=ke(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Mi(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=ke(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const n=e.outModes??e.outMode??e.out_mode;n!==void 0&&(Ho(n)?this.outModes.load(n):this.outModes.load({default:n})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=ke(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class M8 extends mC{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.opacity_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class O8 extends xs{constructor(){super(),this.animation=new M8,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const n=e.animation??e.anim;n!==void 0&&(this.animation.load(n),this.value=ke(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class D8{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const n=e.width??e.area??e.value_area;n!==void 0&&(this.width=n);const i=e.height??e.factor;i!==void 0&&(this.height=i)}}class L8{constructor(){this.density=new D8,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const n=e.limit??e.max;n!==void 0&&(this.limit=n),e.value!==void 0&&(this.value=e.value)}}class F8{constructor(){this.blur=0,this.color=new $t,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=$t.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const Op="character",Dp="char",Lp="image",Fp="images",zp="polygon",jp="star";class z8{constructor(){this.loadShape=(e,n,i,r)=>{if(!e)return;const s=Hn(e),a=s?[]:{},c=s!==Hn(this.options[n]),u=s!==Hn(this.options[i]);c&&(this.options[n]=a),u&&r&&(this.options[i]=a),this.options[n]=Jt(this.options[n]??a,e),(!this.options[i]||r)&&(this.options[i]=Jt(this.options[i]??a,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[Op]??this.options[Dp]}set character(e){this.options[Dp]=this.options[Op]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[Lp]??this.options[Fp]}set image(e){this.options[Fp]=this.options[Lp]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[zp]??this.options[jp]}set polygon(e){this.options[jp]=this.options[zp]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const n=e.options??e.custom;if(n!==void 0)for(const i in n){const r=n[i];r&&(this.options[i]=Jt(this.options[i]??{},r))}this.loadShape(e.character,Op,Dp,!0),this.loadShape(e.polygon,zp,jp,!1),this.loadShape(e.image??e.images,Lp,Fp,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class j8 extends mC{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.size_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class B8 extends xs{constructor(){super(),this.animation=new j8,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const n=e.animation??e.anim;n!==void 0&&(this.animation.load(n),this.value=ke(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class B1{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=ql.create(this.color,e.color)),e.width!==void 0&&(this.width=ke(e.width)),e.opacity!==void 0&&(this.opacity=ke(e.opacity)))}}class W8 extends xs{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class V8{constructor(e,n){this._engine=e,this._container=n,this.bounce=new gC,this.collisions=new b8,this.color=new ql,this.color.value="#fff",this.groups={},this.move=new R8,this.number=new L8,this.opacity=new O8,this.reduceDuplicates=!1,this.shadow=new F8,this.shape=new z8,this.size=new B8,this.stroke=new B1,this.zIndex=new W8}load(e){var r,s,a;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(ql.create(this.color,e.color)),e.groups!==void 0)for(const c in e.groups){const u=e.groups[c];u!==void 0&&(this.groups[c]=Jt(this.groups[c]??{},u))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const n=((r=e.move)==null?void 0:r.collisions)??((s=e.move)==null?void 0:s.bounce);n!==void 0&&(this.collisions.enable=n),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=Jt({},e.interactivity));const i=e.stroke??((a=e.shape)==null?void 0:a.stroke);if(i&&(this.stroke=jt(i,c=>{const u=new B1;return u.load(c),u})),this._container){const c=this._engine.plugins.updaters.get(this._container);if(c)for(const h of c)h.loadOptions&&h.loadOptions(this,e);const u=this._engine.plugins.interactors.get(this._container);if(u)for(const h of u)h.loadParticlesOptions&&h.loadParticlesOptions(this,e)}}}function yC(t,...e){for(const n of e)t.load(n)}function vC(t,e,...n){const i=new V8(t,e);return yC(i,...n),i}class U8{constructor(e,n){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode==="any"),this._importPreset=i=>{this.load(this._engine.plugins.getPreset(i))},this._engine=e,this._container=n,this.autoPlay=!0,this.background=new i8,this.backgroundMask=new s8,this.defaultThemes={},this.delay=0,this.fullScreen=new o8,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new pC(e,n),this.manualParticles=[],this.particles=vC(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var a,c;if(!e)return;e.preset!==void 0&&jt(e.preset,u=>this._importPreset(u)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=ke(e.delay));const n=e.detectRetina??e.retina_detect;n!==void 0&&(this.detectRetina=n),e.duration!==void 0&&(this.duration=ke(e.duration));const i=e.fpsLimit??e.fps_limit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen??e.backgroundMode;us(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(u=>{const h=new d8;return h.load(u),h})),this.particles.load(e.particles),this.style=Jt(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const s=this._engine.plugins.interactors.get(this._container);if(s)for(const u of s)u.loadOptions&&u.loadOptions(this,e);if(e.responsive!==void 0)for(const u of e.responsive){const h=new p8;h.load(u),this.responsive.push(h)}if(this.responsive.sort((u,h)=>u.maxWidth-h.maxWidth),e.themes!==void 0)for(const u of e.themes){const h=this.themes.find(d=>d.name===u.name);if(h)h.load(u);else{const d=new g8;d.load(u),this.themes.push(d)}}this.defaultThemes.dark=(a=this._findDefaultTheme("dark"))==null?void 0:a.name,this.defaultThemes.light=(c=this._findDefaultTheme("light"))==null?void 0:c.name}setResponsive(e,n,i){this.load(i);const r=this.responsive.find(s=>s.mode==="screen"&&screen?s.maxWidth>screen.availWidth:s.maxWidth*n>e);return this.load(r==null?void 0:r.options),r==null?void 0:r.maxWidth}setTheme(e){if(e){const n=this.themes.find(i=>i.name===e);n&&this.load(n.options)}else{const n=nC("(prefers-color-scheme: dark)"),i=n&&n.matches,r=this._findDefaultTheme(i?"dark":"light");r&&this.load(r.options)}}}class q8{constructor(e,n){this.container=n,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const n of this._externalInteractors)n.isEnabled()&&await n.interact(e)}handleClickMode(e){for(const n of this._externalInteractors)n.handleClickMode&&n.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,n){for(const i of this._externalInteractors)i.clear(e,n);for(const i of this._particleInteractors)i.isEnabled(e)&&await i.interact(e,n)}async reset(e){for(const n of this._externalInteractors)n.isEnabled()&&n.reset(e);for(const n of this._particleInteractors)n.isEnabled(e)&&n.reset(e)}}const W1=t=>{if(!xt(t.outMode,t.checkModes))return;const e=t.radius*2;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)};class $8{constructor(e,n,i,r,s,a){this.container=i,this._calcPosition=(c,u,h,d=0)=>{for(const[,S]of c.plugins){const k=S.particlePosition!==void 0?S.particlePosition(u,this):void 0;if(k)return jn.create(k.x,k.y,h)}const p=c.canvas.size,g=IW({size:p,position:u}),y=jn.create(g.x,g.y,h),w=this.getRadius(),b=this.options.move.outModes,T=S=>{W1({outMode:S,checkModes:["bounce","bounce-horizontal"],coord:y.x,maxCoord:c.canvas.size.width,setCb:k=>y.x+=k,radius:w})},v=S=>{W1({outMode:S,checkModes:["bounce","bounce-vertical"],coord:y.y,maxCoord:c.canvas.size.height,setCb:k=>y.y+=k,radius:w})};return T(b.left??b.default),T(b.right??b.default),v(b.top??b.default),v(b.bottom??b.default),this._checkOverlap(y,d)?this._calcPosition(c,void 0,h,d+1):y},this._calculateVelocity=()=>{const c=PW(this.direction),u=c.copy(),h=this.options.move;if(h.direction==="inside"||h.direction==="outside")return u;const d=Math.PI/180*he(h.angle.value),p=Math.PI/180*he(h.angle.offset),g={left:p-d/2,right:p+d/2};return h.straight||(u.angle+=Cn(ke(g.left,g.right))),h.random&&typeof h.speed=="number"&&(u.length*=Ze()),u},this._checkOverlap=(c,u=0)=>{const h=this.options.collisions,d=this.getRadius();if(!h.enable)return!1;const p=h.overlap;if(p.enable)return!1;const g=p.retries;if(g>=0&&u>g)throw new Error(`${gi} particle is overlapping and can't be placed`);return!!this.container.particles.find(y=>$n(c,y.position)<d+y.getRadius())},this._getRollColor=c=>{if(!c||!this.roll||!this.backColor&&!this.roll.alter)return c;const u=this.roll.horizontal&&this.roll.vertical?2:1,h=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+h)/(Math.PI/u))%2?this.backColor?this.backColor:this.roll.alter?JW(c,this.roll.alter.type,this.roll.alter.value):c:c},this._initPosition=c=>{const u=this.container,h=he(this.options.zIndex.value);this.position=this._calcPosition(u,c,Fi(h,0,u.zLayers)),this.initialPosition=this.position.copy();const d=u.canvas.size;switch(this.moveCenter={...aC(this.options.move.center,d),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=AW(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=zt.origin},this._loadShapeData=(c,u)=>{const h=c.options[this.shape];if(h)return Jt({close:c.close,fill:c.fill},br(h,this.id,u))},this._engine=e,this.init(n,r,s,a)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const n=this.container,i=this.pathGenerator;for(const[,r]of n.plugins)r.particleDestroyed&&r.particleDestroyed(this,e);for(const r of n.particles.updaters)r.particleDestroyed&&r.particleDestroyed(this,e);i&&i.reset(this)}draw(e){const n=this.container;for(const[,i]of n.plugins)n.canvas.drawParticlePlugin(i,this,e);n.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??F1(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??F1(this.strokeColor))}init(e,n,i,r){const s=this.container,a=this._engine;this.id=e,this.group=r,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const c=s.retina.pixelRatio,u=s.actualOptions,h=vC(this._engine,s,u.particles),d=h.shape.type,{reduceDuplicates:p}=h;this.shape=br(d,this.id,p);const g=h.shape;if(i&&i.shape&&i.shape.type){const k=i.shape.type,A=br(k,this.id,p);A&&(this.shape=A,g.load(i.shape))}this.shapeData=this._loadShapeData(g,p),h.load(i);const y=this.shapeData;y&&h.load(y.particles);const w=new pC(a,s);w.load(s.actualOptions.interactivity),w.load(h.interactivity),this.interactivity=w,this.fill=(y==null?void 0:y.fill)??h.shape.fill,this.close=(y==null?void 0:y.close)??h.shape.close,this.options=h;const b=this.options.move.path;this.pathDelay=Js(b.delay)*1e3,b.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(b.generator),this.pathGenerator&&s.addPath(b.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=oC(this.options.size,c),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(n),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-he(this.options.move.decay);const T=s.particles;T.needsSort=T.needsSort||T.lastZIndex<this.position.z,T.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let v=s.drawers.get(this.shape);v||(v=this._engine.plugins.getShapeDrawer(this.shape),v&&s.drawers.set(this.shape,v)),v&&v.loadShape&&v.loadShape(this);const S=v==null?void 0:v.getSidesCount;S&&(this.sides=S(this)),this.spawning=!1,this.shadowColor=Oi(this.options.shadow.color);for(const k of s.particles.updaters)k.init(this);for(const k of s.particles.movers)k.init&&k.init(this);v&&v.particleInit&&v.particleInit(s,this);for(const[,k]of s.plugins)k.particleCreated&&k.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),n=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=n.height+e&&i.x<=n.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class H8{constructor(e,n){this.position=e,this.particle=n}}class _C{constructor(e,n){this.position={x:e,y:n}}}class zi extends _C{constructor(e,n,i,r){super(e,n),this.size={height:r,width:i}}contains(e){const n=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+n&&e.y>=r.y&&e.y<=r.y+i}intersects(e){e instanceof en&&e.intersects(this);const n=this.size.width,i=this.size.height,r=this.position,s=e.position,a=e instanceof zi?e.size:{width:0,height:0},c=a.width,u=a.height;return s.x<r.x+n&&s.x+c>r.x&&s.y<r.y+i&&s.y+u>r.y}}class en extends _C{constructor(e,n,i){super(e,n),this.radius=i}contains(e){return $n(e,this.position)<=this.radius}intersects(e){const n=this.position,i=e.position,r={x:Math.abs(i.x-n.x),y:Math.abs(i.y-n.y)},s=this.radius;if(e instanceof en){const a=s+e.radius,c=Math.sqrt(r.x**2+r.y**2);return a>c}else if(e instanceof zi){const{width:a,height:c}=e.size;return Math.pow(r.x-a,2)+Math.pow(r.y-c,2)<=s**2||r.x<=s+a&&r.y<=s+c||r.x<=a||r.y<=c}return!1}}class Ih{constructor(e,n){this.rectangle=e,this.capacity=n,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:s,height:a}=this.rectangle.size,{capacity:c}=this;for(let u=0;u<4;u++)this._subs.push(new Ih(new zi(i+s/2*(u%2),r+a/2*(Math.round(u/2)-u%2),s/2,a/2),c));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(n=>n.insert(e))):!1}query(e,n,i){const r=i||[];if(!e.intersects(this.rectangle))return[];for(const s of this._points)!e.contains(s.position)&&$n(e.position,s.position)>s.particle.getRadius()&&(!n||n(s.particle))||r.push(s.particle);if(this._divided)for(const s of this._subs)s.query(e,n,r);return r}queryCircle(e,n,i){return this.query(new en(e.x,e.y,n),i)}queryRectangle(e,n,i){return this.query(new zi(e.x,e.y,n.width,n.height),i)}}const V1=4,U1=t=>new zi(-t.width/4,-t.height/4,t.width*3/2,t.height*3/2);let G8=class{constructor(e,n){this._applyDensity=(r,s,a)=>{var y;if(!((y=r.number.density)!=null&&y.enable))return;const c=r.number,u=this._initDensityFactor(c.density),h=c.value,d=c.limit>0?c.limit:h,p=Math.min(h,d)*u+s,g=Math.min(this.count,this.filter(w=>w.group===a).length);this.limit=c.limit*u,g<p?this.push(Math.abs(p-g),void 0,r,a):g>p&&this.removeQuantity(g-p,a)},this._initDensityFactor=r=>{const s=this._container;if(!s.canvas.element||!r.enable)return 1;const a=s.canvas.element,c=s.retina.pixelRatio;return a.width*a.height/(r.factor*c**2*r.area)},this._pushParticle=(r,s,a,c)=>{try{let u=this.pool.pop();u?u.init(this._nextId,r,s,a):u=new $8(this._engine,this._nextId,this._container,r,s,a);let h=!0;return c&&(h=c(u)),h?(this._array.push(u),this._zArray.push(u),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:u}}),u):void 0}catch(u){eo().warning(`${gi} adding particle: ${u}`);return}},this._removeParticle=(r,s,a)=>{const c=this._array[r];if(!c||c.group!==s)return!1;c.destroy(a);const u=this._zArray.indexOf(c);return this._array.splice(r,1),this._zArray.splice(u,1),this.pool.push(c),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:c}}),!0},this._engine=e,this._container=n,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new q8(e,n);const i=n.canvas.size;this.quadTree=new Ih(U1(i),V1),this.movers=this._engine.plugins.getMovers(n,!0),this.updaters=this._engine.plugins.getUpdaters(n,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,n=e.actualOptions;for(const i of n.manualParticles)this.addParticle(i.position?aC(i.position,e.canvas.size):void 0,i.options)}addParticle(e,n,i,r){const s=this._container,a=s.actualOptions,c=a.particles.number.limit;if(c>0){const u=this.count+1-c;u>0&&this.removeQuantity(u)}return this._pushParticle(e,n,i,r)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const n=this._container;n.canvas.clear(),await this.update(e);for(const[,i]of n.plugins)n.canvas.drawPlugin(i,e);for(const i of this._zArray)i.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){var r;const e=this._container,n=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let i=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,s]of e.plugins)if(s.particlesInitialization!==void 0&&(i=s.particlesInitialization()),i)break;this._interactionManager.init();for(const[,s]of e.pathGenerators)s.init(e);if(this.addManualParticles(),!i){for(const s in n.particles.groups){const a=n.particles.groups[s];for(let c=this.count,u=0;u<((r=a.number)==null?void 0:r.value)&&c<n.particles.number.value;c++,u++)this.addParticle(void 0,a,s)}for(let s=this.count;s<n.particles.number.value;s++)this.addParticle()}}push(e,n,i,r){this.pushing=!0;for(let s=0;s<e;s++)this.addParticle(n==null?void 0:n.position,i,r);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,n,i){this.removeAt(this._array.indexOf(e),void 0,n,i)}removeAt(e,n=1,i,r){if(e<0||e>this.count)return;let s=0;for(let a=e;s<n&&a<this.count;a++)this._removeParticle(a--,i,r)&&s++}removeQuantity(e,n){this.removeAt(0,e,n)}setDensity(){const e=this._container.actualOptions,n=e.particles.groups;for(const i in n)this._applyDensity(n[i],0,i);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const n=this._container,i=new Set;this.quadTree=new Ih(U1(n.canvas.size),V1);for(const[,r]of n.pathGenerators)r.update();for(const[,r]of n.plugins)r.update&&r.update(e);for(const r of this._array){const s=n.canvas.resizeFactor;s&&!r.ignoresResizeRatio&&(r.position.x*=s.width,r.position.y*=s.height,r.initialPosition.x*=s.width,r.initialPosition.y*=s.height),r.ignoresResizeRatio=!1,await this._interactionManager.reset(r);for(const[,a]of this._container.plugins){if(r.destroyed)break;a.particleUpdate&&a.particleUpdate(r,e)}for(const a of this.movers)a.isEnabled(r)&&a.move(r,e);if(r.destroyed){i.add(r);continue}this.quadTree.insert(new H8(r.getPosition(),r))}if(i.size){const r=s=>!i.has(s);this._array=this.filter(r),this._zArray=this._zArray.filter(r),this.pool.push(...i)}await this._interactionManager.externalInteract(e);for(const r of this._array){for(const s of this.updaters)s.update(r,e);!r.destroyed&&!r.spawning&&await this._interactionManager.particlesInteract(r,e)}if(delete n.canvas.resizeFactor,this.needsSort){const r=this._zArray;r.sort((s,a)=>a.position.z-s.position.z||s.id-a.id),this.lastZIndex=r[r.length-1].position.z,this.needsSort=!1}}};class Y8{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,n=e.actualOptions;this.pixelRatio=!n.detectRetina||ga()?1:window.devicePixelRatio,this.reduceFactor=1;const i=this.pixelRatio;if(e.canvas.element){const a=e.canvas.element;e.canvas.size.width=a.offsetWidth*i,e.canvas.size.height=a.offsetHeight*i}const r=n.particles,s=r.move;this.attractDistance=he(s.attract.distance)*i,this.maxSpeed=he(s.gravity.maxSpeed)*i,this.sizeAnimationSpeed=he(r.size.animation.speed)*i}initParticle(e){const n=e.options,i=this.pixelRatio,r=n.move,s=r.distance,a=e.retina;a.attractDistance=he(r.attract.distance)*i,a.moveDrift=he(r.drift)*i,a.moveSpeed=he(r.speed)*i,a.sizeAnimationSpeed=he(n.size.animation.speed)*i;const c=a.maxDistance;c.horizontal=s.horizontal!==void 0?s.horizontal*i:void 0,c.vertical=s.vertical!==void 0?s.vertical*i:void 0,a.maxSpeed=he(r.gravity.maxSpeed)*i}}function at(t){return t&&!t.destroyed}function K8(t,e=60,n=!1){return{value:t,factor:n?60/e:60*t/1e3}}function Eo(t,e,...n){const i=new U8(t,e);return yC(i,...n),i}const X8="default",q1={generate:t=>t.velocity,init:()=>{},update:()=>{},reset:()=>{}};class Q8{constructor(e,n,i){this.id=n,this._intersectionManager=r=>{if(!(!at(this)||!this.actualOptions.pauseOnOutsideViewport))for(const s of r)s.target===this.interactivity.element&&(s.isIntersecting?this.play:this.pause)()},this._nextFrame=async r=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&r<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??(this.lastFrameTime=r);const s=K8(r-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(s.value),this.lastFrameTime=r,s.value>1e3){this.draw(!1);return}if(await this.particles.draw(s),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(s){eo().error(`${gi} in animation loop`,s)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new Y8(this),this.canvas=new t8(this),this.particles=new G8(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=Eo(this._engine,this),this.actualOptions=Eo(this._engine,this),this._eventListeners=new n8(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(r=>this._intersectionManager(r))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!at(this))return;const n=this.interactivity.element;if(!n)return;const i=(p,g,y)=>{if(!at(this))return;const w=this.retina.pixelRatio,b={x:g.x*w,y:g.y*w},T=this.particles.quadTree.queryCircle(b,y*w);e(p,T)},r=p=>{if(!at(this))return;const g=p,y={x:g.offsetX||g.clientX,y:g.offsetY||g.clientY};i(p,y,1)},s=()=>{at(this)&&(h=!0,d=!1)},a=()=>{at(this)&&(d=!0)},c=p=>{if(at(this)){if(h&&!d){const g=p;let y=g.touches[g.touches.length-1];if(!y&&(y=g.changedTouches[g.changedTouches.length-1],!y))return;const w=this.canvas.element,b=w?w.getBoundingClientRect():void 0,T={x:y.clientX-(b?b.left:0),y:y.clientY-(b?b.top:0)};i(p,T,Math.max(y.radiusX,y.radiusY))}h=!1,d=!1}},u=()=>{at(this)&&(h=!1,d=!1)};let h=!1,d=!1;n.addEventListener("click",r),n.addEventListener("touchstart",s),n.addEventListener("touchmove",a),n.addEventListener("touchend",c),n.addEventListener("touchcancel",u)}addLifeTime(e){this._lifeTime+=e}addPath(e,n,i=!1){return!at(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,n??q1),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!at(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,i]of this.drawers)i.destroy&&i.destroy(this);for(const i of this.drawers.keys())this.drawers.delete(i);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),n=e.findIndex(i=>i===this);n>=0&&e.splice(n,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!at(this))return;let n=e;this._drawAnimationFrame=requestAnimationFrame(async i=>{n&&(this.lastFrameTime=void 0,n=!1),await this._nextFrame(i)})}async export(e,n={}){for(const[,i]of this.plugins){if(!i.export)continue;const r=await i.export(e,n);if(r.supported)return r.blob}eo().error(`${gi} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&at(this)}handleClickMode(e){if(at(this)){this.particles.handleClickMode(e);for(const[,n]of this.plugins)n.handleClickMode&&n.handleClickMode(e)}}async init(){if(!at(this))return;const e=this._engine.plugins.getSupportedShapes();for(const i of e){const r=this._engine.plugins.getShapeDrawer(i);r&&this.drawers.set(i,r)}this._options=Eo(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Eo(this._engine,this,this._options);const n=this._engine.plugins.getAvailablePlugins(this);for(const[i,r]of n)this.plugins.set(i,r);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=he(this.actualOptions.duration)*1e3,this._delay=he(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,i]of this.drawers)i.init&&await i.init(this);for(const[,i]of this.plugins)i.init&&await i.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,i]of this.plugins)i.particlesSetup&&i.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){at(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(at(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!at(this))return;const n=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),n)for(const[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(n||!1)}async refresh(){if(at(this))return this.stop(),this.start()}async reset(){if(at(this))return this._initialSourceOptions=void 0,this._options=Eo(this._engine,this),this.actualOptions=Eo(this._engine,this,this._options),this.refresh()}setNoise(e,n,i){at(this)&&this.setPath(e,n,i)}setPath(e,n,i){if(!e||!at(this))return;const r={...q1};if(lC(e))r.generate=e,n&&(r.init=n),i&&(r.update=i);else{const s=r;r.generate=e.generate||s.generate,r.init=e.init||s.init,r.update=e.update||s.update}this.addPath(X8,r,!0)}async start(){!at(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,n]of this.plugins)n.start&&await n.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!at(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}class Z8{constructor(){this._listeners=new Map}addEventListener(e,n){this.removeEventListener(e,n);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(n)}dispatchEvent(e,n){const i=this._listeners.get(e);i&&i.forEach(r=>r(n))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,n){const i=this._listeners.get(e);if(!i)return;const r=i.length,s=i.indexOf(n);s<0||(r===1?this._listeners.delete(e):i.splice(s,1))}}function Bp(t,e,n,i=!1){let r=e.get(t);return(!r||i)&&(r=[...n.values()].map(s=>s(t)),e.set(t,r)),r}class J8{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,n){this._initializers.interactors.set(e,n)}addParticleMover(e,n){this._initializers.movers.set(e,n)}addParticleUpdater(e,n){this._initializers.updaters.set(e,n)}addPathGenerator(e,n){!this.getPathGenerator(e)&&this.pathGenerators.set(e,n)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,n,i=!1){(i||!this.getPreset(e))&&this.presets.set(e,n)}addShapeDrawer(e,n){jt(e,i=>{!this.getShapeDrawer(i)&&this.drawers.set(i,n)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const n=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&n.set(i.id,i.getPlugin(e));return n}getInteractors(e,n=!1){return Bp(e,this.interactors,this._initializers.interactors,n)}getMovers(e,n=!1){return Bp(e,this.movers,this._initializers.movers,n)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(n=>n.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,n=!1){return Bp(e,this.updaters,this._initializers.updaters,n)}loadOptions(e,n){for(const i of this.plugins)i.loadOptions(e,n)}loadParticlesOptions(e,n,...i){const r=this.updaters.get(e);if(r)for(const s of r)s.loadOptions&&s.loadOptions(n,...i)}}async function eV(t){const e=br(t.url,t.index);if(!e)return t.fallback;const n=await fetch(e);return n.ok?n.json():(eo().error(`${gi} ${n.status} while retrieving config file`),t.fallback)}function tV(t){return!t.id&&!t.element&&!t.url&&!t.options}function nV(t){return!tV(t)}class iV{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new Z8,this._initialized=!1,this.plugins=new J8(this)}get configs(){const e={};for(const[n,i]of this._configs)e[n]=i;return e}get version(){return"2.12.0"}addConfig(e,n){Ri(e)?n&&(n.name=e,this._configs.set(e,n)):this._configs.set(e.name??"default",e)}addEventListener(e,n){this._eventDispatcher.addEventListener(e,n)}async addInteractor(e,n,i=!0){this.plugins.addInteractor(e,n),await this.refresh(i)}async addMover(e,n,i=!0){this.plugins.addParticleMover(e,n),await this.refresh(i)}async addParticleUpdater(e,n,i=!0){this.plugins.addParticleUpdater(e,n),await this.refresh(i)}async addPathGenerator(e,n,i=!0){this.plugins.addPathGenerator(e,n),await this.refresh(i)}async addPlugin(e,n=!0){this.plugins.addPlugin(e),await this.refresh(n)}async addPreset(e,n,i=!1,r=!0){this.plugins.addPreset(e,n,i),await this.refresh(r)}async addShape(e,n,i,r,s,a=!0){let c,u=a,h,d,p;us(i)?(u=i,h=void 0):h=i,us(r)?(u=r,d=void 0):d=r,us(s)?(u=s,p=void 0):p=s,lC(n)?c={afterEffect:d,destroy:p,draw:n,init:h}:c=n,this.plugins.addShapeDrawer(e,c),await this.refresh(u)}dispatchEvent(e,n){this._eventDispatcher.dispatchEvent(e,n)}dom(){return this._domArray}domItem(e){const n=this.dom(),i=n[e];if(!i||i.destroyed){n.splice(e,1);return}return i}init(){this._initialized||(this._initialized=!0)}async load(e,n){return this.loadFromArray(e,n)}async loadFromArray(e,n,i){let r;return nV(e)?r=e:(r={},Ri(e)?r.id=e:r.options=e,Mi(n)?r.index=n:r.options=n??r.options,r.index=i??r.index),this._loadParams(r)}async loadJSON(e,n,i){let r,s;return Mi(n)||n===void 0?r=e:(s=e,r=n),this._loadParams({id:s,url:r,index:i})}async refresh(e=!0){e&&this.dom().forEach(n=>n.refresh())}removeEventListener(e,n){this._eventDispatcher.removeEventListener(e,n)}async set(e,n,i,r){const s={index:r};return Ri(e)?s.id=e:s.element=e,n instanceof HTMLElement?s.element=n:s.options=n,Mi(i)?s.index=i:s.options=i??s.options,this._loadParams(s)}async setJSON(e,n,i,r){const s={};return e instanceof HTMLElement?(s.element=e,s.url=n,s.index=i):(s.id=e,s.element=n,s.url=i,s.index=r),this._loadParams(s)}setOnClickHandler(e){const n=this.dom();if(!n.length)throw new Error(`${gi} can only set click handlers after calling tsParticles.load()`);for(const i of n)i.addClickHandler(e)}async _loadParams(e){const n=e.id??`tsparticles${Math.floor(Ze()*1e4)}`,{index:i,url:r}=e,s=r?await eV({fallback:e.options,url:r,index:i}):e.options;let a=e.element??document.getElementById(n);a||(a=document.createElement("div"),a.id=n,document.body.append(a));const c=br(s,i),u=this.dom(),h=u.findIndex(g=>g.id===n);if(h>=0){const g=this.domItem(h);g&&!g.destroyed&&(g.destroy(),u.splice(h,1))}let d;if(a.tagName.toLowerCase()==="canvas")d=a,d.dataset[gl]="false";else{const g=a.getElementsByTagName("canvas");g.length?(d=g[0],d.dataset[gl]="false"):(d=document.createElement("canvas"),d.dataset[gl]="true",a.appendChild(d))}d.style.width||(d.style.width="100%"),d.style.height||(d.style.height="100%");const p=new Q8(this,n,c);return h>=0?u.splice(h,0,p):u.push(p),p.canvas.loadCanvas(d),await p.start(),p}}class rV{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return ya(i)}handleRangeColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return ya({h:he(i.h),l:he(i.l),s:he(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const n=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=n.exec(e);return i?qW({a:i.length>4?tC(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}}class sV{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return{r:he(i.r),g:he(i.g),b:he(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const n=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=n.exec(e);return i?{a:i.length>4?tC(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}}function oV(){const t=new sV,e=new rV;L1(t),L1(e);const n=new iV;return n.init(),n}class nr{constructor(e){this.container=e,this.type="external"}}class rv{constructor(e){this.container=e,this.type="particles"}}const Rh=oV();ga()||(window.tsParticles=Rh);const Go=t=>typeof t=="object"&&t!==null;function Mh(t,e,n=()=>!1){if(!Go(t)||!Go(e))return t===e;const i=Object.keys(t).filter(s=>!n(s)),r=Object.keys(e).filter(s=>!n(s));if(i.length!==r.length)return!1;for(const s of i){const a=t[s],c=e[s];if(Go(a)&&Go(c)){if(a===e&&c===t)continue;if(!Mh(a,c,n))return!1}else if(Array.isArray(a)&&Array.isArray(c)){if(!wC(a,c,n))return!1}else if(a!==c)return!1}return!0}function wC(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){const r=t[i],s=e[i];if(Array.isArray(r)&&Array.isArray(s)){if(!wC(r,s,n))return!1}else if(Go(r)&&Go(s)){if(!Mh(r,s,n))return!1}else if(r!==s)return!1}return!0}const xC="tsparticles";let bC=class SC extends G.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){const n=e.options??e.params,i=this.props.options??this.props.params;return e.url!==this.props.url||e.id!==this.props.id||e.canvasClassName!==this.props.canvasClassName||e.className!==this.props.className||e.height!==this.props.height||e.width!==this.props.width||!Mh(e.style,this.props.style)||e.init!==this.props.init||e.loaded!==this.props.loaded||!Mh(n,i,r=>r.startsWith("_"))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(Rh),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:n,className:i,canvasClassName:r,id:s}=this.props;return Ws.createElement("div",{className:i,id:s},Ws.createElement("canvas",{className:r,style:{...this.props.style,width:e,height:n}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=this.props.id??SC.defaultProps.id??xC,n=await Rh.load({url:this.props.url,id:e,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=n),this.setState({library:n}),this.props.loaded&&await this.props.loaded(n)}};bC.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:xC};class Oh{static init(e){var s;const n=new Oh,i=e.selector;if(!i)throw new Error("No selector provided");const r=document.querySelector(i);if(!r)throw new Error("No element found for selector");return Rh.set(i.replace(".","").replace("!",""),r,{fullScreen:{enable:!1},particles:{color:{value:e.color??"!000000"},links:{color:"random",distance:e.minDistance??120,enable:e.connectParticles??!1},move:{enable:!0,speed:e.speed??.5},number:{value:e.maxParticles??100},size:{value:{min:1,max:e.sizeVariations??3}}},responsive:(s=e.responsive)==null?void 0:s.map(a=>{var c,u,h,d,p;return{maxWidth:a.breakpoint,options:{particles:{color:{value:(c=a.options)==null?void 0:c.color},links:{distance:(u=a.options)==null?void 0:u.minDistance,enable:(h=a.options)==null?void 0:h.connectParticles},number:{value:e.maxParticles},move:{enable:!0,speed:(d=a.options)==null?void 0:d.speed},size:{value:(p=a.options)==null?void 0:p.sizeVariations}}}}})}).then(a=>{n._container=a}),n}destroy(){const e=this._container;e&&e.destroy()}pauseAnimation(){const e=this._container;e&&e.pause()}resumeAnimation(){const e=this._container;e&&e.play()}}const aV=t=>{const e=(i,r)=>t.load(i,r);e.load=(i,r,s)=>{t.loadJSON(i,r).then(a=>{a&&s(a)}).catch(()=>{s(void 0)})},e.setOnClickHandler=i=>{t.setOnClickHandler(i)};const n=t.dom();return{particlesJS:e,pJSDom:n}},lV=t=>{const{particlesJS:e,pJSDom:n}=aV(t);return window.particlesJS=e,window.pJSDom=n,window.Particles=Oh,{particlesJS:e,pJSDom:n,Particles:Oh}};function cV(t){const e=t.initialPosition,{dx:n,dy:i}=fn(e,t.position),r=Math.abs(n),s=Math.abs(i),{maxDistance:a}=t.retina,c=a.horizontal,u=a.vertical;if(!(!c&&!u)){if((c&&r>=c||u&&s>=u)&&!t.misplaced)t.misplaced=!!c&&r>c||!!u&&s>u,c&&(t.velocity.x=t.velocity.y/2-t.velocity.x),u&&(t.velocity.y=t.velocity.x/2-t.velocity.y);else if((!c||r<c)&&(!u||s<u)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const h=t.position,d=t.velocity;c&&(h.x<e.x&&d.x<0||h.x>e.x&&d.x>0)&&(d.x*=-Ze()),u&&(h.y<e.y&&d.y<0||h.y>e.y&&d.y>0)&&(d.y*=-Ze())}}}function uV(t,e,n,i,r,s){fV(t,s);const a=t.gravity,c=a!=null&&a.enable&&a.inverse?-1:1;r&&n&&(t.velocity.x+=r*s.factor/(60*n)),a!=null&&a.enable&&n&&(t.velocity.y+=c*(a.acceleration*s.factor)/(60*n));const u=t.moveDecay;t.velocity.multTo(u);const h=t.velocity.mult(n);a!=null&&a.enable&&i>0&&(!a.inverse&&h.y>=0&&h.y>=i||a.inverse&&h.y<=0&&h.y<=-i)&&(h.y=c*i,n&&(t.velocity.y=h.y/n));const d=t.options.zIndex,p=(1-t.zIndexFactor)**d.velocityRate;h.multTo(p);const{position:g}=t;g.addTo(h),e.vibrate&&(g.x+=Math.sin(g.x*Math.cos(g.y)),g.y+=Math.cos(g.y*Math.sin(g.x)))}function hV(t,e){const n=t.container;if(!t.spin)return;const i={x:t.spin.direction==="clockwise"?Math.cos:Math.sin,y:t.spin.direction==="clockwise"?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*i.x(t.spin.angle),t.position.y=t.spin.center.y+t.spin.radius*i.y(t.spin.angle),t.spin.radius+=t.spin.acceleration;const r=Math.max(n.canvas.size.width,n.canvas.size.height);t.spin.radius>r/2?(t.spin.radius=r/2,t.spin.acceleration*=-1):t.spin.radius<0&&(t.spin.radius=0,t.spin.acceleration*=-1),t.spin.angle+=e/100*(1-t.spin.radius/r)}function fV(t,e){var a;const n=t.options,i=n.move.path;if(!i.enable)return;if(t.lastPathTime<=t.pathDelay){t.lastPathTime+=e.value;return}const s=(a=t.pathGenerator)==null?void 0:a.generate(t,e);s&&t.velocity.addTo(s),i.clamp&&(t.velocity.x=Fi(t.velocity.x,-1,1),t.velocity.y=Fi(t.velocity.y,-1,1)),t.lastPathTime-=t.pathDelay}function dV(t){return t.slow.inRange?t.slow.factor:1}const pV=2;class mV{constructor(){this._initSpin=e=>{const n=e.container,i=e.options,r=i.move.spin;if(!r.enable)return;const s=r.position??{x:50,y:50},a={x:s.x/100*n.canvas.size.width,y:s.y/100*n.canvas.size.height},c=e.getPosition(),u=$n(c,a),h=he(r.acceleration);e.retina.spinAcceleration=h*n.retina.pixelRatio,e.spin={center:a,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:u,acceleration:e.retina.spinAcceleration}}}init(e){const n=e.options,i=n.move.gravity;e.gravity={enable:i.enable,acceleration:he(i.acceleration),inverse:i.inverse},this._initSpin(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,n){var w,b;const i=e.options,r=i.move;if(!r.enable)return;const s=e.container,a=s.retina.pixelRatio,c=dV(e),u=((w=e.retina).moveSpeed??(w.moveSpeed=he(r.speed)*a))*s.retina.reduceFactor,h=(b=e.retina).moveDrift??(b.moveDrift=he(e.options.move.drift)*a),d=Jr(i.size.value)*a,p=r.size?e.getRadius()/d:1,g=u*p*c*(n.factor||1)/pV,y=e.retina.maxSpeed??s.retina.maxSpeed;r.spin.enable?hV(e,g):uV(e,r,g,y,h,n),cV(e)}}async function gV(t,e=!0){await t.addMover("base",()=>new mV,e)}class yV{draw(e,n,i){n.circleRange||(n.circleRange={min:0,max:Math.PI*2});const r=n.circleRange;e.arc(0,0,i,r.min,r.max,!1)}getSidesCount(){return 12}particleInit(e,n){const i=n.shapeData,r=(i==null?void 0:i.angle)??{max:360,min:0};n.circleRange=Ho(r)?{min:r.min*Math.PI/180,max:r.max*Math.PI/180}:{min:0,max:r*Math.PI/180}}}async function vV(t,e=!0){await t.addShape("circle",new yV,e)}function Wp(t,e,n,i,r){if(!e||!n.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=t.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const s=Cn(n.offset),a=(e.velocity??0)*t.factor+s*3.6,c=e.decay??1;!r||e.status==="increasing"?(e.value+=a,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=a,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&c!==1&&(e.velocity*=c),e.value>i&&(e.value%=i)}function _V(t,e){const{h:n,s:i,l:r}=t.options.color.animation,{color:s}=t;if(!s)return;const{h:a,s:c,l:u}=s;a&&Wp(e,a,n,360,!1),c&&Wp(e,c,i,100,!0),u&&Wp(e,u,r,100,!0)}class wV{constructor(e){this.container=e}init(e){const n=Vl(e.options.color,e.id,e.options.reduceDuplicates);n&&(e.color=dC(n,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){const{h:n,s:i,l:r}=e.options.color.animation,{color:s}=e;return!e.destroyed&&!e.spawning&&((s==null?void 0:s.h.value)!==void 0&&n.enable||(s==null?void 0:s.s.value)!==void 0&&i.enable||(s==null?void 0:s.l.value)!==void 0&&r.enable)}update(e,n){_V(e,n)}}async function xV(t,e=!0){await t.addParticleUpdater("color",n=>new wV(n),e)}function bV(t,e,n,i){switch(t.options.opacity.animation.destroy){case"max":e>=i&&t.destroy();break;case"min":e<=n&&t.destroy();break}}function SV(t,e){const n=t.opacity;if(t.destroyed||!(n!=null&&n.enable)||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0))return;const i=n.min,r=n.max,s=n.decay??1;if(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=e.value),!((n.delayTime??0)>0&&n.time<(n.delayTime??0))){switch(n.status){case"increasing":n.value>=r?(n.status="decreasing",n.loops||(n.loops=0),n.loops++):n.value+=(n.velocity??0)*e.factor;break;case"decreasing":n.value<=i?(n.status="increasing",n.loops||(n.loops=0),n.loops++):n.value-=(n.velocity??0)*e.factor;break}n.velocity&&n.decay!==1&&(n.velocity*=s),bV(t,n.value,i,r),t.destroyed||(n.value=Fi(n.value,i,r))}}class kV{constructor(e){this.container=e}init(e){const n=e.options.opacity;e.opacity=oC(n,1);const i=n.animation;i.enable&&(e.opacity.velocity=he(i.speed)/100*this.container.retina.reduceFactor,i.sync||(e.opacity.velocity*=Ze()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,n){this.isEnabled(e)&&SV(e,n)}}async function CV(t,e=!0){await t.addParticleUpdater("opacity",n=>new kV(n),e)}function TV(t){if(t.outMode!=="bounce"&&t.outMode!=="bounce-horizontal"&&t.outMode!=="bounceHorizontal"&&t.outMode!=="split"||t.direction!=="left"&&t.direction!=="right")return;t.bounds.right<0&&t.direction==="left"?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction==="right"&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let n=!1;if(t.direction==="right"&&t.bounds.right>=t.canvasSize.width&&e>0||t.direction==="left"&&t.bounds.left<=0&&e<0){const r=Js(t.particle.options.bounce.horizontal);t.particle.velocity.x*=-r,n=!0}if(!n)return;const i=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction==="right"?t.particle.position.x=t.canvasSize.width-i:t.bounds.left<=0&&t.direction==="left"&&(t.particle.position.x=i),t.outMode==="split"&&t.particle.destroy()}function EV(t){if(t.outMode!=="bounce"&&t.outMode!=="bounce-vertical"&&t.outMode!=="bounceVertical"&&t.outMode!=="split"||t.direction!=="bottom"&&t.direction!=="top")return;t.bounds.bottom<0&&t.direction==="top"?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction==="bottom"&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let n=!1;if(t.direction==="bottom"&&t.bounds.bottom>=t.canvasSize.height&&e>0||t.direction==="top"&&t.bounds.top<=0&&e<0){const r=Js(t.particle.options.bounce.vertical);t.particle.velocity.y*=-r,n=!0}if(!n)return;const i=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction==="bottom"?t.particle.position.y=t.canvasSize.height-i:t.bounds.top<=0&&t.direction==="top"&&(t.particle.position.y=i),t.outMode==="split"&&t.particle.destroy()}class NV{constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;let a=!1;for(const[,g]of s.plugins)if(g.particleBounce!==void 0&&(a=g.particleBounce(e,i,n)),a)break;if(a)return;const c=e.getPosition(),u=e.offset,h=e.getRadius(),d=hc(c,h),p=s.canvas.size;TV({particle:e,outMode:r,direction:n,bounds:d,canvasSize:p,offset:u,size:h}),EV({particle:e,outMode:r,direction:n,bounds:d,canvasSize:p,offset:u,size:h})}}class AV{constructor(e){this.container=e,this.modes=["destroy"]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"normal":case"outside":if(ev(e.position,s.canvas.size,zt.origin,e.getRadius(),n))return;break;case"inside":{const{dx:a,dy:c}=fn(e.position,e.moveCenter),{x:u,y:h}=e.velocity;if(u<0&&a>e.moveCenter.radius||h<0&&c>e.moveCenter.radius||u>=0&&a<-e.moveCenter.radius||h>=0&&c<-e.moveCenter.radius)return;break}}s.particles.remove(e,void 0,!0)}}class PV{constructor(e){this.container=e,this.modes=["none"]}update(e,n,i,r){if(!this.modes.includes(r)||e.options.move.distance.horizontal&&(n==="left"||n==="right")||e.options.move.distance.vertical&&(n==="top"||n==="bottom"))return;const s=e.options.move.gravity,a=this.container,c=a.canvas.size,u=e.getRadius();if(s.enable){const h=e.position;(!s.inverse&&h.y>c.height+u&&n==="bottom"||s.inverse&&h.y<-u&&n==="top")&&a.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=c.height+u||e.velocity.y<0&&e.position.y>=-u||e.velocity.x>0&&e.position.x<=c.width+u||e.velocity.x<0&&e.position.x>=-u)return;ev(e.position,a.canvas.size,zt.origin,u,n)||a.particles.remove(e)}}}class IV{constructor(e){this.container=e,this.modes=["out"]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"inside":{const{x:a,y:c}=e.velocity,u=zt.origin;u.length=e.moveCenter.radius,u.angle=e.velocity.angle+Math.PI,u.addTo(zt.create(e.moveCenter));const{dx:h,dy:d}=fn(e.position,u);if(a<=0&&h>=0||c<=0&&d>=0||a>=0&&h<=0||c>=0&&d<=0)return;e.position.x=Math.floor(Cn({min:0,max:s.canvas.size.width})),e.position.y=Math.floor(Cn({min:0,max:s.canvas.size.height}));const{dx:p,dy:g}=fn(e.position,e.moveCenter);e.direction=Math.atan2(-g,-p),e.velocity.angle=e.direction;break}default:{if(ev(e.position,s.canvas.size,zt.origin,e.getRadius(),n))return;switch(e.outType){case"outside":{e.position.x=Math.floor(Cn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(Cn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:a,dy:c}=fn(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(c,a),e.velocity.angle=e.direction);break}case"normal":{const a=e.options.move.warp,c=s.canvas.size,u={bottom:c.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:c.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},h=e.getRadius(),d=hc(e.position,h);n==="right"&&d.left>c.width+e.offset.x?(e.position.x=u.left,e.initialPosition.x=e.position.x,a||(e.position.y=Ze()*c.height,e.initialPosition.y=e.position.y)):n==="left"&&d.right<-e.offset.x&&(e.position.x=u.right,e.initialPosition.x=e.position.x,a||(e.position.y=Ze()*c.height,e.initialPosition.y=e.position.y)),n==="bottom"&&d.top>c.height+e.offset.y?(a||(e.position.x=Ze()*c.width,e.initialPosition.x=e.position.x),e.position.y=u.top,e.initialPosition.y=e.position.y):n==="top"&&d.bottom<-e.offset.y&&(a||(e.position.x=Ze()*c.width,e.initialPosition.x=e.position.x),e.position.y=u.bottom,e.initialPosition.y=e.position.y);break}}break}}}}class RV{constructor(e){this.container=e,this._updateOutMode=(n,i,r,s)=>{for(const a of this.updaters)a.update(n,s,i,r)},this.updaters=[new NV(e),new AV(e),new IV(e),new PV(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,n){const i=e.options.move.outModes;this._updateOutMode(e,n,i.bottom??i.default,"bottom"),this._updateOutMode(e,n,i.left??i.default,"left"),this._updateOutMode(e,n,i.right??i.default,"right"),this._updateOutMode(e,n,i.top??i.default,"top")}}async function MV(t,e=!0){await t.addParticleUpdater("outModes",n=>new RV(n),e)}function OV(t,e,n,i){switch(t.options.size.animation.destroy){case"max":e>=i&&t.destroy();break;case"min":e<=n&&t.destroy();break}}function DV(t,e){const n=t.size;if(t.destroyed||!n||!n.enable||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0))return;const i=(n.velocity??0)*e.factor,r=n.min,s=n.max,a=n.decay??1;if(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=e.value),!((n.delayTime??0)>0&&n.time<(n.delayTime??0))){switch(n.status){case"increasing":n.value>=s?(n.status="decreasing",n.loops||(n.loops=0),n.loops++):n.value+=i;break;case"decreasing":n.value<=r?(n.status="increasing",n.loops||(n.loops=0),n.loops++):n.value-=i}n.velocity&&a!==1&&(n.velocity*=a),OV(t,n.value,r,s),t.destroyed||(n.value=Fi(n.value,r,s))}}class LV{init(e){const n=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??n.retina.sizeAnimationSpeed)/100*n.retina.reduceFactor,r.sync||(e.size.velocity*=Ze()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??0)<=0||(e.size.maxLoops??0)>0&&(e.size.loops??0)<(e.size.maxLoops??0))}reset(e){e.size.loops=0}update(e,n){this.isEnabled(e)&&DV(e,n)}}async function FV(t,e=!0){await t.addParticleUpdater("size",()=>new LV,e)}async function zV(t,e=!0){await gV(t,!1),await vV(t,!1),await xV(t,!1),await CV(t,!1),await MV(t,!1),await FV(t,!1),await t.refresh(e)}async function jV(){Np("ease-in-quad",t=>t**2),Np("ease-out-quad",t=>1-(1-t)**2),Np("ease-in-out-quad",t=>t<.5?2*t**2:1-(-2*t+2)**2/2)}class BV{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}let WV=class extends nr{constructor(e,n){super(n),this._clickAttract=()=>{const i=this.container;i.attract||(i.attract={particles:[]});const{attract:r}=i;if(r.finish||(r.count||(r.count=0),r.count++,r.count===i.particles.count&&(r.finish=!0)),r.clicking){const s=i.interactivity.mouse.clickPosition,a=i.retina.attractModeDistance;if(!a||a<0||!s)return;this._processAttract(s,a,new en(s.x,s.y,a))}else r.clicking===!1&&(r.particles=[])},this._hoverAttract=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.attractModeDistance;!s||s<0||!r||this._processAttract(r,s,new en(r.x,r.y,s))},this._processAttract=(i,r,s)=>{const a=this.container,c=a.actualOptions.interactivity.modes.attract;if(!c)return;const u=a.particles.quadTree.query(s,h=>this.isEnabled(h));for(const h of u){const{dx:d,dy:p,distance:g}=fn(h.position,i),y=c.speed*c.factor,w=Fi(eC(c.easing)(1-g/r)*y,0,c.maxSpeed),b=zt.create(g===0?y:d/g*w,g===0?y:p/g*w);h.position.subFrom(b)}},this._engine=e,n.attract||(n.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.attract;if(!(!s||i!=="attract")){n.attract||(n.attract={particles:[]}),n.attract.clicking=!0,n.attract.count=0;for(const a of n.attract.particles)this.isEnabled(a)&&a.velocity.setTo(a.initialVelocity);n.attract.particles=[],n.attract.finish=!1,setTimeout(()=>{n.destroyed||(n.attract||(n.attract={particles:[]}),n.attract.clicking=!1)},s.duration*1e3)}}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.attract;n&&(e.retina.attractModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===Zs,r=n.interactivity.events,s=r.onHover.enable,a=r.onHover.mode,c=r.onClick.enable,u=r.onClick.mode;i&&s&&xt("attract",a)?this._hoverAttract():c&&xt("attract",u)&&this._clickAttract()}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events;if((!r.position||!s.onHover.enable)&&(!r.clickPosition||!s.onClick.enable))return!1;const a=s.onHover.mode,c=s.onClick.mode;return xt("attract",a)||xt("attract",c)}loadModeOptions(e,...n){e.attract||(e.attract=new BV);for(const i of n)e.attract.load(i==null?void 0:i.attract)}reset(){}};async function VV(t,e=!0){await t.addInteractor("externalAttract",n=>new WV(t,n),e)}class UV{constructor(){this.distance=200}load(e){e&&e.distance!==void 0&&(this.distance=e.distance)}}class qV extends nr{constructor(e){super(e),this._processBounce=(n,i,r)=>{const s=this.container.particles.quadTree.query(r,a=>this.isEnabled(a));for(const a of s)r instanceof en?rC(og(a),{position:n,radius:i,mass:i**2*Math.PI/2,velocity:zt.origin,factor:zt.origin}):r instanceof zi&&BW(a,hc(n,i))},this._processMouseBounce=()=>{const n=this.container,i=n.retina.pixelRatio,r=10*i,s=n.interactivity.mouse.position,a=n.retina.bounceModeDistance;!a||a<0||!s||this._processBounce(s,a,new en(s.x,s.y,a+r))},this._singleSelectorBounce=(n,i)=>{const r=this.container,s=document.querySelectorAll(n);s.length&&s.forEach(a=>{const c=a,u=r.retina.pixelRatio,h={x:(c.offsetLeft+c.offsetWidth/2)*u,y:(c.offsetTop+c.offsetHeight/2)*u},d=c.offsetWidth/2*u,p=10*u,g=i.type==="circle"?new en(h.x,h.y,d+p):new zi(c.offsetLeft*u-p,c.offsetTop*u-p,c.offsetWidth*u+p*2,c.offsetHeight*u+p*2);this._processBounce(h,d,g)})}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bounce;n&&(e.retina.bounceModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=this.container,n=e.actualOptions,i=n.interactivity.events,r=e.interactivity.status===Zs,s=i.onHover.enable,a=i.onHover.mode,c=i.onDiv;r&&s&&xt("bounce",a)?this._processMouseBounce():nv("bounce",c,(u,h)=>this._singleSelectorBounce(u,h))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,a=s.onDiv;return r.position&&s.onHover.enable&&xt("bounce",s.onHover.mode)||tv("bounce",a)}loadModeOptions(e,...n){e.bounce||(e.bounce=new UV);for(const i of n)e.bounce.load(i==null?void 0:i.bounce)}reset(){}}async function $V(t,e=!0){await t.addInteractor("externalBounce",n=>new qV(n),e)}class kC{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(e){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const n=Hn(this.color)?void 0:this.color;this.color=jt(e.color,i=>$t.create(n,i))}e.size!==void 0&&(this.size=e.size)}}}class HV extends kC{constructor(){super(),this.selectors=[]}get ids(){return jt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=jt(e,n=>`#${n}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class GV extends kC{load(e){super.load(e),e&&(this.divs=jt(e.divs,n=>{const i=new HV;return i.load(n),i}))}}function $1(t,e,n,i){if(e>=n){const r=t+(e-n)*i;return Fi(r,t,e)}else if(e<n){const r=t-(n-e)*i;return Fi(r,e,t)}}class YV extends nr{constructor(e){super(e),this._clickBubble=()=>{var h;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse.clickPosition,s=i.interactivity.modes.bubble;if(!s||!r)return;n.bubble||(n.bubble={});const a=n.retina.bubbleModeDistance;if(!a||a<0)return;const c=n.particles.quadTree.queryCircle(r,a,d=>this.isEnabled(d)),{bubble:u}=n;for(const d of c){if(!u.clicking)continue;d.bubble.inRange=!u.durationEnd;const p=d.getPosition(),g=$n(p,r),y=(new Date().getTime()-(n.interactivity.mouse.clickTime||0))/1e3;y>s.duration&&(u.durationEnd=!0),y>s.duration*2&&(u.clicking=!1,u.durationEnd=!1);const w={bubbleObj:{optValue:n.retina.bubbleModeSize,value:d.bubble.radius},particlesObj:{optValue:Jr(d.options.size.value)*n.retina.pixelRatio,value:d.size.value},type:"size"};this._process(d,g,y,w);const b={bubbleObj:{optValue:s.opacity,value:d.bubble.opacity},particlesObj:{optValue:Jr(d.options.opacity.value),value:((h=d.opacity)==null?void 0:h.value)??1},type:"opacity"};this._process(d,g,y,b),!u.durationEnd&&g<=a?this._hoverBubbleColor(d,g):delete d.bubble.color}},this._hoverBubble=()=>{const n=this.container,i=n.interactivity.mouse.position,r=n.retina.bubbleModeDistance;if(!r||r<0||i===void 0)return;const s=n.particles.quadTree.queryCircle(i,r,a=>this.isEnabled(a));for(const a of s){a.bubble.inRange=!0;const c=a.getPosition(),u=$n(c,i),h=1-u/r;u<=r?h>=0&&n.interactivity.status===Zs&&(this._hoverBubbleSize(a,h),this._hoverBubbleOpacity(a,h),this._hoverBubbleColor(a,h)):this.reset(a),n.interactivity.status===rg&&this.reset(a)}},this._hoverBubbleColor=(n,i,r)=>{const s=this.container.actualOptions,a=r??s.interactivity.modes.bubble;if(a){if(!n.bubble.finalColor){const c=a.color;if(!c)return;const u=br(c);n.bubble.finalColor=Vl(u)}if(n.bubble.finalColor)if(a.mix){n.bubble.color=void 0;const c=n.getFillColor();n.bubble.color=c?uC(iv(c,n.bubble.finalColor,1-i,i)):n.bubble.finalColor}else n.bubble.color=n.bubble.finalColor}},this._hoverBubbleOpacity=(n,i,r)=>{var p,g;const s=this.container,a=s.actualOptions,c=(r==null?void 0:r.opacity)??((p=a.interactivity.modes.bubble)==null?void 0:p.opacity);if(!c)return;const u=n.options.opacity.value,h=((g=n.opacity)==null?void 0:g.value)??1,d=$1(h,c,Jr(u),i);d!==void 0&&(n.bubble.opacity=d)},this._hoverBubbleSize=(n,i,r)=>{const s=this.container,a=r!=null&&r.size?r.size*s.retina.pixelRatio:s.retina.bubbleModeSize;if(a===void 0)return;const c=Jr(n.options.size.value)*s.retina.pixelRatio,u=n.size.value,h=$1(u,a,c,i);h!==void 0&&(n.bubble.radius=h)},this._process=(n,i,r,s)=>{const a=this.container,c=s.bubbleObj.optValue,u=a.actualOptions,h=u.interactivity.modes.bubble;if(!h||c===void 0)return;const d=h.duration,p=a.retina.bubbleModeDistance,g=s.particlesObj.optValue,y=s.bubbleObj.value,w=s.particlesObj.value||0,b=s.type;if(!(!p||p<0||c===g))if(a.bubble||(a.bubble={}),a.bubble.durationEnd)y&&(b==="size"&&delete n.bubble.radius,b==="opacity"&&delete n.bubble.opacity);else if(i<=p){if((y??w)!==c){const v=w-r*(w-c)/d;b==="size"&&(n.bubble.radius=v),b==="opacity"&&(n.bubble.opacity=v)}}else b==="size"&&delete n.bubble.radius,b==="opacity"&&delete n.bubble.opacity},this._singleSelectorHover=(n,i,r)=>{const s=this.container,a=document.querySelectorAll(i),c=s.actualOptions.interactivity.modes.bubble;!c||!a.length||a.forEach(u=>{const h=u,d=s.retina.pixelRatio,p={x:(h.offsetLeft+h.offsetWidth/2)*d,y:(h.offsetTop+h.offsetHeight/2)*d},g=h.offsetWidth/2*d,y=r.type==="circle"?new en(p.x,p.y,g):new zi(h.offsetLeft*d,h.offsetTop*d,h.offsetWidth*d,h.offsetHeight*d),w=s.particles.quadTree.query(y,b=>this.isEnabled(b));for(const b of w){if(!y.contains(b.getPosition()))continue;b.bubble.inRange=!0;const T=c.divs,v=iC(T,h);(!b.bubble.div||b.bubble.div!==h)&&(this.clear(b,n,!0),b.bubble.div=h),this._hoverBubbleSize(b,1,v),this._hoverBubbleOpacity(b,1,v),this._hoverBubbleColor(b,1,v)}})},e.bubble||(e.bubble={}),this.handleClickMode=n=>{n==="bubble"&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,n,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bubble;n&&(e.retina.bubbleModeDistance=n.distance*e.retina.pixelRatio,n.size!==void 0&&(e.retina.bubbleModeSize=n.size*e.retina.pixelRatio))}async interact(e){const n=this.container.actualOptions,i=n.interactivity.events,r=i.onHover,s=i.onClick,a=r.enable,c=r.mode,u=s.enable,h=s.mode,d=i.onDiv;a&&xt("bubble",c)?this._hoverBubble():u&&xt("bubble",h)?this._clickBubble():nv("bubble",d,(p,g)=>this._singleSelectorHover(e,p,g))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,{onClick:a,onDiv:c,onHover:u}=s,h=tv("bubble",c);return h||u.enable&&r.position||a.enable&&r.clickPosition?xt("bubble",u.mode)||xt("bubble",a.mode)||h:!1}loadModeOptions(e,...n){e.bubble||(e.bubble=new GV);for(const i of n)e.bubble.load(i==null?void 0:i.bubble)}reset(e){e.bubble.inRange=!1}}async function KV(t,e=!0){await t.addInteractor("externalBubble",n=>new YV(n),e)}class XV{constructor(){this.opacity=.5}load(e){e&&e.opacity!==void 0&&(this.opacity=e.opacity)}}class QV{constructor(){this.distance=80,this.links=new XV,this.radius=60}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked),e.radius!==void 0&&(this.radius=e.radius))}}function ZV(t,e,n,i){const r=Math.floor(n.getRadius()/e.getRadius()),s=e.getFillColor(),a=n.getFillColor();if(!s||!a)return;const c=e.getPosition(),u=n.getPosition(),h=iv(s,a,e.getRadius(),n.getRadius()),d=t.createLinearGradient(c.x,c.y,u.x,u.y);return d.addColorStop(0,Ul(s,i)),d.addColorStop(r>1?1:r,Sr(h,i)),d.addColorStop(1,Ul(a,i)),d}function JV(t,e,n,i,r){yl(t,i,r),t.lineWidth=e,t.strokeStyle=n,t.stroke()}function eU(t,e,n,i){const r=t.actualOptions,s=r.interactivity.modes.connect;if(s)return ZV(e,n,i,s.links.opacity)}function tU(t,e,n){t.canvas.draw(i=>{const r=eU(t,i,e,n);if(!r)return;const s=e.getPosition(),a=n.getPosition();JV(i,e.retina.linksWidth??0,r,s,a)})}class nU extends nr{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.connect;n&&(e.retina.connectModeDistance=n.distance*e.retina.pixelRatio,e.retina.connectModeRadius=n.radius*e.retina.pixelRatio)}async interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position;if(!e.retina.connectModeDistance||e.retina.connectModeDistance<0||!e.retina.connectModeRadius||e.retina.connectModeRadius<0||!i)return;const r=Math.abs(e.retina.connectModeRadius),s=e.particles.quadTree.queryCircle(i,r,c=>this.isEnabled(c));let a=0;for(const c of s){const u=c.getPosition();for(const h of s.slice(a+1)){const d=h.getPosition(),p=Math.abs(e.retina.connectModeDistance),g=Math.abs(u.x-d.x),y=Math.abs(u.y-d.y);g<p&&y<p&&tU(e,c,h)}++a}}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&i.position?xt("connect",r.onHover.mode):!1}loadModeOptions(e,...n){e.connect||(e.connect=new QV);for(const i of n)e.connect.load(i==null?void 0:i.connect)}reset(){}}async function iU(t,e=!0){await t.addInteractor("externalConnect",n=>new nU(n),e)}class rU{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){e&&(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=$t.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class sU{constructor(){this.distance=100,this.links=new rU}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked))}}function oU(t,e,n,i,r,s){yl(t,n,i),t.strokeStyle=Sr(r,s),t.lineWidth=e,t.stroke()}function aU(t,e,n,i,r){t.canvas.draw(s=>{const a=e.getPosition();oU(s,e.retina.linksWidth??0,a,r,n,i)})}class lU extends nr{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.grab;n&&(e.retina.grabModeDistance=n.distance*e.retina.pixelRatio)}async interact(){var c;const e=this.container,n=e.actualOptions,i=n.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==Zs)return;const r=e.interactivity.mouse.position;if(!r)return;const s=e.retina.grabModeDistance;if(!s||s<0)return;const a=e.particles.quadTree.queryCircle(r,s,u=>this.isEnabled(u));for(const u of a){const h=u.getPosition(),d=$n(h,r);if(d>s)continue;const p=i.modes.grab.links,g=p.opacity,y=g-d*g/s;if(y<=0)continue;const w=p.color??((c=u.options.links)==null?void 0:c.color);if(!e.particles.grabLineColor&&w){const T=i.modes.grab.links;e.particles.grabLineColor=fC(w,T.blink,T.consent)}const b=ag(u,void 0,e.particles.grabLineColor);b&&aU(e,u,b,y,r)}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&xt("grab",r.onHover.mode)}loadModeOptions(e,...n){e.grab||(e.grab=new sU);for(const i of n)e.grab.load(i==null?void 0:i.grab)}reset(){}}async function cU(t,e=!0){await t.addInteractor("externalGrab",n=>new lU(n),e)}class uU extends nr{constructor(e){super(e),this.handleClickMode=n=>{if(n!=="pause")return;const i=this.container;i.getAnimationStatus()?i.pause():i.play()}}clear(){}init(){}async interact(){}isEnabled(){return!0}reset(){}}async function hU(t,e=!0){await t.addInteractor("externalPause",n=>new uU(n),e)}class fU{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=ke(e)}load(e){if(!e)return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const n=e.quantity??e.particles_nb;n!==void 0&&(this.quantity=ke(n))}}class dU extends nr{constructor(e){super(e),this.handleClickMode=n=>{if(n!=="push")return;const i=this.container,r=i.actualOptions,s=r.interactivity.modes.push;if(!s)return;const a=he(s.quantity);if(a<=0)return;const c=kf([void 0,...s.groups]),u=c!==void 0?i.actualOptions.particles.groups[c]:void 0;i.particles.push(a,i.interactivity.mouse,u,c)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.push||(e.push=new fU);for(const i of n)e.push.load(i==null?void 0:i.push)}reset(){}}async function pU(t,e=!0){await t.addInteractor("externalPush",n=>new dU(n),e)}class mU{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=ke(e)}load(e){if(!e)return;const n=e.quantity??e.particles_nb;n!==void 0&&(this.quantity=ke(n))}}class gU extends nr{constructor(e){super(e),this.handleClickMode=n=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||n!=="remove")return;const s=he(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(s)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.remove||(e.remove=new mU);for(const i of n)e.remove.load(i==null?void 0:i.remove)}reset(){}}async function yU(t,e=!0){await t.addInteractor("externalRemove",n=>new gU(n),e)}class CC{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class vU extends CC{constructor(){super(),this.selectors=[]}get ids(){return jt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=jt(e,n=>`#${n}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class _U extends CC{load(e){super.load(e),e&&(this.divs=jt(e.divs,n=>{const i=new vU;return i.load(n),i}))}}class wU extends nr{constructor(e,n){super(n),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const s=i.repulse||{particles:[]};if(s.finish||(s.count||(s.count=0),s.count++,s.count===i.particles.count&&(s.finish=!0)),s.clicking){const a=i.retina.repulseModeDistance;if(!a||a<0)return;const c=Math.pow(a/6,3),u=i.interactivity.mouse.clickPosition;if(u===void 0)return;const h=new en(u.x,u.y,c),d=i.particles.quadTree.query(h,p=>this.isEnabled(p));for(const p of d){const{dx:g,dy:y,distance:w}=fn(u,p.position),b=w**2,T=r.speed,v=-c*T/b;if(b<=c){s.particles.push(p);const S=zt.create(g,y);S.length=v,p.velocity.setTo(S)}}}else if(s.clicking===!1){for(const a of s.particles)a.velocity.setTo(a.initialVelocity);s.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.repulseModeDistance;!s||s<0||!r||this._processRepulse(r,s,new en(r.x,r.y,s))},this._processRepulse=(i,r,s,a)=>{const c=this.container,u=c.particles.quadTree.query(s,d=>this.isEnabled(d)),h=c.actualOptions.interactivity.modes.repulse;if(h)for(const d of u){const{dx:p,dy:g,distance:y}=fn(d.position,i),w=((a==null?void 0:a.speed)??h.speed)*h.factor,b=Fi(eC(h.easing)(1-y/r)*w,0,h.maxSpeed),T=zt.create(y===0?w:p/y*b,y===0?w:g/y*b);d.position.addTo(T)}},this._singleSelectorRepulse=(i,r)=>{const s=this.container,a=s.actualOptions.interactivity.modes.repulse;if(!a)return;const c=document.querySelectorAll(i);c.length&&c.forEach(u=>{const h=u,d=s.retina.pixelRatio,p={x:(h.offsetLeft+h.offsetWidth/2)*d,y:(h.offsetTop+h.offsetHeight/2)*d},g=h.offsetWidth/2*d,y=r.type==="circle"?new en(p.x,p.y,g):new zi(h.offsetLeft*d,h.offsetTop*d,h.offsetWidth*d,h.offsetHeight*d),w=a.divs,b=iC(w,h);this._processRepulse(p,g,y,b)})},this._engine=e,n.repulse||(n.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.repulse;if(!s||i!=="repulse")return;n.repulse||(n.repulse={particles:[]});const a=n.repulse;a.clicking=!0,a.count=0;for(const c of n.repulse.particles)this.isEnabled(c)&&c.velocity.setTo(c.initialVelocity);a.particles=[],a.finish=!1,setTimeout(()=>{n.destroyed||(a.clicking=!1)},s.duration*1e3)}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.repulse;n&&(e.retina.repulseModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===Zs,r=n.interactivity.events,s=r.onHover,a=s.enable,c=s.mode,u=r.onClick,h=u.enable,d=u.mode,p=r.onDiv;i&&a&&xt("repulse",c)?this._hoverRepulse():h&&xt("repulse",d)?this._clickRepulse():nv("repulse",p,(g,y)=>this._singleSelectorRepulse(g,y))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,a=s.onDiv,c=s.onHover,u=s.onClick,h=tv("repulse",a);if(!(h||c.enable&&r.position||u.enable&&r.clickPosition))return!1;const d=c.mode,p=u.mode;return xt("repulse",d)||xt("repulse",p)||h}loadModeOptions(e,...n){e.repulse||(e.repulse=new _U);for(const i of n)e.repulse.load(i==null?void 0:i.repulse)}reset(){}}async function xU(t,e=!0){await t.addInteractor("externalRepulse",n=>new wU(t,n),e)}class bU{constructor(){this.factor=3,this.radius=200}load(e){e&&(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}class SU extends nr{constructor(e){super(e)}clear(e,n,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.slow;n&&(e.retina.slowModeRadius=n.radius*e.retina.pixelRatio)}async interact(){}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&xt("slow",r.onHover.mode)}loadModeOptions(e,...n){e.slow||(e.slow=new bU);for(const i of n)e.slow.load(i==null?void 0:i.slow)}reset(e){e.slow.inRange=!1;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse.position,s=n.retina.slowModeRadius,a=i.interactivity.modes.slow;if(!a||!s||s<0||!r)return;const c=e.getPosition(),u=$n(r,c),h=u/s,d=a.factor,{slow:p}=e;u>s||(p.inRange=!0,p.factor=h/d)}}async function kU(t,e=!0){await t.addInteractor("externalSlow",n=>new SU(n),e)}const Vp=[0,4,2,1],H1=[8,8,4,2];class CU{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const n=this.data.slice(this.pos,this.pos+e);return this.pos+=n.length,n.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",n=0;do{n=this.data[this.pos++];for(let i=n;--i>=0;e+=String.fromCharCode(this.data[this.pos++]));}while(n!==0);return e}readSubBlocksBin(){let e=0,n=0;for(let r=0;(e=this.data[this.pos+r])!==0;r+=e+1)n+=e;const i=new Uint8Array(n);for(let r=0;(e=this.data[this.pos++])!==0;)for(let s=e;--s>=0;i[r++]=this.data[this.pos++]);return i}skipSubBlocks(){for(;this.data[this.pos]!==0;this.pos+=this.data[this.pos]+1);this.pos++}}function TC(t,e){const n=[];for(let i=0;i<e;i++)n.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return n}async function TU(t,e,n,i){switch(t.nextByte()){case 249:{const r=e.frames[n(!1)];t.pos++;const s=t.nextByte();r.GCreserved=(s&224)>>>5,r.disposalMethod=(s&28)>>>2,r.userInputDelayFlag=(s&2)===2;const a=(s&1)===1;r.delayTime=t.nextTwoBytes()*10;const c=t.nextByte();a&&i(c),t.pos++;break}case 255:{t.pos++;const r={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(r);break}case 254:{e.comments.push([n(!1),t.readSubBlocks()]);break}case 1:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[n(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break}default:t.skipSubBlocks();break}}async function EU(t,e,n,i,r,s){const a=e.frames[i(!0)];a.left=t.nextTwoBytes(),a.top=t.nextTwoBytes(),a.width=t.nextTwoBytes(),a.height=t.nextTwoBytes();const c=t.nextByte(),u=(c&128)===128,h=(c&64)===64;a.sortFlag=(c&32)===32,a.reserved=(c&24)>>>3;const d=1<<(c&7)+1;u&&(a.localColorTable=TC(t,d));const p=v=>{const{r:S,g:k,b:A}=(u?a.localColorTable:e.globalColorTable)[v];return{r:S,g:k,b:A,a:v===r(null)?n?~~((S+k+A)/3):0:255}},g=(()=>{try{return new ImageData(a.width,a.height,{colorSpace:"srgb"})}catch(v){if(v instanceof DOMException&&v.name==="IndexSizeError")return null;throw v}})();if(g==null)throw new EvalError("GIF frame size is to large");const y=t.nextByte(),w=t.readSubBlocksBin(),b=1<<y,T=(v,S)=>{const k=v>>>3,A=v&7;return(w[k]+(w[k+1]<<8)+(w[k+2]<<16)&(1<<S)-1<<A)>>>A};if(h){for(let v=0,S=y+1,k=0,A=[[0]],N=0;N<4;N++)if(Vp[N]<a.height)for(let R=0,M=0;;){const I=v;if(v=T(k,S),k+=S+1,v===b){S=y+1,A.length=b+2;for(let j=0;j<A.length;j++)A[j]=j<b?[j]:[]}else{v>=A.length?A.push(A[I].concat(A[I][0])):I!==b&&A.push(A[I].concat(A[v][0]));for(let j=0;j<A[v].length;j++){const{r:z,g:W,b:q,a:Z}=p(A[v][j]);g.data.set([z,W,q,Z],Vp[N]*a.width+H1[N]*M+R%(a.width*4)),R+=4}A.length===1<<S&&S<12&&S++}if(R===a.width*4*(M+1)&&(M++,Vp[N]+H1[N]*M>=a.height))break}a.image=g,a.bitmap=await createImageBitmap(g)}else{for(let v=0,S=y+1,k=0,A=[[0]],N=-4;;){const R=v;if(v=T(k,S),k+=S,v===b){S=y+1,A.length=b+2;for(let M=0;M<A.length;M++)A[M]=M<b?[M]:[]}else{if(v===b+1)break;v>=A.length?A.push(A[R].concat(A[R][0])):R!==b&&A.push(A[R].concat(A[v][0]));for(let M=0;M<A[v].length;M++){const{r:I,g:j,b:z,a:W}=p(A[v][M]);g.data.set([I,j,z,W],N+=4)}A.length>=1<<S&&S<12&&S++}}a.image=g,a.bitmap=await createImageBitmap(g)}}async function NU(t,e,n,i,r,s){switch(t.nextByte()){case 59:return!0;case 44:await EU(t,e,n,i,r);break;case 33:await TU(t,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function AU(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function PU(t,e,n){n||(n=!1);const i=await fetch(t);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),s={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},a=new CU(new Uint8ClampedArray(r));if(a.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");s.width=a.nextTwoBytes(),s.height=a.nextTwoBytes();const c=a.nextByte(),u=(c&128)===128;s.colorRes=(c&112)>>>4,s.sortFlag=(c&8)===8;const h=1<<(c&7)+1,d=a.nextByte();s.pixelAspectRatio=a.nextByte(),s.pixelAspectRatio!==0&&(s.pixelAspectRatio=(s.pixelAspectRatio+15)/64),u&&(s.globalColorTable=TC(a,h));const p=(()=>{try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(A){if(A instanceof DOMException&&A.name==="IndexSizeError")return null;throw A}})();if(p==null)throw new Error("GIF frame size is to large");const{r:g,g:y,b:w}=s.globalColorTable[d];p.data.set(u?[g,y,w,255]:[0,0,0,0]);for(let A=4;A<p.data.length;A*=2)p.data.copyWithin(A,0,A);s.backgroundImage=p;let b=-1,T=!0,v=-1;const S=A=>(A&&(T=!0),b),k=A=>(A!=null&&(v=A),v);try{do T&&(s.frames.push({left:0,top:0,width:0,height:0,disposalMethod:0,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),b++,v=-1,T=!1);while(!await NU(a,s,n,S,k,e));s.frames.length--;for(const A of s.frames){if(A.userInputDelayFlag&&A.delayTime===0){s.totalTime=1/0;break}s.totalTime+=A.delayTime}return s}catch(A){throw A instanceof EvalError?new Error(`error while parsing frame ${b} "${A.message}"`):A}}const IU=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function RU(t,e,n){const{svgData:i}=t;if(!i)return"";const r=Ul(e,n);if(i.includes("fill"))return i.replace(IU,()=>r);const s=i.indexOf(">");return`${i.substring(0,s)} fill="${r}"${i.substring(s)}`}async function Tf(t){return new Promise(e=>{t.loading=!0;const n=new Image;t.element=n,n.addEventListener("load",()=>{t.loading=!1,e()}),n.addEventListener("error",()=>{t.element=void 0,t.error=!0,t.loading=!1,eo().error(`${gi} loading image: ${t.source}`),e()}),n.src=t.source})}async function MU(t){if(t.type!=="gif"){await Tf(t);return}t.loading=!0;try{t.gifData=await PU(t.source),t.gifLoopCount=AU(t.gifData)??0,t.gifLoopCount===0&&(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}async function OU(t){if(t.type!=="svg"){await Tf(t);return}t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(eo().error(`${gi} Image not found`),t.error=!0),t.loading=!1}function DU(t,e,n,i){var a;const r=RU(t,n,((a=i.opacity)==null?void 0:a.value)??1),s={color:n,gif:e.gif,data:{...t,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor??e.replace_color,source:e.src};return new Promise(c=>{const u=new Blob([r],{type:"image/svg+xml"}),h=URL||window.URL||window.webkitURL||window,d=h.createObjectURL(u),p=new Image;p.addEventListener("load",()=>{s.loaded=!0,s.element=p,c(s),h.revokeObjectURL(d)}),p.addEventListener("error",async()=>{h.revokeObjectURL(d);const g={...t,error:!1,loading:!0};await Tf(g),s.loaded=!0,s.element=g.element,c(s)}),p.src=d})}class LU{constructor(e){this.loadImageShape=async n=>{if(!this._engine.loadImage)throw new Error(`${gi} image shape not initialized`);await this._engine.loadImage({gif:n.gif,name:n.name,replaceColor:n.replaceColor??n.replace_color??!1,src:n.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e,n,i,r,s){const a=n.image,c=a==null?void 0:a.element;if(a){if(e.globalAlpha=r,a.gif&&a.gifData){const u=new OffscreenCanvas(a.gifData.width,a.gifData.height),h=u.getContext("2d");if(!h)throw new Error("could not create offscreen canvas context");h.imageSmoothingQuality="low",h.imageSmoothingEnabled=!1,h.clearRect(0,0,u.width,u.height),n.gifLoopCount===void 0&&(n.gifLoopCount=a.gifLoopCount??0);let d=n.gifFrame??0;const p={x:-a.gifData.width*.5,y:-a.gifData.height*.5},g=a.gifData.frames[d];if(n.gifTime===void 0&&(n.gifTime=0),!g.bitmap)return;switch(e.scale(i/a.gifData.width,i/a.gifData.height),g.disposalMethod){case 4:case 5:case 6:case 7:case 0:h.drawImage(g.bitmap,g.left,g.top),e.drawImage(u,p.x,p.y),h.clearRect(0,0,u.width,u.height);break;case 1:h.drawImage(g.bitmap,g.left,g.top),e.drawImage(u,p.x,p.y);break;case 2:h.drawImage(g.bitmap,g.left,g.top),e.drawImage(u,p.x,p.y),h.clearRect(0,0,u.width,u.height),a.gifData.globalColorTable.length===0?h.putImageData(a.gifData.frames[0].image,p.x+g.left,p.y+g.top):h.putImageData(a.gifData.backgroundImage,p.x,p.y);break;case 3:{const y=h.getImageData(0,0,u.width,u.height);h.drawImage(g.bitmap,g.left,g.top),e.drawImage(u,p.x,p.y),h.clearRect(0,0,u.width,u.height),h.putImageData(y,0,0)}break}if(n.gifTime+=s.value,n.gifTime>g.delayTime){if(n.gifTime-=g.delayTime,++d>=a.gifData.frames.length){if(--n.gifLoopCount<=0)return;d=0,h.clearRect(0,0,u.width,u.height)}n.gifFrame=d}e.scale(a.gifData.width/i,a.gifData.height/i)}else if(c){const u=a.ratio,h={x:-i,y:-i};e.drawImage(c,h.x,h.y,i*2,i*2/u)}e.globalAlpha=1}}getSidesCount(){return 12}async init(e){const n=e.actualOptions;if(!(!n.preload||!this._engine.loadImage))for(const i of n.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const n=e.shapeData;this._engine.images.find(r=>r.name===n.name||r.source===n.src)||this.loadImageShape(n).then(()=>{this.loadShape(e)})}particleInit(e,n){if(n.shape!=="image"&&n.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=n.shapeData,s=n.getFillColor(),a=i.find(u=>u.name===r.name||u.source===r.src);if(!a)return;const c=r.replaceColor??r.replace_color??a.replaceColor;if(a.loading){setTimeout(()=>{this.particleInit(e,n)});return}(async()=>{let u;a.svgData&&s?u=await DU(a,r,s,n):u={color:s,data:a,element:a.element,gif:a.gif,gifData:a.gifData,gifLoopCount:a.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:a.ratio??1,replaceColor:c,source:r.src},u.ratio||(u.ratio=1);const h=r.fill??n.fill,d=r.close??n.close,p={image:u,fill:h,close:d};n.image=p.image,n.fill=p.fill,n.close=p.close})()}}class FU{constructor(){this.src="",this.gif=!1}load(e){e&&(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class zU{constructor(e){this.id="imagePreloader",this._engine=e}getPlugin(){return{}}loadOptions(e,n){if(!n||!n.preload)return;e.preload||(e.preload=[]);const i=e.preload;for(const r of n.preload){const s=i.find(a=>a.name===r.name||a.src===r.src);if(s)s.load(r);else{const a=new FU;a.load(r),i.push(a)}}}needsPlugin(){return!0}}function jU(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${gi} no image source provided`);if(t.images||(t.images=[]),!t.images.find(n=>n.name===e.name||n.source===e.src))try{const n={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-3),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};t.images.push(n),await(e.gif?MU:e.replaceColor?OU:Tf)(n)}catch{throw new Error(`${gi} ${e.name??e.src} not found`)}})}async function BU(t,e=!0){jU(t);const n=new zU(t);await t.addPlugin(n,e),await t.addShape(["image","images"],new LU(t),e)}class WU extends xs{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class VU extends xs{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class UU{constructor(){this.count=0,this.delay=new WU,this.duration=new VU}load(e){e&&(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class qU{constructor(e){this.container=e}init(e){const n=this.container,i=e.options,r=i.life;r&&(e.life={delay:n.retina.reduceFactor?he(r.delay.value)*(r.delay.sync?1:Ze())/n.retina.reduceFactor*1e3:0,delayTime:0,duration:n.retina.reduceFactor?he(r.duration.value)*(r.duration.sync?1:Ze())/n.retina.reduceFactor*1e3:0,time:0,count:r.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e,...n){e.life||(e.life=new UU);for(const i of n)e.life.load(i==null?void 0:i.life)}update(e,n){if(!this.isEnabled(e)||!e.life)return;const i=e.life;let r=!1;if(e.spawning)if(i.delayTime+=n.value,i.delayTime>=e.life.delay)r=!0,e.spawning=!1,i.delayTime=0,i.time=0;else return;if(i.duration===-1||e.spawning||(r?i.time=0:i.time+=n.value,i.time<i.duration))return;if(i.time=0,e.life.count>0&&e.life.count--,e.life.count===0){e.destroy();return}const s=this.container.canvas.size,a=ke(0,s.width),c=ke(0,s.width);e.position.x=Cn(a),e.position.y=Cn(c),e.spawning=!0,i.delayTime=0,i.time=0,e.reset();const u=e.options.life;u&&(i.delay=he(u.delay.value)*1e3,i.duration=he(u.duration.value)*1e3)}}async function $U(t,e=!0){await t.addParticleUpdater("life",n=>new qU(n),e)}class HU{draw(e,n,i){const r=n.shapeData;e.moveTo(-i/2,0),e.lineTo(i/2,0),e.lineCap=(r==null?void 0:r.cap)??"butt"}getSidesCount(){return 1}}async function GU(t,e=!0){await t.addShape("line",new HU,e)}class YU{init(){}isEnabled(e){return!ga()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const n=e.container,i=n.actualOptions,r=i.interactivity.events.onHover.parallax;if(ga()||!r.enable)return;const s=r.force,a=n.interactivity.mouse.position;if(!a)return;const c=n.canvas.size,u={x:c.width/2,y:c.height/2},h=r.smooth,d=e.getRadius()/s,p={x:(a.x-u.x)*d,y:(a.y-u.y)*d},{offset:g}=e;g.x+=(p.x-g.x)/h,g.y+=(p.y-g.y)/h}}async function KU(t,e=!0){await t.addMover("parallax",()=>new YU,e)}class XU extends rv{constructor(e){super(e)}clear(){}init(){}async interact(e){const n=this.container,i=e.retina.attractDistance??n.retina.attractDistance,r=e.getPosition(),s=n.particles.quadTree.queryCircle(r,i);for(const a of s){if(e===a||!a.options.move.attract.enable||a.destroyed||a.spawning)continue;const c=a.getPosition(),{dx:u,dy:h}=fn(r,c),d=e.options.move.attract.rotate,p=u/(d.x*1e3),g=h/(d.y*1e3),y=a.size.value/e.size.value,w=1/y;e.velocity.x-=p*y,e.velocity.y-=g*y,a.velocity.x+=p*w,a.velocity.y+=g*w}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function QU(t,e=!0){await t.addInteractor("particlesAttract",n=>new XU(n),e)}function G1(t,e,n,i,r,s){const a=Fi(t.options.collisions.absorb.speed*r.factor/10,0,i);t.size.value+=a/2,n.size.value-=a,i<=s&&(n.size.value=0,n.destroy())}function ZU(t,e,n,i){const r=t.getRadius(),s=e.getRadius();r===void 0&&s!==void 0?t.destroy():r!==void 0&&s===void 0?e.destroy():r!==void 0&&s!==void 0&&(r>=s?G1(t,r,e,s,n,i):G1(e,s,t,r,n,i))}const Y1=t=>{t.collisionMaxSpeed===void 0&&(t.collisionMaxSpeed=he(t.options.collisions.maxSpeed)),t.velocity.length>t.collisionMaxSpeed&&(t.velocity.length=t.collisionMaxSpeed)};function EC(t,e){rC(og(t),og(e)),Y1(t),Y1(e)}function JU(t,e){!t.unbreakable&&!e.unbreakable&&EC(t,e),t.getRadius()===void 0&&e.getRadius()!==void 0?t.destroy():t.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():t.getRadius()!==void 0&&e.getRadius()!==void 0&&(t.getRadius()>=e.getRadius()?e:t).destroy()}function eq(t,e,n,i){switch(t.options.collisions.mode){case"absorb":{ZU(t,e,n,i);break}case"bounce":{EC(t,e);break}case"destroy":{JU(t,e);break}}}class tq extends rv{constructor(e){super(e)}clear(){}init(){}async interact(e,n){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),s=e.getRadius(),a=i.particles.quadTree.queryCircle(r,s*2);for(const c of a){if(e===c||!c.options.collisions.enable||e.options.collisions.mode!==c.options.collisions.mode||c.destroyed||c.spawning)continue;const u=c.getPosition(),h=c.getRadius();if(Math.abs(Math.round(r.z)-Math.round(u.z))>s+h)continue;const d=$n(r,u),p=s+h;d>p||eq(e,c,n,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function nq(t,e=!0){await t.addInteractor("particlesCollisions",n=>new tq(n),e)}class iq extends en{constructor(e,n,i,r){super(e,n,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:n,height:i}=this.canvasSize,{x:r,y:s}=e;return super.contains(e)||super.contains({x:r-n,y:s})||super.contains({x:r-n,y:s-i})||super.contains({x:r,y:s-i})}intersects(e){if(super.intersects(e))return!0;const n=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const s=new en(r.x,r.y,i.radius*2);return super.intersects(s)}else if(n.size!==void 0){const s=new zi(r.x,r.y,n.size.width*2,n.size.height*2);return super.intersects(s)}return!1}}class rq{constructor(){this.blur=5,this.color=new $t,this.color.value="#000",this.enable=!1}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=$t.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class sq{constructor(){this.enable=!1,this.frequency=1}load(e){e&&(e.color!==void 0&&(this.color=$t.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class oq{constructor(){this.blink=!1,this.color=new $t,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new rq,this.triangles=new sq,this.width=1,this.warp=!1}load(e){e&&(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=$t.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}function aq(t,e,n,i,r){const{dx:s,dy:a,distance:c}=fn(t,e);if(!r||c<=n)return c;const u={x:Math.abs(s),y:Math.abs(a)},h={x:Math.min(u.x,i.width-u.x),y:Math.min(u.y,i.height-u.y)};return Math.sqrt(h.x**2+h.y**2)}class lq extends rv{constructor(e){super(e),this._setColor=n=>{if(!n.options.links)return;const i=this.linkContainer,r=n.options.links;let s=r.id===void 0?i.particles.linksColor:i.particles.linksColors.get(r.id);if(s)return;const a=r.color;s=fC(a,r.blink,r.consent),r.id===void 0?i.particles.linksColor=s:i.particles.linksColors.set(r.id,s)},this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}async interact(e){if(!e.options.links)return;e.links=[];const n=e.getPosition(),i=this.container,r=i.canvas.size;if(n.x<0||n.y<0||n.x>r.width||n.y>r.height)return;const s=e.options.links,a=s.opacity,c=e.retina.linksDistance??0,u=s.warp,h=u?new iq(n.x,n.y,c,r):new en(n.x,n.y,c),d=i.particles.quadTree.query(h);for(const p of d){const g=p.options.links;if(e===p||!(g!=null&&g.enable)||s.id!==g.id||p.spawning||p.destroyed||!p.links||e.links.some(T=>T.destination===p)||p.links.some(T=>T.destination===e))continue;const y=p.getPosition();if(y.x<0||y.y<0||y.x>r.width||y.y>r.height)continue;const w=aq(n,y,c,r,u&&g.warp);if(w>c)continue;const b=(1-w/c)*a;this._setColor(e),e.links.push({destination:p,opacity:b})}}isEnabled(e){var n;return!!((n=e.options.links)!=null&&n.enable)}loadParticlesOptions(e,...n){e.links||(e.links=new oq);for(const i of n)e.links.load((i==null?void 0:i.links)??(i==null?void 0:i.lineLinked)??(i==null?void 0:i.line_linked))}reset(){}}async function cq(t,e=!0){await t.addInteractor("particlesLinks",n=>new lq(n),e)}function uq(t){let e=!1;const{begin:n,end:i,maxDistance:r,context:s,canvasSize:a,width:c,backgroundMask:u,colorLine:h,opacity:d,links:p}=t;if($n(n,i)<=r)yl(s,n,i),e=!0;else if(p.warp){let y,w;const b={x:i.x-a.width,y:i.y},T=fn(n,b);if(T.distance<=r){const v=n.y-T.dy/T.dx*n.x;y={x:0,y:v},w={x:a.width,y:v}}else{const v={x:i.x,y:i.y-a.height},S=fn(n,v);if(S.distance<=r){const A=-(n.y-S.dy/S.dx*n.x)/(S.dy/S.dx);y={x:A,y:0},w={x:A,y:a.height}}else{const k={x:i.x-a.width,y:i.y-a.height},A=fn(n,k);if(A.distance<=r){const N=n.y-A.dy/A.dx*n.x;y={x:-N/(A.dy/A.dx),y:N},w={x:y.x+a.width,y:y.y+a.height}}}}y&&w&&(yl(s,n,y),yl(s,i,w),e=!0)}if(!e)return;s.lineWidth=c,u.enable&&(s.globalCompositeOperation=u.composite),s.strokeStyle=Sr(h,d);const{shadow:g}=p;if(g.enable){const y=Oi(g.color);y&&(s.shadowBlur=g.blur,s.shadowColor=Sr(y))}s.stroke()}function hq(t){const{context:e,pos1:n,pos2:i,pos3:r,backgroundMask:s,colorTriangle:a,opacityTriangle:c}=t;$W(e,n,i,r),s.enable&&(e.globalCompositeOperation=s.composite),e.fillStyle=Sr(a,c),e.fill()}function fq(t){return t.sort((e,n)=>e-n),t.join("_")}function K1(t,e){const n=fq(t.map(r=>r.id));let i=e.get(n);return i===void 0&&(i=Ze(),e.set(n,i)),i}class dq{constructor(e){this.container=e,this._drawLinkLine=(n,i)=>{const r=n.options.links;if(!(r!=null&&r.enable))return;const s=this.container,a=s.actualOptions,c=i.destination,u=n.getPosition(),h=c.getPosition();let d=i.opacity;s.canvas.draw(p=>{var v;let g;const y=(v=n.options.twinkle)==null?void 0:v.lines;if(y!=null&&y.enable){const S=y.frequency,k=Oi(y.color);Ze()<S&&k&&(g=k,d=he(y.opacity))}if(!g){const S=r.id!==void 0?s.particles.linksColors.get(r.id):s.particles.linksColor;g=ag(n,c,S)}if(!g)return;const w=n.retina.linksWidth??0,b=n.retina.linksDistance??0,{backgroundMask:T}=a;uq({context:p,width:w,begin:u,end:h,maxDistance:b,canvasSize:s.canvas.size,links:r,backgroundMask:T,colorLine:g,opacity:d})})},this._drawLinkTriangle=(n,i,r)=>{const s=n.options.links;if(!(s!=null&&s.enable))return;const a=s.triangles;if(!a.enable)return;const c=this.container,u=c.actualOptions,h=i.destination,d=r.destination,p=a.opacity??(i.opacity+r.opacity)/2;p<=0||c.canvas.draw(g=>{const y=n.getPosition(),w=h.getPosition(),b=d.getPosition(),T=n.retina.linksDistance??0;if($n(y,w)>T||$n(b,w)>T||$n(b,y)>T)return;let v=Oi(a.color);if(!v){const S=s.id!==void 0?c.particles.linksColors.get(s.id):c.particles.linksColor;v=ag(n,h,S)}v&&hq({context:g,pos1:y,pos2:w,pos3:b,backgroundMask:u.backgroundMask,colorTriangle:v,opacityTriangle:p})})},this._drawTriangles=(n,i,r,s)=>{var u,h,d;const a=r.destination;if(!((u=n.links)!=null&&u.triangles.enable&&((h=a.options.links)!=null&&h.triangles.enable)))return;const c=(d=a.links)==null?void 0:d.filter(p=>{const g=this._getLinkFrequency(a,p.destination);return a.options.links&&g<=a.options.links.frequency&&s.findIndex(y=>y.destination===p.destination)>=0});if(c!=null&&c.length)for(const p of c){const g=p.destination;this._getTriangleFrequency(i,a,g)>n.links.triangles.frequency||this._drawLinkTriangle(i,r,p)}},this._getLinkFrequency=(n,i)=>K1([n,i],this._freqs.links),this._getTriangleFrequency=(n,i,r)=>K1([n,i,r],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(e,n){const{links:i,options:r}=n;if(!i||i.length<=0)return;const s=i.filter(a=>r.links&&this._getLinkFrequency(n,a.destination)<=r.links.frequency);for(const a of s)this._drawTriangles(r,n,a,s),a.opacity>0&&(n.retina.linksWidth??0)>0&&this._drawLinkLine(n,a)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map}particleCreated(e){if(e.links=[],!e.options.links)return;const n=this.container.retina.pixelRatio,{retina:i}=e,{distance:r,width:s}=e.options.links;i.linksDistance=r*n,i.linksWidth=s*n}particleDestroyed(e){e.links=[]}}class pq{constructor(){this.id="links"}getPlugin(e){return new dq(e)}loadOptions(){}needsPlugin(){return!0}}async function mq(t,e=!0){const n=new pq;await t.addPlugin(n,e)}async function gq(t,e=!0){await cq(t,e),await mq(t,e)}class NC{draw(e,n,i){const r=this.getCenter(n,i),s=this.getSidesData(n,i),a=s.count.numerator*s.count.denominator,c=s.count.numerator/s.count.denominator,u=180*(c-2)/c,h=Math.PI-Math.PI*u/180;if(e){e.beginPath(),e.translate(r.x,r.y),e.moveTo(0,0);for(let d=0;d<a;d++)e.lineTo(s.length,0),e.translate(s.length,0),e.rotate(h)}}getSidesCount(e){const n=e.shapeData;return Math.round(he((n==null?void 0:n.sides)??(n==null?void 0:n.nb_sides)??5))}}class yq extends NC{getCenter(e,n){return{x:-n/(e.sides/3.5),y:-n/(2.66/3.5)}}getSidesData(e,n){const i=e.sides;return{count:{denominator:1,numerator:i},length:n*2.66/(i/3)}}}class vq extends NC{getCenter(e,n){return{x:-n,y:n/1.66}}getSidesCount(){return 3}getSidesData(e,n){return{count:{denominator:2,numerator:3},length:n*2}}}async function _q(t,e=!0){await t.addShape("polygon",new yq,e)}async function wq(t,e=!0){await t.addShape("triangle",new vq,e)}async function xq(t,e=!0){await _q(t,e),await wq(t,e)}class bq{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ke(e.speed)),e.decay!==void 0&&(this.decay=ke(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class Sq extends xs{constructor(){super(),this.animation=new bq,this.direction="clockwise",this.path=!1,this.value=0}load(e){e&&(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}function kq(t,e){const n=t.rotate,i=t.options.rotate;if(!n||!i)return;const r=i.animation,s=(n.velocity??0)*e.factor,a=2*Math.PI,c=n.decay??1;if(r.enable){switch(n.status){case"increasing":n.value+=s,n.value>a&&(n.value-=a);break;case"decreasing":default:n.value-=s,n.value<0&&(n.value+=a);break}n.velocity&&c!==1&&(n.velocity*=c)}}class Cq{constructor(e){this.container=e}init(e){const n=e.options.rotate;if(!n)return;e.rotate={enable:n.animation.enable,value:he(n.value)*Math.PI/180},e.pathRotation=n.path;let i=n.direction;switch(i==="random"&&(i=Math.floor(Ze()*2)>0?"counter-clockwise":"clockwise"),i){case"counter-clockwise":case"counterClockwise":e.rotate.status="decreasing";break;case"clockwise":e.rotate.status="increasing";break}const r=n.animation;r.enable&&(e.rotate.decay=1-he(r.decay),e.rotate.velocity=he(r.speed)/360*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=Ze())),e.rotation=e.rotate.value}isEnabled(e){const n=e.options.rotate;return n?!e.destroyed&&!e.spawning&&n.animation.enable&&!n.path:!1}loadOptions(e,...n){e.rotate||(e.rotate=new Sq);for(const i of n)e.rotate.load(i==null?void 0:i.rotate)}update(e,n){var i;this.isEnabled(e)&&(kq(e,n),e.rotation=((i=e.rotate)==null?void 0:i.value)??0)}}async function Tq(t,e=!0){await t.addParticleUpdater("rotate",n=>new Cq(n),e)}const Eq=Math.sqrt(2);class Nq{draw(e,n,i){const r=i/Eq,s=r*2;e.rect(-r,-r,s,s)}getSidesCount(){return 4}}async function Aq(t,e=!0){await t.addShape(["edge","square"],new Nq,e)}class Pq{draw(e,n,i){const r=n.sides,s=n.starInset??2;e.moveTo(0,0-i);for(let a=0;a<r;a++)e.rotate(Math.PI/r),e.lineTo(0,0-i*s),e.rotate(Math.PI/r),e.lineTo(0,0-i)}getSidesCount(e){const n=e.shapeData;return Math.round(he((n==null?void 0:n.sides)??(n==null?void 0:n.nb_sides)??5))}particleInit(e,n){const i=n.shapeData,r=he((i==null?void 0:i.inset)??2);n.starInset=r}}async function Iq(t,e=!0){await t.addShape("star",new Pq,e)}function Up(t,e,n,i,r){if(!e||!n.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=t.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const s=Cn(n.offset),a=(e.velocity??0)*t.factor+s*3.6,c=e.decay??1;!r||e.status==="increasing"?(e.value+=a,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=a,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&c!==1&&(e.velocity*=c),e.value>i&&(e.value%=i)}function Rq(t,e){if(!t.strokeColor||!t.strokeAnimation)return;const{h:n,s:i,l:r}=t.strokeColor,{h:s,s:a,l:c}=t.strokeAnimation;n&&Up(e,n,s,360,!1),i&&Up(e,i,a,100,!0),r&&Up(e,r,c,100,!0)}class Mq{constructor(e){this.container=e}init(e){var a;const n=this.container,i=e.options,r=br(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=he(r.width)*n.retina.pixelRatio,e.strokeOpacity=he(r.opacity??1),e.strokeAnimation=(a=r.color)==null?void 0:a.animation;const s=Vl(r.color)??e.getFillColor();s&&(e.strokeColor=dC(s,e.strokeAnimation,n.retina.reduceFactor))}isEnabled(e){const n=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!n&&((i==null?void 0:i.h.value)!==void 0&&i.h.enable||(i==null?void 0:i.s.value)!==void 0&&i.s.enable||(i==null?void 0:i.l.value)!==void 0&&i.l.enable)}update(e,n){this.isEnabled(e)&&Rq(e,n)}}async function Oq(t,e=!0){await t.addParticleUpdater("strokeColor",n=>new Mq(n),e)}const Bu=["text","character","char"];class Dq{draw(e,n,i,r){const s=n.shapeData;if(s===void 0)return;const a=s.value;if(a===void 0)return;n.text===void 0&&(n.text=br(a,n.randomIndexData));const c=n.text,u=s.style??"",h=s.weight??"400",d=Math.round(i)*2,p=s.font??"Verdana",g=n.fill,y=c.length*i/2;e.font=`${u} ${h} ${d}px "${p}"`;const w={x:-y,y:i/2};e.globalAlpha=r,g?e.fillText(c,w.x,w.y):e.strokeText(c,w.x,w.y),e.globalAlpha=1}getSidesCount(){return 12}async init(e){const n=e.actualOptions;if(Bu.find(i=>xt(i,n.particles.shape.type))){const i=Bu.map(s=>n.particles.shape.options[s]).find(s=>!!s),r=[];jt(i,s=>{r.push(LW(s.font,s.weight))}),await Promise.all(r)}}particleInit(e,n){if(!n.shape||!Bu.includes(n.shape))return;const i=n.shapeData;if(i===void 0)return;const r=i.value;r!==void 0&&(n.text=br(r,n.randomIndexData))}}async function Lq(t,e=!0){await t.addShape(Bu,new Dq,e)}async function Fq(t,e=!0){lV(t),await KU(t,!1),await VV(t,!1),await $V(t,!1),await KV(t,!1),await iU(t,!1),await cU(t,!1),await hU(t,!1),await pU(t,!1),await yU(t,!1),await xU(t,!1),await kU(t,!1),await QU(t,!1),await nq(t,!1),await gq(t,!1),await jV(),await BU(t,!1),await GU(t,!1),await xq(t,!1),await Aq(t,!1),await Iq(t,!1),await Lq(t,!1),await $U(t,!1),await Tq(t,!1),await Oq(t,!1),await zV(t,e)}const zq="/assets/8th-B7ombfZP.png",jq="/assets/16th-C5xGT9OT.png",Bq="/assets/quarter-cT1_idnM.png",Wq="/assets/rest-B1ryDk1u.png",Vq="/assets/flat-DWxWiDVO.png",Uq="/assets/sharp-BHYR5PGx.png",qq=[zq,Uq,Bq,Vq,Wq,jq],$q=()=>{const t=G.useMemo(()=>({fullScreen:{enable:!0,zIndex:-1},particles:{move:{enable:!0,speed:{min:.2,max:1},direction:"top",random:!1,straight:!1,outModes:{default:"out",bottom:"none",top:"destroy"}},number:{value:20,limit:300},opacity:{value:.5,animation:{enable:!0,speed:.1,minimumValue:0,sync:!1,destroy:"min"}},size:{value:25,random:!0,animation:{enable:!0,speed:5,minimumValue:10,sync:!1}},shape:{type:["image","circle"],image:qq.map(s=>({src:s,width:100,height:100}))},color:{value:["#FF5733","#33FF57","#3357FF","#F3FF33","#FF33A6"]},emitters:{life:{count:0,duration:0},rate:{delay:0,quantity:0}}},interactivity:{events:{onHover:{enable:!0,mode:"bubble"},onClick:{enable:!0,mode:"push"}},modes:{bubble:{distance:200,size:40,duration:.4},push:{quantity:2,duration:.5}}}}),[]),e=G.useCallback(s=>Fq(s),[]),n=G.useRef(void 0),i=G.useCallback(async s=>{n.current=s},[]),r=G.useRef(new Set);return G.useEffect(()=>{const s=c=>{if(n.current&&!(c.ctrlKey||c.metaKey||c.shiftKey)&&!r.current.has(c.key)&&Zk.some(u=>u.natural==c.key||u.flat==c.key||u.sharp==c.key)){r.current.add(c.key);const u=n.current,h=u.canvas.size.height,d={clicking:!1,inside:!0,position:{x:Math.random()*u.canvas.size.width,y:h*1.05}};n.current.particles.push(Math.random()<.9?1:0,d)}},a=c=>{r.current.delete(c.key)};return window.addEventListener("keydown",s),window.addEventListener("keyup",a),()=>{window.removeEventListener("keydown",s),window.addEventListener("keyup",a)}},[]),_.jsx(bC,{id:"tsparticles",init:e,loaded:i,options:t})},Hq=({children:t})=>_.jsxs(_.Fragment,{children:[_.jsx($q,{}),t]}),Gq=()=>_.jsx(Hq,{children:_.jsxs(sy,{children:[_.jsx(ln,{path:"/",element:_.jsx(R1,{})}),_.jsx(ln,{path:"/home",element:_.jsx(R1,{})}),_.jsx(ln,{path:"/about",element:_.jsx(Lu,{children:_.jsx(w5,{})})}),_.jsx(ln,{path:"/projects",element:_.jsx(Lu,{children:_.jsx(C5,{projects:z5})})}),_.jsx(ln,{path:"/music",element:_.jsx(Lu,{children:_.jsx(k5,{music:_W})})})]})}),Yq="/assets/banner-BaPuMWoX.png",Kq="/assets/method-7_VEXjZa.png",Xq="/assets/raw-_DV8kHAm.png",Qq="/assets/contextual-DME0vOfu.png",Zq="/assets/metrics-byQ4wU7_.png",AC="/assets/og-BRIDdRQz.png",PC="/assets/og-BFHHYkcX.m4a",Jq="/assets/raw_raw-C9X9cVUr.png",e9="/assets/raw_raw-CW5YIdgt.m4a",IC="/assets/ctx_raw-C5RZEOyT.png",RC="/assets/ctx_raw-BU47EfZy.m4a",t9="/assets/ctx_hint-DQf-Ywj2.png",n9="/assets/ctx_hint-DU_oVWOZ.m4a",i9="/assets/bm_og-B4bu4cVT.png",r9="/assets/bm_ctxraw-DO6imuip.png",s9="/assets/bm_ctxctx-CDvXRqD7.png",o9="/assets/bmog-D26hFDk-.m4a",a9="/assets/bmcraw-DEJOAtXP.m4a",l9="/assets/bmcctx-NqWzQ_kP.m4a",c9="/assets/schu_gt-CzblJFa7.png",u9="/assets/schu_gt-C2zF1nA9.m4a",h9="/assets/schu_aligned-DHA8I9U2.png",f9="/assets/schu_aligned-DZjKQk51.m4a",d9="/assets/schu_pred-DS1HZyqw.png",p9="/assets/schu_pred-DMHSVimO.m4a",X1=({children:t,...e})=>_.jsx("button",{...e,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 flex items-center gap-2",children:t}),Su=({imageSrc:t,audioSrc:e,title:n,brief:i})=>_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("p",{children:n}),_.jsx("img",{src:t,alt:n,className:"w-full h-48 object-cover rounded-lg mb-4"}),_.jsx("audio",{controls:!0,src:e,className:"w-full",children:"Your browser does not support the audio element."}),_.jsx("br",{}),_.jsx("p",{className:"text-sm font-semibold mb-2",children:i}),_.jsx("br",{})]}),m9=[{imageSrc:AC,audioSrc:PC,title:"Ground Truth",brief:"This audio file is synthesized from a MIDI conversion of Vladimir Ashkenazy's performance using Logic Pro's Steinway Grand Piano. The MIDI file is obtained from the ATEPP dataset. The velocity information will be either completely removed or partially masked for model prediction."},{imageSrc:Jq,audioSrc:e9,title:"Naive generation strategy",brief:"In this case, the model predicts the key striking velocity using timing and pitch information only. Due to disconnections between chunks and the lack of multi-trial predictions, the generated MIDI performance lacks musical coherance. Several sudden loud notes interrupt the flow."},{imageSrc:IC,audioSrc:RC,title:"Multi-trial prediction w/ overlapping",brief:"By using only the timing and pitch information, this mode of prediction demonstrates much more dynamic coherence compared to the previous example, even just by observing the distribution of color in the two pictures. "}],g9=[{imageSrc:AC,audioSrc:PC,title:"Ground Truth",brief:"This is the same as the previous ground truth example."},{imageSrc:IC,audioSrc:RC,title:"Prediction without hints",brief:"This is the same as the previous 'multi-trial prediction w/ overlapping' example. This example mirrors the use of several common piano performance strategies, such as voicing the top melody line and tone color change. However, there are occasional sudden loud notes, and the performance does not strictly follow the dynamic markings in the score due to lack of further information."},{imageSrc:t9,audioSrc:n9,title:"Prediction with hints (90% masked)",brief:"Compared to the previous generation, this performance follows the ground truth dynamic significantly better with only ~10% randomly hinted velocity information (15/198 velocity tokens), while also demonstrating the application of common piano performance strategies. However, there are still occasional out-of-context velocity choices."}],y9=[{imageSrc:i9,audioSrc:o9,title:"Ground Truth",brief:"This performance is by Andrs Schiff from the ATEPP dataset. This piece is chosen to demonstrate the model's capability for rendering countrapuntal Baroque compositions. There are occasional transcription errors in the MIDI file."},{imageSrc:r9,audioSrc:a9,title:"Prediction without hints",brief:"Although the generated performance constantly voices the top main melody line, the left hand part largely remains unobtrusive. There are also signs of common piano performance strategies, such as the diminuendo at the final cadence."},{imageSrc:s9,audioSrc:l9,title:"Prediction with hints (90% masked)",brief:"Despite the 10% velocity hint, the performance does not consistently emphasize important motifs or keep the balance between voices. However, the model seems to be picking up voicing patterns in the original performance. For example, starting from 0:56, the echoes and responses between left and right are illustrated through similar voicings and dynamics. This is not observed in the previous example. Other examples include: 0:02 (GF#G), 0:36 (AG#A) 1:19 (EC#A#B)"}],v9=[{imageSrc:c9,audioSrc:u9,title:"Ground Truth",brief:_.jsxs(_.Fragment,{children:["This is a performance excerpt from Schubert's Impromptu in Gb Major created by the author. The MIDI file contains only the main melody line. The model is then expected to reconstruct the full expressive performance with the help of an"," ",_.jsx("a",{href:"https://midialignment.github.io/demo.html",target:"_blank",rel:"noopener noreferrer",style:{color:"#7e83f8"},children:"offline symbolic music alignment tool"}),"."]})},{imageSrc:h9,audioSrc:f9,title:"Aligned Performance",brief:"By extending the alignment algorithm, one can create an aligned MIDI performance, where all missing notes are filled up with dummy velocity choices. It is worth noting that the onsets of the aligned MIDI events are calculated using simple linear interpolation, which is not the optimal strategy."},{imageSrc:d9,audioSrc:p9,title:"Predicted Performance",brief:"With the aligned performance, the model replaces the dummy velocity tokens to create a fully expressive rendition. Despite occasional inconsistencies, signs of common performance strategies can be found, such as balancing between the melody and 'filling passages', emphasizing bass line, and adding crescendos and diminuendos according to the melody line. "}];function _9(){return _.jsx("div",{className:"min-h-screen bg-white",children:_.jsx("main",{className:"container mx-auto px-4 py-8",children:_.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[_.jsxs("div",{className:"text-center space-y-6",children:[_.jsx("h1",{className:"text-4xl md:text-5xl font-bold pb-3",children:"Masked Expressiveness"}),_.jsx("span",{className:"text-4xl md:text-3xl tracking-tight",style:{color:"black"},children:"Conditioned Generation of Piano Key Striking Velocity Through Masked Language Modeling"}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("p",{className:"text-lg text-blue-600",children:_.jsxs("a",{href:"https://github.com/lynnzYe",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:["Linzan Ye",_.jsx("sup",{children:"*"})]})}),_.jsx("p",{className:"text-lg",style:{color:"black"},children:"University of Rochester"}),_.jsxs("p",{className:"text-lg font-medium",children:[_.jsx("a",{href:"http://icamcce.org/",children:"AMCCE"})," 2024"]})]}),_.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[_.jsxs(X1,{disabled:!0,children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:_.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),"Paper coming soon"]}),_.jsx("a",{href:"https://github.com/lynnzYe/MaskedExpressiveness",target:"_blank",rel:"noopener noreferrer",children:_.jsxs(X1,{children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:_.jsx("path",{fillRule:"evenodd",d:"M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Code"]})})]})]}),_.jsx("div",{className:"border rounded-lg overflow-hidden",children:_.jsx("img",{src:Yq,alt:"Project banner",className:"w-full h-[400px] object-cover"})}),_.jsxs("section",{className:"prose prose-gray max-w-none",children:[_.jsx("h2",{className:"text-2xl font-bold pb-1",children:"Abstract"}),_.jsx("p",{className:"text-gray-600",children:"Creating and listening to expressive renderings of composed musical pieces are two fundamental ways of how we express and experience music. Many studies delved into building computational models of musical expressiveness for a better understanding of its nature as well as possible downstream applications. This paper seeks to model expressiveness through a novel approach that is similar to the way pianists plan and execute their expressive intentions: conditionally generating the piano key striking velocity, a key parameter contributing to expressiveness, through masked language modeling with vanilla BERT. The result reveals that the model is capable of predicting velocity events conditioned on the surrounding context within an acceptable margin of error, as well as generating more musically convincing velocity events on unseen MIDIs though sequential masking and prediction. Such an approach can be useful for a series of tasks, including helping us build more advanced piano conducting or accompaniment systems and understand expressiveness through the conditioned generation."})]}),_.jsxs("section",{className:"prose prose-gray max-w-none",children:[_.jsx("h2",{className:"text-2xl font-bold pb-3",children:"Method"}),_.jsx("h3",{className:"text-1xl font-bold pb-1",children:"Model Architecture"}),_.jsx("img",{src:Kq,alt:"Method",className:"w-full h-full object-cover"}),_.jsx("p",{className:"text-gray-600",children:"The project uses a vanilla BERT model for masked language modeling. Although the primary task is to predict velocity tokens, masking all types of tokens prevents significant mode collapse."}),_.jsx("br",{}),_.jsx("h3",{className:"text-1xl font-bold pb-1",children:"Generation"}),_.jsx("p",{className:"text-gray-600",children:"To generate a complete expressive performance, the model needs to be adapted due to the limited input size. A nave approach involves breaking an input sequence into non-overlapping chunks and ask the model to replace velocity mask tokens with predicted tokens."}),_.jsx("img",{src:Xq,alt:"Raw",className:"w-full h-full object-cover p-3"}),_.jsx("p",{className:"text-gray-600",children:'However, because the information from other chunks is not available, nor does the surrounding velocity information (they get predicted all at once), the model can hardly reconstruct a musically coherent performances. A solution to this is by "multi-trial prediction with overlapping chunks", meaning that the input sequence is divided into overlapping segments, and the model only replaces a small proportion of the velocity mask tokens at a time. After multiple rounds of predictions, all velocity mask tokens will be eventually replaced.'}),_.jsx("img",{src:Qq,alt:"Contextual",className:"w-full h-full object-cover p-3"}),_.jsx("p",{className:"text-gray-600",children:"The demo section below provides an example to illustrate the difference between the two modes of generation."})]}),_.jsxs("section",{className:"prose prose-gray max-w-none",children:[_.jsx("h2",{className:"text-2xl font-bold pb-3",children:"Metrics"}),_.jsx("img",{src:Zq,alt:"Metrics",className:"object-cover p-4"}),_.jsx("p",{children:"Please refer to the paper for more details."})]}),_.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Demo"}),_.jsx("p",{className:"text-gray-600",children:"The demos below will contain a screenshot of the MIDI events (small colored rectangles) and a synthesized audio file using Logic Pro's Steinway Grand Piano sound. The color of the rectangles illustrates the intensity of key striking velocity for each MIDI event (brighter the harder)."}),_.jsxs("section",{children:[_.jsx("h3",{className:"text-2lg font-bold mb-4",children:"Generation Without Velocity Information: Rachnmaninoff - Variations on a Theme of Chopin - Theme"}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:m9.map((t,e)=>_.jsx("div",{className:"min-w-[300px]",children:_.jsx(Su,{...t})},e))}),_.jsx("p",{children:"[Notice]: Due to the poor performance using the naive generation strategy, the following demo will only contain pieces generated through multi-trial prediction with overlapping chunks."})]}),_.jsxs("section",{children:[_.jsx("h3",{className:"text-2lg font-bold mb-4",children:"Hinted Reconstruction: Rachnmaninoff - Variations on a Theme of Chopin - Theme"}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:g9.map((t,e)=>_.jsx("div",{className:"min-w-[300px]",children:_.jsx(Su,{...t})},e))})]}),_.jsxs("section",{children:[_.jsx("h3",{className:"text-2lg font-bold mb-4",children:"Hinted Reconstruction: Bach - French Suite No.3 - Allemande"}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:y9.map((t,e)=>_.jsx("div",{className:"min-w-[300px]",children:_.jsx(Su,{...t})},e))})]}),_.jsxs("section",{children:[_.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Interactive Demo"}),_.jsx("h3",{className:"text-2lg font-bold mb-4",children:"Schubert Op.90 No.3 - Impromptu in Gb Major"}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:v9.map((t,e)=>_.jsx("div",{className:"min-w-[300px]",children:_.jsx(Su,{...t})},e))})]}),_.jsxs("p",{children:["For interested readers, the code for interactive demo is available in the","  ",_.jsx("a",{href:"https://github.com/lynnzYe/MaskedExpressiveness",target:"_blank",rel:"noopener noreferrer",style:{color:"#7e83f8"},children:"github repository"}),". ",_.jsx("br",{}),_.jsx("br",{}),"Users are expected to provide a partial MIDI performance and the corresponding musical score (in xml format). If the score is too complex to be aligned, you may instead provide a MIDI version of the score, which usually results in more accurate alignment result given that the performed MIDI is an incomplete fraction of the score."]})]})})})}function MC(){return _.jsxs(Lu,{children:[_.jsx(uc,{title:"404 Not Found"}),_.jsx("div",{className:"info",children:_.jsx("span",{children:"Oops, this website does not exist."})})]})}const w9="/assets/banner-DNA2kxEC.png",x9="/assets/base-JF03zhUo.png",b9="/assets/strat-C8RDcEU0.png",S9="/assets/freq-oD7rx8E2.png",k9="/assets/demo-U9_LS62C.png",Q1=({children:t,...e})=>_.jsx("button",{...e,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 flex items-center gap-2",children:t});function C9(){return _.jsx("div",{className:"min-h-screen bg-white",children:_.jsx("main",{className:"container mx-auto px-4 py-8",children:_.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[_.jsxs("div",{className:"text-center space-y-6",children:[_.jsx("h1",{className:"text-4xl md:text-5xl font-bold pb-3",children:"Chord Sense"}),_.jsx("span",{className:"text-4xl md:text-3xl tracking-tight",style:{color:"black"},children:"Enhancing Stylistic Chord Progression Generation with Fine-tuned Transformers"}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("p",{className:"text-lg text-blue-600",children:_.jsxs("a",{href:"https://github.com/lynnzYe",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:["Linzan Ye",_.jsx("sup",{children:"*"})]})}),_.jsx("p",{className:"text-lg",style:{color:"black"},children:"University of Rochester"}),_.jsxs("p",{className:"text-lg font-medium",children:[_.jsx("a",{href:"https://www.confcds.org/",children:"CONF-CDS"})," 2024"]})]}),_.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[_.jsx("a",{href:"https://www.ewadirect.com/proceedings/ace/article/view/14250",target:"_blank",rel:"noopener noreferrer",children:_.jsxs(Q1,{disabled:!1,children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:_.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),"Paper"]})}),_.jsx("a",{href:"https://github.com/lynnzYe/chordsense",target:"_blank",rel:"noopener noreferrer",children:_.jsxs(Q1,{children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:_.jsx("path",{fillRule:"evenodd",d:"M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Code"]})})]})]}),_.jsx("div",{className:"border rounded-lg overflow-hidden",children:_.jsx("img",{src:w9,alt:"Project banner",className:"w-full object-cover"})}),_.jsxs("section",{className:"prose prose-gray max-w-none",children:[_.jsx("h2",{className:"text-2xl font-bold pb-1",children:"Abstract"}),_.jsx("p",{className:"text-gray-600",children:"Chord Progressions (CP) constitute a fundamental element within musical compositions. Skillful application of harmonies can captivate audiences through the colors and emotions they elicit. While existing research has predominantly focused on generating stylistically coherent CPs and accompaniments, relatively few studies have delved into the optimization of generating specific CPs of interest across diverse harmonic contexts. On this basis, this study aims to address this gap by fine-tuning a foundational CP model using datasets generated through three distinct strategies. Subsequently, the performances of the strategies are compared using both existing and novel evaluation metrics. According to the analysis, the results reveal that the model fine-tuned using the third strategy demonstrates proficiency in producing the target CPs across diverse contexts and modes of generation in a musically coherent manner. This approach opens up avenues for creative learning and sharing of stylistic chord progressions through exchanging customized fine-tuned chord models."})]}),_.jsxs("section",{className:"prose prose-gray max-w-none",children:[_.jsx("h2",{className:"text-2xl font-bold pb-3",children:"Method"}),_.jsxs("p",{className:"text-gray-600 pb-6",children:["This study uses the vanilla Generative Pre-trained Transformers(GPT), based on Karpathy's"," ",_.jsx("a",{href:"https://github.com/karpathy/nanoGPT",rel:"noopener noreferrer",style:{color:"#7e83f8"},children:"nanoGPT"}),". The main purpose of this study is to compare three types of data augmentation strategies for fine-tuning decoder-only transformers for the task of Harte-style chord generation."]}),_.jsx("h3",{className:"text-2lg font-bold pb-3",children:"Data Augmentation Strategies"}),_.jsxs("ol",{className:"list-decimal pl-5",children:[_.jsxs("li",{children:[_.jsx("u",{children:"Raw sequence"}),": the given CP is transposed to 18 equivalent keys, serving as the baseline approach."]}),_.jsxs("li",{children:[_.jsx("u",{children:"Increasing context"}),": Starting from the given CP of interest, sequences are created with progressively more chord symbols preceding the target CP (A, BA, CBA, ). These sequences are then transposed to 18 equivalent keys."]}),_.jsxs("li",{children:[_.jsx("u",{children:"Generated context"}),": Leveraging another chord model trained on sequences of reversed chord symbols, the study generates the fine-tuning dataset by recursively sampling along possible generation paths to reach the given CP. The generated chord sequences are then transposed to 18 equivalent keys."]})]})]}),_.jsxs("section",{className:"prose prose-gray max-w-none",children:[_.jsx("h2",{className:"text-2xl font-bold pb-3",children:"Metrics"}),_.jsx("img",{src:x9,alt:"Metrics - base",className:"object-cover pb-4"}),_.jsx("img",{src:b9,alt:"Metrics - strats",className:"object-cover pb-7"}),_.jsxs("p",{className:"text-gray-600 pb-4",children:['To evaluate how consistently the fine-tuned model guides user towards the target CP, the study designs a mode of prediction which simulates how users might interact with the model, named "joint generation ". ',_.jsx("br",{}),_.jsx("br",{}),"In this mode, both the foundation model and the fine-tuned model will generate tokens simultaneously from an initial [eos] token. Kullback-Leibler (KL) divergence is calculated between the two output distributions. If the divergence exceeds a predefined threshold, the token generated by the fine-tuned model is selected. Otherwise, the token from the foundation model is appended to the token sequences as context for next-token prediction.",_.jsx("br",{}),_.jsx("br",{}),"In figure 4, CP 6, 7, and 8 together represents the target stylistic CP."]}),_.jsx("img",{src:S9,alt:"Metrics - freq",className:"object-cover p-4"})]}),_.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Demo"}),_.jsxs("p",{className:"text-gray-600",children:["A text-based interactive demo is provided in the"," ",_.jsx("a",{href:"https://github.com/lynnzYe/ChordSense",target:"_blank",rel:"noopener noreferrer",style:{color:"#7e83f8"},children:"github repository"}),". The following screenshot provides a glimpse of how it operates."]}),_.jsx("img",{src:k9,alt:"TUI demo",className:"object-cover p-4"})]})})})}const T9="/assets/et-Bh7lyGsc.png",E9="/assets/et-CLMKmykP.m4a";function N9(){return _.jsx("div",{className:"min-h-screen bg-white",children:_.jsx("main",{className:"container mx-auto px-4 py-8",children:_.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[_.jsxs("div",{className:"text-center space-y-6",children:[_.jsx("h1",{className:"text-4xl md:text-5xl font-bold pb-3",children:"Extraterrestrial Visitor"}),_.jsxs("div",{className:"space-y-2",children:[_.jsxs("p",{className:"text-lg text-blue-600",children:[_.jsxs("a",{href:"https://github.com/lynnzYe",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:["Lynn Ye",_.jsx("sup",{children:"*"})]}),_.jsxs("a",{href:"https://github.com/zztitin",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:[", Tinke Zhang",_.jsx("sup",{children:"*"})]})]}),_.jsxs("p",{className:"text-sm text-gray-500",children:[_.jsx("sup",{children:"*"}),"Indicates Equal Contribution"]})]})]}),_.jsx("div",{className:"border rounded-lg overflow-hidden",children:_.jsx("img",{src:T9,alt:"Project banner",className:"w-full h-[400px] object-cover"})}),_.jsx("audio",{controls:!0,src:E9,className:"w-full",children:"Your browser does not support the audio element."}),_.jsxs("section",{className:"prose prose-gray max-w-none",children:[_.jsx("h2",{className:"text-2xl font-bold pb-1",children:"Rationale"}),_.jsxs("p",{className:"text-gray-600",children:["In this project, we experimented with microtonal algorithmic composition using ","  ",_.jsx("a",{style:{color:"blue"},href:"https://sourceforge.net/projects/nyquist/",children:"Nyquist"}),'. Inspired by the occasional tonal interval produced by two ascending and descending frequency sound waves, we wrote algorithms to search for these "tonal" moments.',_.jsx("br",{}),_.jsx("br",{}),"In the first half of the spectrogram, two bright lines can be observed ascending or descending. When the frequencies of these lines form a tonal interval, they are held steady briefly before continuing to ascend or descend, resulting in the zigzag-like patterns. In this way, we expect that the music will sound like gradually alternating between tonal and microtonal intervals. To strengthen the consonant feelings during those intervals, we added additional frequencies that form harmonies together. The latter half of the piece is treated similarly, except that the two lines cross each other in the middle, and different instrumentations are used.",_.jsx("br",{}),_.jsx("br",{}),'The serene middle section contrasts with the chaotic, movement-filled section before it. This part is created using a different algorithm. It takes in two parameters: a list of pitches and the degree of semitone shift. After generating all the chords in this section through this algorithm, the chords are connected through smooth frequency transitions. This section explores how minor semitone shifts affect tradition tonal harmonies. For example, it can create a progression similar to "I - ii+++ - ii++ - ii+ - ii - V - I" (at 1:06), inspired by'," ",_.jsx("a",{style:{color:"blue"},href:"https://www.youtube.com/watch?v=l9wINwlgxRU&t=55s&ab_channel=Sevish&start=55",children:"Sevish's Gleam"}),".",_.jsx("br",{}),_.jsx("br",{}),"As a symbol for the magical quality of this microtonal composition, we incorporated the famous ",_.jsx("i",{children:"Hedwig's theme"})," from ",_.jsx("i",{children:"Harry Potter"})," film series. This theme serves as the introduction, a recurring motif, and the coda, creating a symmetrical structure throughout the piece. This symmetry reflects the ordered nature of this algorithmic composition, providing a sense of balance amidst its complexities."]})]})]})})})}const A9="/assets/pico-atQXsqkd.webp",P9=({children:t,...e})=>_.jsx("button",{...e,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 flex items-center gap-2",children:t});function I9(){return _.jsx("div",{className:"min-h-screen bg-white",children:_.jsx("main",{className:"container mx-auto px-4 py-8",children:_.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[_.jsxs("div",{className:"text-center space-y-6",children:[_.jsx("h1",{className:"text-4xl md:text-5xl font-bold pb-3",children:"Piano Conductor"}),_.jsx("div",{className:"space-y-2",children:_.jsxs("p",{className:"text-lg ",children:["by"," ",_.jsx("a",{href:"https://github.com/lynnzYe",target:"_blank",rel:"noopener noreferrer",className:"hover:underline text-blue-600",children:"Linzan Ye"})]})}),_.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:_.jsx("a",{href:"https://github.com/lynnzYe/PiCo",target:"_blank",rel:"noopener noreferrer",children:_.jsxs(P9,{children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:_.jsx("path",{fillRule:"evenodd",d:"M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Code"]})})})]}),_.jsx("div",{className:"flex justify-center items-center rounded-lg",children:_.jsx("img",{src:A9,alt:"Project banner",className:" h-[300px] object-cover"})}),_.jsxs("section",{className:"prose prose-gray max-w-none",children:[_.jsx("h2",{className:"text-2xl font-bold pb-1",children:"Background"}),_.jsx("p",{className:"text-gray-600",children:'The ideas of "air instruments" (e.g. air guitar) and conducting systems are not new. Many projects have explored this idea, such as Guitar Hero, Piano Genie, Radio Baton, and others. I want to take this further and create an "air piano". I envision a future where the technical challenges of piano playing becomes less of a barrier for both amateurs and professionals to express their interpretations of musical compositions. Instead of having users to manipulate all the expressive parameters at once, which can be overwhelming, why not have AI infer the appropriate expressive parameters from the main contour that users provide?'})]}),_.jsxs("section",{className:"prose prose-gray max-w-none",children:[_.jsx("h2",{className:"text-2xl font-bold pb-5",children:"Proof-of-Concept Interactive Demo"}),_.jsx("h2",{className:"text-1xl font-bold pb-5",children:"Demo - Let's perform with Horowitz!"}),_.jsx("div",{className:"flex justify-center items-center rounded-lg pb-5",children:_.jsx("div",{style:{position:"relative",paddingBottom:"56.25%",height:0,width:"100%"},children:_.jsx("iframe",{src:"https://youtube.com/embed/Z_S5JFsfhEQ",title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"0.5rem"}})})}),_.jsx("blockquote",{className:"text-gray-600 text-sm pb-5",children:"- Opening excerpt from Schubert's Op. 90 No. 3"}),_.jsxs("p",{className:"text-gray-600 pb-10",children:[`In the above demo, the Conducting system loads a Horowitz's performance of Schubert's Gb Impromptu. The user is then expected to tap the main melody line while Horowitz "accompanies" you based on your performed tempo.`,_.jsx("br",{}),_.jsx("br",{}),_.jsx("h3",{className:"text-1xl font-bold",children:"Features"}),_.jsx("br",{}),_.jsxs("ul",{className:"list-decimal pl-5",children:[_.jsxs("li",{className:"pb-2",children:[_.jsx("u",{children:"Play by Tapping"}),": You only need to control the timing and MIDI velocity by tapping any keys on a MIDI keyboard -"," ",_.jsxs("b",{children:[" ","no need to worry about hitting wrong notes or learning a notated score!"]})]}),_.jsxs("li",{className:"pb-2",children:[_.jsx("u",{children:"Adaptive BPM/velocity Prediction"}),": The system can"," ",_.jsx("b",{children:"automatically adjust"})," the tempo and MIDI velocity according to your performance, ",_.jsx("b",{children:"in real-time"}),"."]}),_.jsxs("li",{className:"pb-2",children:[_.jsx("u",{children:"Learning from Rehearsal Data"}),": You can use your"," ",_.jsx("b",{children:"past performance as a hint"})," for the system to more accurately predict your tempo."]})]}),_.jsx("br",{}),_.jsx("br",{})]}),_.jsx("h2",{className:"text-1xl font-bold pb-5",children:"Demo - Let's play a melody by tapping!"}),_.jsx("div",{className:"flex justify-center items-center rounded-lg pb-5",children:_.jsx("div",{style:{position:"relative",paddingBottom:"56.25%",height:0,width:"100%"},children:_.jsx("iframe",{src:"https://www.youtube.com/embed/yefvGfXLf6c",title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"0.5rem"}})})}),_.jsx("blockquote",{className:"text-gray-600 text-sm pb-5",children:"- Opening melody excerpt from Schubert's Op. 142 No. 3"}),_.jsxs("p",{className:"text-gray-600 pb-5",children:["The code for interactive demo is provided in the github repo. Given a predetermined note sequence, the program synthesizes a performance based on the onset, offset, and velocity information provided by the user through a MIDI device. Users only need to know the rhythm, and then tap accordingly to produce the performance.",_.jsx("br",{}),_.jsx("br",{}),"The goal is to enable users to expressively perform a piece without spending hours learning it. Currently, the demo requires users to perform on MIDI keyboards, but designing pressure-sensitive desks or gloves to capture touch signals could eventually allow users to play anywhere, anytime, with reduced risk of accidentally triggering other notes during a performance."]}),_.jsxs("p",{className:"text-gray-600",children:["While the current demo only utilizes simple interpolations for velocity and timing decisions, it could be enhanced with an automatic expressive accompaniment system to create a full, expressive performance.",_.jsx("br",{}),_.jsx("br",{}),"One of my other projects,"," ",_.jsx("a",{href:"https://lynnzye.github.io/#/proj/maskexp",target:"_blank",style:{color:"#7e83f8"},rel:"noopener noreferrer",className:"hover:underline",children:"Masked Expressiveness"}),", worked on adding expressiveness based on user input signals.",_.jsx("br",{}),_.jsx("br",{}),"I envision creating the ultimate version of Piano Conductor, allowing users to artfully perform pieces like Chopin's Nocturnes with nuanced rubatos and voicings just by tapping, anywhere and anytimeand apply performance style transfers from friends or legendary pianists.",_.jsx("br",{}),_.jsx("br",{}),"With the fully realized Piano Conductor, users would have the freedom to focus deeply on shaping their musical interpretations and bringing them to life in real time, instead of bothering about the technical hurdles during performance."]})]})]})})})}const R9="/assets/rhymatcher-BU221E6i.jpg",M9=({children:t,...e})=>_.jsx("button",{...e,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 flex items-center gap-2",children:t});function O9(){return _.jsx("div",{className:"min-h-screen bg-white",children:_.jsx("main",{className:"container mx-auto px-4 py-8",children:_.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[_.jsxs("div",{className:"text-center space-y-6",children:[_.jsx("h1",{className:"text-4xl md:text-5xl font-bold pb-3",children:"Rhythmic Matcher"}),_.jsxs("span",{className:"text-4xl md:text-3xl tracking-tight pb-5",style:{color:"black"},children:["...is an ",_.jsx("i",{children:"intuitive transcriber"}),"...",_.jsx("br",{})," (in progress)"]}),_.jsx("div",{className:"space-y-2",children:_.jsxs("p",{className:"text-lg ",children:["by"," ",_.jsx("a",{href:"https://github.com/lynnzYe",target:"_blank",rel:"noopener noreferrer",className:"hover:underline text-blue-600",children:"Linzan Ye"})]})}),_.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:_.jsx("a",{href:"https://github.com/lynnzYe/RhythmicMatch",target:"_blank",rel:"noopener noreferrer",children:_.jsxs(M9,{children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:_.jsx("path",{fillRule:"evenodd",d:"M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Code"]})})})]}),_.jsx("div",{className:"flex justify-center items-center rounded-lg",children:_.jsx("img",{src:R9,alt:"Project banner",className:" h-[300px] object-cover"})}),_.jsxs("section",{className:"prose prose-gray max-w-none",children:[_.jsx("h2",{className:"text-2xl font-bold pb-5",children:"Matching touch signals to a musical score"}),_.jsxs("p",{className:"text-gray-600",children:["I once thought this rhythmic matcher was unnecessary--until I struggled with adding musical scores to my Piano Conductor system, and I realized that this highlighted a common challenge in music creation: capturing and sharing abstract music ideas. ",_.jsx("br",{}),_.jsx("br",{}),"Many of us may be familiar with a song's melody or rhythm, but writing it down usually requires the use of abstract symbols (like key/time signatures, quarter notes, etc.). This process can be slow and unintuitive, compared to how naturally these rhythms and melodies feel when we think of them or hum along. ",_.jsx("br",{}),_.jsx("br",{}),"..wait, there's a natural way to feel or show them? You got it. That's the idea behind this project, but here instead of singing it out, we tap it out. This project aligns tap signals to elements in a musical score. ",_.jsx("br",{}),_.jsx("br",{}),"Offline alignment are usually more accurate than online tracking."," ",_.jsx("br",{}),_.jsx("br",{}),"But there are also benefits doing online tracking! Take a guess if you wish."]})]})]})})})}const D9=()=>_.jsxs(sy,{children:[_.jsx(ln,{path:"/",element:_.jsx(MC,{})}),_.jsx(ln,{path:"rhymatcher",element:_.jsx(O9,{})}),_.jsx(ln,{path:"maskexp",element:_.jsx(_9,{})}),_.jsx(ln,{path:"chordsense",element:_.jsx(C9,{})}),_.jsx(ln,{path:"pico",element:_.jsx(I9,{})}),_.jsx(ln,{path:"etvisitor",element:_.jsx(N9,{})})]});function L9(){return _.jsx(FD,{basename:"/",children:_.jsxs(sy,{children:[_.jsx(ln,{path:"/*",element:_.jsx(Gq,{})}),_.jsx(ln,{path:"/proj/*",element:_.jsx(D9,{})}),_.jsx(ln,{path:"*",element:_.jsx(MC,{})})]})})}hS(document.getElementById("root")).render(_.jsx(G.StrictMode,{children:_.jsx(L9,{})}));
